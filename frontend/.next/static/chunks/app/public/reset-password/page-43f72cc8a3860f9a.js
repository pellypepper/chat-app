(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{8535:(e,s,t)=>{Promise.resolve().then(t.bind(t,9251))},9251:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>h});var r=t(5155),a=t(2115),o=t(5695),l=t(4500),n=t(8987),i=t(184),d=t(3548),c=t(5437),u=t(2827),m=t(5889);function x(){let[e,s]=(0,a.useState)(""),[t,x]=(0,a.useState)(""),[b,h]=(0,a.useState)(!1),[w,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)({}),[j,y]=(0,a.useState)(!1),[v,N]=(0,a.useState)(0),[P,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),A=(0,o.useSearchParams)(),D=A.get("token")||"",_=A.get("email")||"",E=(0,o.useRouter)(),{resetPassword:T}=(0,c.K)(),O=()=>{let s={},r=d.cL.filter(s=>s.test(e)).length;return e?r<4&&(s.newPassword="Password does not meet requirements"):s.newPassword="Password is required",t?e!==t&&(s.confirmPassword="Passwords do not match"):s.confirmPassword="Please confirm your password",g(s),0===Object.keys(s).length},R=()=>{s(""),x(""),h(!1),p(!1),g({}),y(!1),N(0),k(!1),S(!1)},q=async s=>{if(s.preventDefault(),O()){y(!0),N(0);try{await T({token:D,newPassword:e,email:_}),y(!1),k(!0),setTimeout(()=>{y(!1),k(!0),E.push("/public/signin"),R()},3e3)}catch(e){console.error("Password reset error:",e),y(!1),N(0),S(!0),g({newPassword:"Failed to reset password. Try again."})}}};return(0,a.useEffect)(()=>{t&&e!==t?g(e=>({...e,confirmPassword:"Passwords do not match"})):g(e=>{let s={...e};return delete s.confirmPassword,s})},[e,t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-2xl max-w-md w-full relative animate-in fade-in-0 zoom-in-95 duration-300",children:[(0,r.jsx)("button",{onClick:R,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors p-1 rounded-full hover:bg-gray-800",children:(0,r.jsx)(l.A,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"text-center p-8 pb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl",children:"\uD83D\uDD11"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-2",children:"Reset Your Password"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Create a new secure password for your account"})]}),j?(0,r.jsxs)("div",{className:"px-8 pb-8",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 border-3 border-gray-700 border-t-blue-500 rounded-full animate-spin"}),(0,r.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Updating Password..."}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Please wait while we update your password"})]}),(0,r.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-1 overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300 ease-out",style:{width:"".concat(v,"%")}})})]}):(0,r.jsxs)("form",{onSubmit:q,className:"px-8 pb-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:b?"text":"password",value:e,onChange:e=>s(e.target.value),className:"w-full bg-gray-800 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat(f.newPassword?"border-red-500":"border-gray-600 focus:border-blue-500"),placeholder:"Enter new password"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:b?(0,r.jsx)(n.A,{className:"h-5 w-5"}):(0,r.jsx)(i.A,{className:"h-5 w-5"})})]}),f.newPassword&&(0,r.jsx)("p",{className:"text-red-400 text-xs mt-1",children:f.newPassword}),(0,r.jsx)(d.Ay,{password:e})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:w?"text":"password",value:t,onChange:e=>x(e.target.value),className:"w-full bg-gray-800 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors ".concat(f.confirmPassword?"border-red-500":t&&e===t?"border-green-500":"border-gray-600 focus:border-blue-500"),placeholder:"Confirm new password"}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!w),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:w?(0,r.jsx)(n.A,{className:"h-5 w-5"}):(0,r.jsx)(i.A,{className:"h-5 w-5"})})]}),f.confirmPassword&&(0,r.jsx)("p",{className:"text-red-400 text-xs mt-1",children:f.confirmPassword})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{type:"button",onClick:R,className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all transform hover:-translate-y-0.5 hover:shadow-lg hover:shadow-blue-500/25",children:"Reset Password"})]})]})]})}),P&&(0,r.jsx)(u.A,{showContinueButton:!0,message:"Your password has been rest successuly, redirecting to Signin page.",handleTimeout:()=>k(!1),url:"/withNavpages/signin"}),C&&(0,r.jsx)(m.A,{handleTimeout:()=>S(!1),message:"unable to reset your password ."})]})}var b=t(9492);function h(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:(0,r.jsx)(b.H5,{})}),children:(0,r.jsx)(x,{})})}},9492:(e,s,t)=>{"use strict";t.d(s,{H5:()=>a});var r=t(5155);let a=e=>{let{size:s="md",className:t=""}=e;return(0,r.jsxs)("div",{className:"relative ".concat({sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[s]," ").concat(t),children:[(0,r.jsx)("div",{className:"absolute inset-0 border-2 border-transparent border-t-[#58a6ff] rounded-full animate-spin"}),(0,r.jsx)("div",{className:"absolute top-1 left-1 right-1 bottom-1 border-2 border-transparent border-t-[#a855f7] rounded-full animate-spin-reverse",style:{animationDuration:"1.5s"}}),(0,r.jsx)("div",{className:"absolute top-2 left-2 right-2 bottom-2 border-2 border-transparent border-t-[#f97316] rounded-full animate-spin",style:{animationDuration:"2s"}})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[655,694,441,684,358],()=>s(8535)),_N_E=e.O()}]);