(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{2827:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155),a=r(5695),l=r(2115);let n=e=>{let{message:t,showContinueButton:r,handleTimeout:n,url:i,tempState:o}=e,d=(0,a.useRouter)(),[c,u]=l.useState(!0);return c?(0,s.jsx)("div",{id:"success-popup",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 text-primary rounded-2xl p-8 max-w-md w-full relative shadow-lg",children:[(0,s.jsx)("button",{onClick:()=>{u(!1),n&&n()},className:"absolute top-3 right-4 text-2xl text-white hover:text-red-400",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center success-popup",children:[(0,s.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white text-3xl mb-4",children:"âœ“"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Success!"}),(0,s.jsx)("p",{className:"text-sm text-gray-300 text-center",children:t})]}),(0,s.jsxs)("svg",{className:"w-16 h-16 mt-6 mx-auto text-green-500",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"26",cy:"26",r:"25",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),r&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-3 rounded-lg text-white font-semibold hover:shadow-lg transition",onClick:()=>{n&&n();let e=i?o?"".concat(i,"?tempState=").concat(encodeURIComponent(o)):i:"/";d.push(e)},children:"Continue"})})]})}):null}},5437:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var s=r(5453),a=r(3464),l=r(6786);a.A.defaults.withCredentials=!0,a.A.defaults.baseURL="https://chat-app-tk-blg.fly.dev";let n=(0,s.v)()((0,l.lt)(e=>({user:null,isLoading:!1,error:null,message:null,getProfile:async()=>{e({isLoading:!0,error:null,message:null});try{let t=await a.A.get("/profile");e({user:t.data.user,message:null,isLoading:!1})}catch(s){var t,r;e({error:(null==(r=s.response)||null==(t=r.data)?void 0:t.error)||s.message})}finally{e({isLoading:!1})}},updateProfile:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await a.A.put("/profile",t),s=await a.A.get("/profile");e({user:s.data.user,message:r.data.message})}catch(t){var r,s;e({error:(null==(s=t.response)||null==(r=s.data)?void 0:r.error)||t.message})}finally{e({isLoading:!1})}},changePassword:async(t,r)=>{e({isLoading:!0,error:null,message:null});try{let s=await a.A.put("/profile/change-password",{currentPassword:t,newPassword:r});return e({message:s.data.message}),s.data}catch(r){var s,l,n,i;let t=(null==(l=r.response)||null==(s=l.data)?void 0:s.error)||(null==(i=r.response)||null==(n=i.data)?void 0:n.message)||r.message;throw e({error:t}),Error(t)}finally{e({isLoading:!1})}},forgotPassword:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await a.A.post("/profile/forget-password",{email:t});e({message:r.data.message})}catch(t){var r,s;e({error:(null==(s=t.response)||null==(r=s.data)?void 0:r.error)||t.message})}finally{e({isLoading:!1})}},resetPassword:async t=>{let{email:r,token:s,newPassword:l}=t;e({isLoading:!0,error:null,message:null});try{let t=await a.A.post("/profile/reset-password",{email:r,token:s,newPassword:l});e({message:t.data.message})}catch(t){var n,i;e({error:(null==(i=t.response)||null==(n=i.data)?void 0:n.error)||t.message})}finally{e({isLoading:!1})}},uploadProfilePicture:async t=>{e({isLoading:!0,error:null,message:null});let r=new FormData;r.append("image",t);try{let t=await a.A.post("/profile/upload-profile-picture",r,{headers:{"Content-Type":"multipart/form-data"}});e({message:t.data.message}),await n.getState().getProfile()}catch(t){var s,l;e({error:(null==(l=t.response)||null==(s=l.data)?void 0:s.error)||t.message})}finally{e({isLoading:!1})}},clearState:()=>e({isLoading:!1,error:null,message:null})})))},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5889:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(5155),a=r(2115);let l=e=>{let{message:t,handleTimeout:r,handleSendResetLink:l}=e,[n,i]=(0,a.useState)(!0),o=()=>{i(!1),r&&r()};return n?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,s.jsx)("button",{onClick:o,className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-red-600 to-red-500 text-white text-2xl mb-4",children:"!"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Message Failed"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:t})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)("button",{onClick:o,className:"px-6 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:l,className:"px-6 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Retry"})]})]})}):null}},7550:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7995:(e,t,r)=>{Promise.resolve().then(r.bind(r,8498))},8498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),l=r(2827),n=r(5889),i=r(7550),o=r(5695),d=r(5437);function c(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),{forgotPassword:m}=(0,d.K)(),[x,h]=(0,a.useState)(""),g=async e=>{e.preventDefault();try{await m(x),r(!0)}catch(e){u(!0)}},f=()=>{r(!1),u(!1),window.history.back()};return(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center",id:"forgot-screen",children:[t&&(0,s.jsx)(l.A,{message:"Activation link sent to your email. Click the link in your email to continue. The link will expire in 1 hour.",handleTimeout:f}),c&&(0,s.jsx)(n.A,{message:"An error occurred while sending the reset link. Please try again later.",handleTimeout:f}),(0,s.jsxs)("div",{className:"bg-[#161b22] rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] border border-primary w-[380px] h-[640px] transition-transform hover:-translate-y-1 overflow-hidden relative z-10",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,s.jsx)("div",{className:"flex items-center text-secondary cursor-pointer",onClick:()=>window.history.back(),children:(0,s.jsx)(i.A,{className:"w-10 h-10 text-primary mr-2"})})}),(0,s.jsxs)("div",{className:"flex flex-col justify-center h-full px-10 py-16",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#58a6ff] via-[#a855f7] to-[#f97316] bg-clip-text text-transparent",children:"ChatFlow"}),(0,s.jsx)("p",{className:"text-secondary mt-2 text-sm",children:"Reset your password"})]}),(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{className:"block mb-2 text-[#e6edf3] text-sm font-medium",children:"Email Address"}),(0,s.jsx)("input",{onChange:e=>h(e.target.value),type:"email",placeholder:"Enter your email address",className:"w-full p-4 bg-tertiary-bg border border-primary rounded-xl text-primary text-base focus:outline-none focus:border-[#58a6ff] focus:ring-4 focus:ring-[#58a6ff]/10"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full p-4 mb-5 bg-gradient-to-r from-[#58a6ff] to-[#a855f7] rounded-xl text-white text-base font-semibold hover:-translate-y-0.5 hover:shadow-[0_8px_25px_rgba(88,166,255,0.3)] transition",children:"Send Reset Link"}),(0,s.jsxs)("div",{className:"text-center mt-8 text-sm",children:["Remember your password?"," ",(0,s.jsx)("a",{href:"#",className:"text-[#58a6ff] hover:underline",onClick:()=>e.push("/withNavpages/signin"),children:"Sign In"})]})]})]})]})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:c="",children:u,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:t,...d,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:i("lucide",c),...!u&&!o(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),o),...d})});return r.displayName=n(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[655,441,684,358],()=>t(7995)),_N_E=e.O()}]);