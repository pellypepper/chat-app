(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{35169:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(90602).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35411:(e,t,r)=>{Promise.resolve().then(r.bind(r,38498))},35695:(e,t,r)=>{"use strict";r.r(t);var s=r(18999),a={};for(let e in s)"default"!==e&&(a[e]=()=>s[e]);r.d(t,a)},38498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95155),a=r(12115),l=r(84929),n=r(97007),o=r(35169),i=r(35695),d=r(41795);function c(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),{forgotPassword:f}=(0,d.useProfileStore)(),[m,x]=(0,a.useState)(""),h=async e=>{e.preventDefault();try{await f(m),r(!0)}catch(e){u(!0)}},g=()=>{r(!1),u(!1),window.history.back()};return(0,s.jsxs)("div",{className:"flex min-h-screen items-center justify-center",id:"forgot-screen",children:[t&&(0,s.jsx)(l.default,{message:"Activation link sent to your email. Click the link in your email to continue. The link will expire in 1 hour.",handleTimeout:g}),c&&(0,s.jsx)(n.default,{message:"An error occurred while sending the reset link. Please try again later.",handleTimeout:g}),(0,s.jsxs)("div",{className:"bg-[#161b22] rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] border border-primary w-[380px] h-[640px] transition-transform hover:-translate-y-1 overflow-hidden relative z-10",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 z-20",children:(0,s.jsx)("div",{className:"flex items-center text-secondary cursor-pointer",onClick:()=>window.history.back(),children:(0,s.jsx)(o.A,{className:"w-10 h-10 text-primary mr-2"})})}),(0,s.jsxs)("div",{className:"flex flex-col justify-center h-full px-10 py-16",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#58a6ff] via-[#a855f7] to-[#f97316] bg-clip-text text-transparent",children:"ChatFlow"}),(0,s.jsx)("p",{className:"text-secondary mt-2 text-sm",children:"Reset your password"})]}),(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{className:"block mb-2 text-[#e6edf3] text-sm font-medium",children:"Email Address"}),(0,s.jsx)("input",{onChange:e=>x(e.target.value),type:"email",placeholder:"Enter your email address",className:"w-full p-4 bg-tertiary-bg border border-primary rounded-xl text-primary text-base focus:outline-none focus:border-[#58a6ff] focus:ring-4 focus:ring-[#58a6ff]/10"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full p-4 mb-5 bg-gradient-to-r from-[#58a6ff] to-[#a855f7] rounded-xl text-white text-base font-semibold hover:-translate-y-0.5 hover:shadow-[0_8px_25px_rgba(88,166,255,0.3)] transition",children:"Send Reset Link"}),(0,s.jsxs)("div",{className:"text-center mt-8 text-sm",children:["Remember your password?"," ",(0,s.jsx)("a",{href:"#",className:"text-[#58a6ff] hover:underline",onClick:()=>e.push("/withNavpages/signin"),children:"Sign In"})]})]})]})]})]})}},41795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useProfileStore=void 0;let s=r(87657),a=function(e){return e&&e.__esModule?e:{default:e}}(r(43653)),l=r(82127);a.default.defaults.withCredentials=!0,a.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useProfileStore=(0,s.create)()((0,l.devtools)(e=>({user:null,isLoading:!1,error:null,message:null,getProfile:async()=>{e({isLoading:!0,error:null,message:null});try{let t=await a.default.get("/profile");e({user:t.data.user,message:null,isLoading:!1})}catch(s){var t,r;e({error:(null==(r=s.response)||null==(t=r.data)?void 0:t.error)||s.message})}finally{e({isLoading:!1})}},updateProfile:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await a.default.put("/profile",t),s=await a.default.get("/profile");e({user:s.data.user,message:r.data.message})}catch(t){var r,s;e({error:(null==(s=t.response)||null==(r=s.data)?void 0:r.error)||t.message})}finally{e({isLoading:!1})}},changePassword:async(t,r)=>{e({isLoading:!0,error:null,message:null});try{let s=await a.default.put("/profile/change-password",{currentPassword:t,newPassword:r});return e({message:s.data.message}),s.data}catch(r){var s,l,n,o;let t=(null==(l=r.response)||null==(s=l.data)?void 0:s.error)||(null==(o=r.response)||null==(n=o.data)?void 0:n.message)||r.message;throw e({error:t}),Error(t)}finally{e({isLoading:!1})}},forgotPassword:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await a.default.post("/profile/forget-password",{email:t});e({message:r.data.message})}catch(t){var r,s;e({error:(null==(s=t.response)||null==(r=s.data)?void 0:r.error)||t.message})}finally{e({isLoading:!1})}},resetPassword:async t=>{let{email:r,token:s,newPassword:l}=t;e({isLoading:!0,error:null,message:null});try{let t=await a.default.post("/profile/reset-password",{email:r,token:s,newPassword:l});e({message:t.data.message})}catch(t){var n,o;e({error:(null==(o=t.response)||null==(n=o.data)?void 0:n.error)||t.message})}finally{e({isLoading:!1})}},uploadProfilePicture:async r=>{e({isLoading:!0,error:null,message:null});let s=new FormData;s.append("image",r);try{let r=await a.default.post("/profile/upload-profile-picture",s,{headers:{"Content-Type":"multipart/form-data"}});e({message:r.data.message}),await t.useProfileStore.getState().getProfile()}catch(t){var l,n;e({error:(null==(n=t.response)||null==(l=n.data)?void 0:l.error)||t.message})}finally{e({isLoading:!1})}},clearState:()=>e({isLoading:!1,error:null,message:null})})))},47147:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(12115),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},l=r(66977);let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:c,iconNode:u,...f}=e;return(0,s.createElement)("svg",{ref:t,...a,width:n,height:n,stroke:r,strokeWidth:i?24*Number(o)/Number(n):o,className:(0,l.zP)("lucide",d),...!c&&!(0,l.m$)(f)&&{"aria-hidden":"true"},...f},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])})},66977:(e,t,r)=>{"use strict";r.d(t,{MX:()=>l,fX:()=>s,m$:()=>o,zP:()=>n});let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),l=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0}},84929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(95155);Object.defineProperty(t,"__esModule",{value:!0});let a=r(35695),l=function(e){return e&&e.__esModule?e:{default:e}}(r(12115));t.default=e=>{let{message:t,showContinueButton:r,handleTimeout:n,url:o,tempState:i}=e,d=(0,a.useRouter)(),[c,u]=l.default.useState(!0);return c?(0,s.jsx)("div",{id:"success-popup",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 text-primary rounded-2xl p-8 max-w-md w-full relative shadow-lg",children:[(0,s.jsx)("button",{onClick:()=>{u(!1),n&&n()},className:"absolute top-3 right-4 text-2xl text-white hover:text-red-400",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center success-popup",children:[(0,s.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white text-3xl mb-4",children:"âœ“"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Success!"}),(0,s.jsx)("p",{className:"text-sm text-gray-300 text-center",children:t})]}),(0,s.jsxs)("svg",{className:"w-16 h-16 mt-6 mx-auto text-green-500",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"26",cy:"26",r:"25",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),r&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-3 rounded-lg text-white font-semibold hover:shadow-lg transition",onClick:()=>{n&&n();let e=o?i?"".concat(o,"?tempState=").concat(encodeURIComponent(i)):o:"/";d.push(e)},children:"Continue"})})]})}):null}},90602:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(12115),a=r(66977),l=r(47147);let n=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...i}=r;return(0,s.createElement)(l.A,{ref:n,iconNode:t,className:(0,a.zP)("lucide-".concat((0,a.fX)((0,a.MX)(e))),"lucide-".concat(e),o),...i})});return r.displayName=(0,a.MX)(e),r}},97007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(95155);var a=Object.create?function(e,t,r,s){void 0===s&&(s=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,a)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]},l=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},n=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var s=e(t),n=0;n<s.length;n++)"default"!==s[n]&&a(r,t,s[n]);return l(r,t),r}}();Object.defineProperty(t,"__esModule",{value:!0});let o=n(r(12115));t.default=e=>{let{message:t,handleTimeout:r,handleSendResetLink:a}=e,[l,n]=(0,o.useState)(!0),i=()=>{n(!1),r&&r()};return l?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,s.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-red-600 to-red-500 text-white text-2xl mb-4",children:"!"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Message Failed"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:t})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)("button",{onClick:i,className:"px-6 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:a,className:"px-6 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Retry"})]})]})}):null}}},e=>{var t=t=>e(e.s=t);e.O(0,[547,441,684,358],()=>t(35411)),_N_E=e.O()}]);