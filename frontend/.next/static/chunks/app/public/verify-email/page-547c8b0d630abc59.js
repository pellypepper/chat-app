(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{20188:(e,t,r)=>{Promise.resolve().then(r.bind(r,99165))},32881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAuthStore=void 0;let n=r(87657),s=function(e){return e&&e.__esModule?e:{default:e}}(r(43653)),a=r(82127);s.default.defaults.withCredentials=!0,s.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useAuthStore=(0,n.create)()((0,a.devtools)(e=>({user:null,isLoading:!1,error:null,verificationSent:!1,register:async t=>{e({isLoading:!0,error:null});try{let r=await s.default.post("/register",t);e({user:r.data.user,verificationSent:!0})}catch(t){var r,n;e({error:(null==(n=t.response)||null==(r=n.data)?void 0:r.error)||t.message})}finally{e({isLoading:!1})}},verifyEmail:async(t,r)=>{e({isLoading:!0,error:null});try{let n=await s.default.post("/register/verify",{email:t,code:r});e({user:n.data.user,verificationSent:!1})}catch(t){var n,a;e({error:(null==(a=t.response)||null==(n=a.data)?void 0:n.error)||t.message})}finally{e({isLoading:!1})}},reset:()=>e({user:null,isLoading:!1,error:null,verificationSent:!1})})))},35695:(e,t,r)=>{"use strict";r.r(t);var n=r(18999),s={};for(let e in n)"default"!==e&&(s[e]=()=>n[e]);r.d(t,s)},55470:(e,t,r)=>{"use strict";let n=r(95155);var s=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},a=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),l=0;l<n.length;l++)"default"!==n[l]&&s(r,t,n[l]);return a(r,t),r}}(),i=function(e){return e&&e.__esModule?e:{default:e}};let o=l(r(12115)),d=r(32881),c=r(35695),u=i(r(84929)),f=i(r(97007)),m=r(92596),x=r(35695),g=i(r(67657)),b=i(r(96455));t.A=()=>{let e=(0,o.useRef)([]),[t,r]=(0,o.useState)(Array(6).fill("")),[s,a]=(0,o.useState)(60),[l,i]=(0,o.useState)("idle"),[h,p]=(0,o.useState)(!1),v=(0,c.useSearchParams)().get("tempState"),j=(0,x.useRouter)(),{verifyEmail:y,isLoading:w,error:N}=(0,d.useAuthStore)();(0,o.useEffect)(()=>{if(0===s)return void p(!0);let e=setInterval(()=>{a(e=>e-1)},1e3);return()=>clearInterval(e)},[s]);let _=async()=>{if(v)if(await y(v,t.join("")),N)i("error");else{i("success");let e=setTimeout(()=>j.push("/public/signin"),3e3);return()=>clearTimeout(e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.default,{tempState:v,seconds:s,resendAvailable:h,onVerify:_,onCancel:()=>window.history.back(),children:(0,n.jsx)(b.default,{otp:t,inputRefs:e,onChange:(n,s)=>{if(!/^[a-zA-Z0-9]?$/.test(n))return;let a=[...t];if(a[s]=n,r(a),n&&s<5){var l;null==(l=e.current[s+1])||l.focus()}},onKeyDown:(r,n)=>{if("Backspace"===r.key&&!t[n]&&n>0){var s;null==(s=e.current[n-1])||s.focus()}}})}),"success"===l&&(0,n.jsx)(u.default,{message:"Your email is verified. Redirecting...",handleTimeout:()=>{},url:"/withNavpages/signin",tempState:null}),"error"===l&&(0,n.jsx)(f.default,{message:N||"Unable to verify your email. Please try again.",handleTimeout:()=>i("idle")}),w&&(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:(0,n.jsx)(m.MultiRingSpinner,{})})]})}},67657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(95155);Object.defineProperty(t,"__esModule",{value:!0}),function(e){e&&e.__esModule}(r(12115)),t.default=e=>{let{tempState:t,children:r,seconds:s,resendAvailable:a,onResend:l,onVerify:i,onCancel:o}=e;return(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,n.jsx)("button",{className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-purple-600 text-white text-2xl mb-4",children:"\uD83D\uDD10"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-1",children:"Enter Verification Code"}),(0,n.jsxs)("p",{className:"text-sm text-gray-400",children:["We've sent a 6-digit code to this email ",t,". Please enter it below to verify your account."]})]}),r,(0,n.jsx)("div",{className:"text-center text-sm text-gray-400",children:a?(0,n.jsx)("button",{onClick:l,className:"text-blue-400 hover:underline transition",children:"Resend Code"}):(0,n.jsxs)(n.Fragment,{children:["Resend code in ",(0,n.jsx)("span",{className:"text-white font-semibold",children:s})," seconds"]})}),(0,n.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,n.jsx)("button",{onClick:o,className:"px-5 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,n.jsx)("button",{onClick:i,className:"px-5 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Verify Code"})]})]})})}},84929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(95155);Object.defineProperty(t,"__esModule",{value:!0});let s=r(35695),a=function(e){return e&&e.__esModule?e:{default:e}}(r(12115));t.default=e=>{let{message:t,showContinueButton:r,handleTimeout:l,url:i,tempState:o}=e,d=(0,s.useRouter)(),[c,u]=a.default.useState(!0);return c?(0,n.jsx)("div",{id:"success-popup",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-gray-800 text-primary rounded-2xl p-8 max-w-md w-full relative shadow-lg",children:[(0,n.jsx)("button",{onClick:()=>{u(!1),l&&l()},className:"absolute top-3 right-4 text-2xl text-white hover:text-red-400",children:"\xd7"}),(0,n.jsxs)("div",{className:"flex flex-col items-center success-popup",children:[(0,n.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white text-3xl mb-4",children:"âœ“"}),(0,n.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Success!"}),(0,n.jsx)("p",{className:"text-sm text-gray-300 text-center",children:t})]}),(0,n.jsxs)("svg",{className:"w-16 h-16 mt-6 mx-auto text-green-500",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"26",cy:"26",r:"25",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),r&&(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-3 rounded-lg text-white font-semibold hover:shadow-lg transition",onClick:()=>{l&&l();let e=i?o?"".concat(i,"?tempState=").concat(encodeURIComponent(o)):i:"/";d.push(e)},children:"Continue"})})]})}):null}},92596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(95155);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingSpinner=t.SimpleSpinner=t.ChatMessageLoading=t.TypingIndicator=t.GradientRingSpinner=t.PulsingDotsSpinner=t.MultiRingSpinner=void 0,t.MultiRingSpinner=e=>{let{size:t="md",className:r=""}=e;return(0,n.jsxs)("div",{className:"relative ".concat({sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[t]," ").concat(r),children:[(0,n.jsx)("div",{className:"absolute inset-0 border-2 border-transparent border-t-[#58a6ff] rounded-full animate-spin"}),(0,n.jsx)("div",{className:"absolute top-1 left-1 right-1 bottom-1 border-2 border-transparent border-t-[#a855f7] rounded-full animate-spin-reverse",style:{animationDuration:"1.5s"}}),(0,n.jsx)("div",{className:"absolute top-2 left-2 right-2 bottom-2 border-2 border-transparent border-t-[#f97316] rounded-full animate-spin",style:{animationDuration:"2s"}})]})},t.PulsingDotsSpinner=e=>{let{size:t="md",className:r=""}=e,s={sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-3 h-3"};return(0,n.jsxs)("div",{className:"flex ".concat({sm:"gap-1",md:"gap-2",lg:"gap-3"}[t]," ").concat(r),children:[(0,n.jsx)("div",{className:"".concat(s[t]," rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale"),style:{animationDelay:"-0.32s"}}),(0,n.jsx)("div",{className:"".concat(s[t]," rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale"),style:{animationDelay:"-0.16s"}}),(0,n.jsx)("div",{className:"".concat(s[t]," rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale")})]})},t.GradientRingSpinner=e=>{let{size:t="md",className:r=""}=e;return(0,n.jsx)("div",{className:"relative ".concat({sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[t]," ").concat(r),children:(0,n.jsx)("div",{className:"w-full h-full rounded-full animate-spin",style:{background:"conic-gradient(from 0deg, transparent, #58a6ff, #a855f7, #f97316, transparent)",animationDuration:"1.2s"},children:(0,n.jsx)("div",{className:"absolute inset-0.5 bg-[#0d1117] rounded-full"})})})},t.TypingIndicator=e=>{let{className:t=""}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-1 px-4 py-3 bg-[rgba(22,27,34,0.8)] border border-[#30363d] rounded-2xl backdrop-blur-sm ".concat(t),children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0s"}}),(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0.2s"}}),(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0.4s"}})]})},t.ChatMessageLoading=e=>{let{message:t="AI is thinking...",className:r=""}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[rgba(22,27,34,0.8)] border border-[#30363d] rounded-xl backdrop-blur-sm max-w-sm ".concat(r),children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-[#30363d] border-t-[#58a6ff] rounded-full animate-spin flex-shrink-0"}),(0,n.jsx)("span",{className:"text-[#7d8590] text-sm",children:t})]})},t.SimpleSpinner=e=>{let{size:t="md",className:r=""}=e;return(0,n.jsx)("div",{className:"".concat({sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"}[t]," border-[#30363d] border-t-[#58a6ff] rounded-full animate-spin ").concat(r)})},t.LoadingSpinner=e=>{let{variant:r="simple",size:s="md",message:a,className:l=""}=e;switch(r){case"multi-ring":return(0,n.jsx)(t.MultiRingSpinner,{size:s,className:l});case"dots":return(0,n.jsx)(t.PulsingDotsSpinner,{size:s,className:l});case"gradient":return(0,n.jsx)(t.GradientRingSpinner,{size:s,className:l});case"typing":return(0,n.jsx)(t.TypingIndicator,{className:l});case"message":return(0,n.jsx)(t.ChatMessageLoading,{message:a,className:l});default:return(0,n.jsx)(t.SimpleSpinner,{size:s,className:l})}}},96455:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(95155);Object.defineProperty(t,"__esModule",{value:!0}),function(e){e&&e.__esModule}(r(12115)),t.default=e=>{let{otp:t,inputRefs:r,onChange:s,onKeyDown:a}=e;return(0,n.jsx)("div",{className:"flex gap-3 justify-center mt-6 mb-4",children:t.map((e,t)=>(0,n.jsx)("input",{ref:e=>{r.current&&(r.current[t]=e)},type:"text",maxLength:1,value:e,onChange:e=>s(e.target.value,t),onKeyDown:e=>a(e,t),className:"w-12 h-12 text-center rounded-lg border border-gray-700 bg-[#0d1117] text-white text-lg font-bold focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition"},t))})}},97007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(95155);var s=Object.create?function(e,t,r,n){void 0===n&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},a=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),l=0;l<n.length;l++)"default"!==n[l]&&s(r,t,n[l]);return a(r,t),r}}();Object.defineProperty(t,"__esModule",{value:!0});let i=l(r(12115));t.default=e=>{let{message:t,handleTimeout:r,handleSendResetLink:s}=e,[a,l]=(0,i.useState)(!0),o=()=>{l(!1),r&&r()};return a?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,n.jsx)("button",{onClick:o,className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-red-600 to-red-500 text-white text-2xl mb-4",children:"!"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Message Failed"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:t})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)("button",{onClick:o,className:"px-6 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,n.jsx)("button",{onClick:s,className:"px-6 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Retry"})]})]})}):null}},99165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(95155),s=r(12115),a=r(55470),l=r(92596);function i(){return(0,n.jsx)(s.Suspense,{fallback:(0,n.jsx)("div",{children:(0,n.jsx)(l.MultiRingSpinner,{})}),children:(0,n.jsx)(a.A,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[547,441,684,358],()=>t(20188)),_N_E=e.O()}]);