(()=>{var e={};e.id=105,e.ids=[105],e.modules={1235:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=function(e){return e&&e.__esModule?e:{default:e}}(r(30474));t.default=({conversations:e,onChatSelect:t})=>(0,n.jsx)("div",{className:"",children:(0,n.jsx)("div",{className:"flex-1 overflow-x-hidden",children:e.map(e=>{let r=e?.name?.[0]?.toUpperCase()??"?";return(0,n.jsxs)("div",{onClick:()=>t(e.id),className:`flex p-4 justify-between items-center border-b border-gray-600 gap-3 hover:bg-gray-700/30 cursor-pointer transition-all duration-200 ${e.active?"bg-gray-700/50 border-r-4 border-blue-400":""}`,children:[(0,n.jsxs)("div",{className:"relative w-[45px] h-[45px] rounded-full bg-gradient-purple text-primary flex items-center justify-center font-semibold text-base",children:[e.avatar?(0,n.jsx)(l.default,{width:80,height:80,src:e.avatar,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):r,e.online&&(0,n.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-primary rounded-full"})]}),(0,n.jsxs)("div",{className:"flex-1 w-[200px]",children:[(0,n.jsx)("div",{className:"font-semibold text-primary",children:e.name}),(0,n.jsx)("div",{className:"text-sm text-gray-400 truncate",children:e.message})]}),(0,n.jsxs)("div",{className:"flex flex-col items-end gap-1 text-xs",children:[(0,n.jsx)("span",{className:"text-gray-400",children:e.time?new Date(e.time).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""}),e.unread>0&&(0,n.jsx)("span",{className:"bg-gradient-orange text-primary font-bold w-5 h-5 flex items-center justify-center rounded-full text-xs",children:e.unread})]})]},e.id)})})})},1933:(e,t)=>{"use strict";function r(e){var t;let{config:r,src:n,width:l,quality:o}=e,a=o||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(n)+"&w="+l+"&q="+a+(n.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3567:(e,t,r)=>{"use strict";var n=r(43210),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,a=n.useRef,i=n.useEffect,s=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,d){var c=a(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;var p=o(e,(c=s(function(){function e(e){if(!i){if(i=!0,o=e,e=n(e),void 0!==d&&f.hasValue){var t=f.value;if(d(t,e))return a=t}return a=e}if(t=a,l(o,e))return t;var r=n(e);return void 0!==d&&d(t,r)?(o=e,t):(o=e,a=r)}var o,a,i=!1,s=void 0===r?null:r;return[function(){return e(t())},null===s?void 0:function(){return e(s())}]},[t,r,n,d]))[0],c[1]);return i(function(){f.hasValue=!0,f.value=p},[p]),u(p),p}},5898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var l=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let o=r(43210),a=r(38031),i=l(r(97829)),s=l(r(30474)),u=r(76310);t.default=()=>{let{stories:e,fetchFriendStories:t,isUploadModalOpen:r,setUploadModalOpen:l,loading:d,error:c,markViewed:f}=(0,a.useStoryStore)(),[p,m]=(0,o.useState)(null),[h,v]=(0,o.useState)(0),[g,b]=(0,o.useState)(0),[x,y]=(0,o.useState)(!1),[w,E]=(0,o.useState)(null);(0,o.useEffect)(()=>{(()=>{let e=localStorage.getItem("userId");E(e?Number(e):null)})()},[]),(0,o.useEffect)(()=>{t()},[t]),(0,o.useEffect)(()=>{if(!p||null===w)return;let t=p.stories[h],r=p.userId===w,n=e.some(e=>e.userId===p.userId);t&&t.id&&!r&&n&&(f(t.id),console.log("Story marked as viewed 1:",t.id))},[p,h,f,w,e]);let S=(0,o.useCallback)(()=>{p&&(h<p.stories.length-1?v(e=>e+1):(m(null),v(0)))},[p,h]);(0,o.useEffect)(()=>{if(!p)return;let e=setInterval(()=>{b(e=>e>=100?(S(),0):e+2)},100);return()=>clearInterval(e)},[p,h,S]),(0,o.useEffect)(()=>{b(0)},[h]);let j=()=>{h>0?v(e=>e-1):(m(null),v(0))},C=(e,t)=>{e/t<.5?j():S()},P=async e=>{await f(e.stories[0].id),m(e),v(0),b(0),y(!1)},I=p&&null!==w&&p.userId===w;return(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Stories"}),d&&(0,n.jsx)("p",{className:"text-gray-400 text-sm",children:"Loading..."}),c&&(0,n.jsx)("p",{className:"text-red-400 text-sm",children:c}),(0,n.jsxs)("div",{className:"flex gap-5 overflow-x-auto pb-2",children:[(0,n.jsxs)("div",{className:"flex-shrink-0 text-center cursor-pointer group",onClick:()=>l(!0),children:[(0,n.jsx)("div",{className:"w-20 h-20 rounded-full flex items-center justify-center text-2xl mb-1 bg-gradient-to-br from-gray-600 to-gray-700 border-2 border-dashed border-gray-500 group-hover:border-gray-400 transition-all duration-200",children:"\uD83D\uDCF7"}),(0,n.jsx)("p",{className:"text-xs text-gray-400 truncate w-20",children:"Your Story"})]}),e?.map(e=>{let t=function(e){return e.stories&&0!==e.stories.length?e.stories[e.stories.length-1]:null}(e);return(0,n.jsxs)("div",{className:"flex-shrink-0 text-center cursor-pointer group",onClick:()=>P(e),children:[(0,n.jsx)("div",{className:"w-20 h-20 rounded-full border-secondary border   p-0.5 mb-1 group-hover:scale-105 transition-transform duration-200 relative overflow-hidden",children:t&&"image"===t.type?(0,n.jsx)(s.default,{src:t.content,alt:"Preview",fill:!0,className:"object-cover rounded-full"}):(0,n.jsxs)("div",{className:"w-full h-full rounded-full bg-gray-800 flex items-center justify-center text-2xl relative",children:["\uD83D\uDC64",t&&"text"===t.type&&(0,n.jsx)("span",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 text-xs text-white/80 bg-black/60 px-2 rounded",children:t.content.length>12?t.content.slice(0,12)+"...":t.content})]})}),(0,n.jsxs)("p",{className:"text-xs text-gray-400 truncate w-20 group-hover:text-gray-300 transition-colors",children:[e.firstname," ",e.lastname]})]},`story-${e.userId}`)})]}),p&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black z-50 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"relative w-full h-full max-w-md mx-auto bg-black",children:[(0,n.jsx)("div",{className:"absolute top-4 left-4 right-4 z-10 flex gap-1",children:p.stories.map((e,t)=>(0,n.jsx)("div",{className:"flex-1 h-1 bg-white/30 rounded-full overflow-hidden",children:(0,n.jsx)("div",{className:"h-full bg-white rounded-full transition-all duration-100 ease-linear",style:{width:t<h?"100%":t===h?`${g}%`:"0%"}})},t))}),(0,n.jsxs)("div",{className:"absolute top-8 left-4 right-4 z-10 flex items-center justify-between pt-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-0.5",children:(0,n.jsx)("div",{className:"w-full h-full rounded-full bg-gray-800 flex items-center justify-center text-sm",children:"\uD83D\uDC64"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-white font-medium text-sm",children:[p.firstname," ",p.lastname]}),(0,n.jsx)("p",{className:"text-white/70 text-xs",children:new Date(p.stories[h]?.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),(0,n.jsx)("button",{className:"text-white/80 hover:text-white p-2 hover:bg-white/10 rounded-full transition-all",onClick:()=>m(null),children:(0,n.jsx)(u.X,{size:20})})]}),(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center cursor-pointer relative",onClick:e=>{let t=e.currentTarget.getBoundingClientRect();C(e.clientX-t.left,t.width)},children:[(0,n.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,n.jsx)("div",{className:"w-1/2 h-full"}),(0,n.jsx)("div",{className:"w-1/2 h-full"})]}),(()=>{let e=p.stories[h];return e?"text"===e.type?(0,n.jsx)("div",{className:"flex items-center justify-center h-full px-8",children:(0,n.jsx)("p",{className:"text-white text-xl text-center leading-relaxed font-medium",children:e.content})}):(0,n.jsx)("div",{className:"relative w-full h-full",children:(0,n.jsx)(s.default,{src:e.content,fill:!0,alt:"Story",className:"object-cover",priority:!0})}):null})()]}),!I&&(0,n.jsx)("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)("button",{onClick:j,disabled:0===h,className:"text-white/80 hover:text-white disabled:text-white/30 p-2 hover:bg-white/10 rounded-full transition-all disabled:cursor-not-allowed",children:(0,n.jsx)(u.ChevronLeft,{size:20})})})})})]})}),r&&(0,n.jsx)(i.default,{})]})}},6770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var l=Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),a=0;a<n.length;a++)"default"!==n[a]&&l(r,t,n[a]);return o(r,t),r}}(),i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(43210)),u=i(r(82805)),d=i(r(94655)),c=i(r(48087)),f=r(38885),p=r(73320),m=r(49513),h=r(29631),v=r(530);t.default=({onChatSelect:e})=>{let{allUsers:t,friends:r,loading:l,error:o,fetchFriends:a,fetchOnlineFriends:i,addFriend:g,removeFriend:b,searchFriends:x,clearSearch:y}=(0,p.useFriendsStore)(),{fetchChatsSummary:w,createChat:E}=(0,m.useChatStore)(),[S,j]=(0,s.useState)({}),C=m.useChatStore.getState().chats.map(e=>({...e,participants:e.participants.map(e=>({id:e.id,name:e.name??""})),lastMessage:null===e.lastMessage?void 0:e.lastMessage,lastMessageAt:null===e.lastMessageAt?void 0:e.lastMessageAt})),P=(0,h.useAuthStore)(e=>e.user),[I,k]=(0,s.useState)("all"),[T,O]=(0,s.useState)(""),{socket:N}=(0,v.useSocketContext)(),M=(0,s.useCallback)(()=>{let e=p.useFriendsStore.getState().onlineFriends,t=[];t=T.trim()?p.useFriendsStore.getState().searchResults:(0,f.getFilteredUsers)(I,"");let r={};t.forEach(t=>{r[t.id]=e.includes(t.id)?"online":"offline"}),j(r)},[I,T]);(0,s.useEffect)(()=>{if(!P?.id||!N)return;let e=()=>{i(),M()};return N.on("user_online",e),N.on("user_offline",e),i(),()=>{N.off("user_online",e),N.off("user_offline",e)}},[P?.id,i,M,N]),(0,s.useEffect)(()=>{M()},[M]),(0,s.useEffect)(()=>{T.trim()?x(T):y()},[T,x,y]);let R=T.trim()?p.useFriendsStore.getState().searchResults:t,F=(0,f.getFilteredUsers)(I,T).filter(e=>R.some(t=>t.id===e.id)),D=async e=>{await g(e),await a(),await i()},_=async e=>{await b(e),await a(),await i(),await w()},A=async t=>{try{if(!P?.id)throw Error("User not authenticated");let r=C.find(e=>{if(!Array.isArray(e.participants)||2!==e.participants.length)return!1;let r=e.participants.map(e=>e.id).sort(),n=[P.id,t].sort();return!e.isGroup&&r[0]===n[0]&&r[1]===n[1]});if(r)return void e(r.id,r);let n=await E([t],void 0,!1);if(n){let t={...n,participants:(n.participants||[]).map(e=>({id:e.id,name:e.name??e.firstname??e.lastname??""})),lastMessage:n.lastMessage??void 0,lastMessageAt:n.lastMessageAt??void 0};e(Number(t.id),t);return}await w(),setTimeout(()=>{let r=(m.useChatStore.getState().chats||[]).find(e=>Array.isArray(e.participants)&&e.participants.some(e=>e?.id===t));if(r){let t={...r,participants:r.participants.map(e=>({id:e.id,name:e.name??e.firstname??e.lastname??""})),lastMessage:r.lastMessage??void 0,lastMessageAt:r.lastMessageAt??void 0};e(t.id,t)}},100)}catch(e){console.error("Error in handleMessage:",e)}};return(0,n.jsxs)("div",{className:"flex flex-col h-full min-h-0 max-h-screen",children:[(0,n.jsx)(c.default,{value:T,onChange:O}),(0,n.jsx)(d.default,{activeTab:I,onTabChange:k}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto scrollbar-auto-hide p-4 space-y-3",children:[l&&(0,n.jsx)("div",{className:"text-center text-gray-400",children:"Loading..."}),o&&(0,n.jsx)("div",{className:"text-center text-red-500",children:o}),!l&&!o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-primary",children:"all"===I?"All Users (A–Z)":"online"===I?"Online Friends":"My Friends"}),(0,n.jsxs)("span",{className:"text-sm text-gray-400",children:[F.length," users"]})]}),F.length?F.map(e=>{let t=r.some(t=>t.id===e.id),l=S[e.id]||"offline";return(0,n.jsx)(u.default,{isFriend:t,user:e,status:l,onMessage:t?()=>A(e.id):void 0,onAdd:t?void 0:()=>D(e.id),onRemove:t?()=>_(e.id):void 0},e.id)}):(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)("div",{className:"text-gray-400 mb-2",children:"No results found"}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:"Try adjusting your search or browse different categories"})]})]})]})]})}},6895:(e,t,r)=>{"use strict";e.exports=r(3567)},10305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=r(49513),o=r(29631),a=r(73320),i=r(43210),s=function(e){return e&&e.__esModule?e:{default:e}}(r(30474)),u=r(530),d=r(76310);t.default=({chat:e,handleUpdateOpen:t,onBack:r})=>{let{fetchMessages:c,messages:f,fetchChatsSummary:p,sendMessage:m,deleteChatEveryone:h,deleteMessageEveryone:v}=(0,l.useChatStore)(),g=(0,o.useAuthStore)(e=>e.user),b=g?.id,{onlineFriends:x,getUserSeen:y}=(0,a.useFriendsStore)(),{socket:w}=(0,u.useSocketContext)(),E=(0,i.useMemo)(()=>e&&f[e.id]||[],[e,f]),S=(0,i.useRef)(null),[j,C]=(0,i.useState)(""),[P,I]=(0,i.useState)(null),[k,T]=(0,i.useState)(!1),[O,N]=(0,i.useState)(null),M=e&&e.participants&&2===e.participants.length&&b?e.participants.find(e=>e.id!==b)?.id:null;(0,i.useEffect)(()=>{if(!w||!e?.id)return;let t=({message:t})=>{t&&e&&t.chatId===e.id&&c(e.id)};return w.on("new_message",t),w.emit("join_chat",e.id),c(e.id),()=>{w.emit("leave_chat",e.id),w.off("new_message",t)}},[e,c,w]),(0,i.useEffect)(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[E,e]);let[R,F]=(0,i.useState)("Offline"),[D,_]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let t=!0;return async function(){if(e&&e.participants&&2===e.participants.length&&M){let e=x.includes(M);if(_(e),e)F("Active now"),N(null);else try{let e=await y(M);t&&(N(e?.lastSeen??null),F(e?.lastSeen?`Last seen: ${function(e){if(!e)return"";let t=new Date(e),r=new Date().getTime()-t.getTime();return r<6e4?"just now":r<36e5?`${Math.floor(r/6e4)} min ago`:r<864e5?`${Math.floor(r/36e5)} hours ago`:t.toLocaleString()}(e.lastSeen)}`:"Offline"))}catch{t&&(N(null),F("Offline"))}}else e&&e.participants&&e.participants.length>2?(N(null),F(""),_(!1)):(F("Connecting..."),N(null))}(),()=>{t=!1}},[e,x,y,b,M]);let A=async()=>{if((j.trim()||P)&&e){T(!0);try{await m(e.id,j.trim()?j:void 0,P||void 0),await p(),C(""),I(null)}catch(e){}finally{T(!1)}}},L=async(e,t)=>{if(e&&t)try{await v(e,t)}catch(e){}},z=async e=>{if(e)try{await h(e),r()}catch(e){}},$=e=>{t(e)},B=e=>!!e&&"string"==typeof e&&(!!(e.includes("pelly-chat.s3.")&&/\.(jpg|jpeg|png|gif|webp)$/i.test(e))||/\.(jpg|jpeg|png|gif|webp)(\?.*)?$/i.test(e)),U=(0,n.jsx)("div",{className:`absolute bottom-0 right-0 w-2 h-2 rounded-full border border-white ${D?"bg-green-500":"bg-gray-400"}`}),H={};return e&&e.participants&&e.participants.length>2&&e.participants.forEach(e=>{e.id!==b&&(H[e.id]=x.includes(e.id)?"online":"offline")}),(0,n.jsx)("div",{className:"p-4 ",children:(0,n.jsx)("div",{className:"flex flex-col flex-1 h-screen",children:e?(0,n.jsxs)("div",{className:"flex flex-col flex-1 h-screen",children:[(0,n.jsxs)("div",{className:"p-5 border-b border-primary flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:r,className:"md:hidden text-xs text-primary mb-4",children:(0,n.jsx)(d.ArrowLeft,{className:"w-5 h-5 text-primary "})}),(0,n.jsxs)("div",{className:"relative w-8 h-8 rounded-full bg-gradient-purple flex items-center justify-center text-primary text-xs font-semibold",children:[e?.name?.[0]??"?",e&&e.participants&&2===e.participants.length&&U]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"mb-1 font-semibold text-primary",children:e?e.name:""}),(0,n.jsx)("div",{className:"text-secondary text-sm flex items-center gap-2",children:e&&e.participants&&2===e.participants.length?(0,n.jsxs)(n.Fragment,{children:[D?(0,n.jsx)("span",{className:"text-green-500",children:"Online"}):(0,n.jsx)("span",{className:"text-gray-400",children:R}),O&&!D&&(0,n.jsx)("span",{className:"text-xs text-gray-500"})]}):e&&e.participants&&e.participants.length>2?(0,n.jsx)("span",{className:"text-gray-400",children:"Group Chat"}):""})]})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:()=>$(e),className:"w-10 h-10 rounded-full bg-tertiary-bg hover:bg-primary  text-secondary hover:text-primary flex items-center justify-center transition",children:"ℹ️"}),(0,n.jsx)("button",{className:"w-10 h-10 rounded-full bg-red-600 hover:bg-red-800 text-white flex items-center justify-center transition",title:"Delete Chat",onClick:()=>{e?.id!==void 0&&z(e.id)},children:"\uD83D\uDDD1️"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 p-5 overflow-y-auto flex-1 scrollbar-hidden",children:[0===E.length&&(0,n.jsx)("div",{className:"text-secondary text-center mt-10",children:"No messages yet."}),E.map((t,r)=>{let l=t.senderId===b,o="image"===t.type||B(t.content),a=e?.participants?.find(e=>e.id===t.senderId),i=l?g?.firstname||"You":a?.name||"Unknown",u=l?g?.firstname?.[0]||"Y":a?.name?.[0]||"U",d=null;return e&&e.participants&&e.participants.length>2&&a&&a.id!==b&&(d="online"===H[a.id]?"Online":"Offline"),(0,n.jsxs)("div",{className:`flex gap-3 max-w-[70%] ${l?"self-start flex-row":"self-end flex-row-reverse"}`,children:[(0,n.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-semibold 
                  ${l?"bg-gradient-to-br from-[#58a6ff] to-[#a855f7]":"bg-gradient-to-br from-[#6366f1] to-[#8b5cf6]"} flex-shrink-0`,children:u}),(0,n.jsxs)("div",{className:"flex flex-col",children:[d&&(0,n.jsx)("div",{className:"text-xs mt-1 text-[#a3a3a3] text-right",children:d}),(0,n.jsx)("div",{className:`text-xs mb-1 ml-2 ${l?"text-[#7d8590] text-left":"text-[#7d8590] text-right"}`,children:i}),(0,n.jsxs)("div",{className:`px-4 py-3 rounded-xl relative group ${l?"bg-gradient-to-br from-[#58a6ff] to-[#a855f7] text-white rounded-bl-sm":"bg-[#21262d] border border-[#30363d] text-white rounded-br-sm"}`,children:[(0,n.jsx)("div",{children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.default,{src:t.content,alt:"sent image",width:320,height:240,className:"max-w-xs rounded-lg mb-1",style:{width:"auto",height:"auto",maxWidth:"20rem",maxHeight:"15rem"},unoptimized:!0,onError:e=>{let t=e.target;t.style.display="none",t.nextSibling instanceof HTMLElement&&(t.nextSibling.style.display="block")}}),(0,n.jsx)("span",{style:{display:"none"},children:t.content})]}):(0,n.jsx)("span",{children:t.content})}),(0,n.jsxs)("div",{className:`text-xs mt-2 ${l?"text-white/70":"text-[#7d8590]"}`,children:[t.createdAt?new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",l&&(0,n.jsx)("span",{className:"ml-2",children:"✓✓"})]}),(0,n.jsx)("div",{className:`absolute top-2 ${l?"left-2":"right-2"} opacity-0 group-hover:opacity-100 flex gap-2`,children:(0,n.jsx)("button",{title:"Delete for everyone",className:"text-xs px-2 py-1 bg-black/20 rounded hover:bg-red-600 hover:text-white transition-colors",onClick:()=>L(e.id,t.id),children:"\uD83D\uDDD1️"})})]})]})]},t.id||r)}),(0,n.jsx)("div",{ref:S})]}),(0,n.jsx)("div",{className:"p-5 border-t border-[#30363d]",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A()},className:"flex items-center gap-3 bg-[#21262d] border border-[#30363d] rounded-full px-5 py-3",children:[(0,n.jsx)("div",{className:"flex gap-2 text-[#7d8590]",children:(0,n.jsxs)("label",{className:"hover:text-[#58a6ff] transition cursor-pointer",children:["\uD83D\uDCCE",(0,n.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{e.target.files&&e.target.files[0]&&I(e.target.files[0])},disabled:k})]})}),(0,n.jsx)("input",{type:"text",placeholder:"Type your message...",className:"flex-1 bg-transparent text-primary focus:outline-none text-base placeholder-[#7d8590]",value:j,onChange:e=>C(e.target.value),disabled:k}),P&&(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(s.default,{src:URL.createObjectURL(P),alt:"preview",width:40,height:40,className:"w-10 h-10 object-cover rounded-full mr-2"}),(0,n.jsx)("button",{type:"button",onClick:()=>I(null),className:"text-red-500 text-xs",children:"✕"})]}),(0,n.jsx)("button",{type:"submit",className:"w-8 h-8 rounded-full bg-gradient-to-br from-[#58a6ff] to-[#a855f7] text-white hover:scale-110 transition",disabled:k||!j.trim()&&!P,title:"Send",children:"➤"})]})})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[(0,n.jsx)("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#58a6ff] to-[#a855f7] flex items-center justify-center text-white text-4xl mb-4 shadow-lg",children:"\uD83D\uDCAC"}),(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gradient-purple mb-2",children:"Select a chat"}),(0,n.jsx)("p",{className:"text-secondary text-sm max-w-xs",children:"Choose a conversation from the left panel to start messaging."})]})})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},10942:(e,t,r)=>{"use strict";let n=r(60687);var l=function(e){return e&&e.__esModule?e:{default:e}};let o=l(r(33384)),a=l(r(10305));t.A=({selectedChat:e,handleUpdateOpen:t,handleBack:r,handleGroup:l,handleChatSelect:i,handleClick:s})=>(0,n.jsxs)("div",{className:"hidden md:grid md:grid-cols-[30%_70%] overflow-hidden",children:[(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(o.default,{handleGroup:l,onChatSelect:i,handleClick:s})}),(0,n.jsx)("div",{className:"overflow-hidden",children:(0,n.jsx)(a.default,{onBack:r,handleUpdateOpen:t,chat:e})})]})},12412:e=>{"use strict";e.exports=require("assert")},12756:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},14959:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.AmpContext},17870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=r(43210),o=function(e){return e&&e.__esModule?e:{default:e}}(r(30474)),a=r(18229),i=r(73320),s=r(29631);t.default=({chat:e,handleClickOutside:t})=>{let[r,u]=(0,l.useState)(!1),[d,c]=(0,l.useState)(null),f=e.name.split(" ").map(e=>e[0]).join("").toUpperCase(),{user:p}=(0,s.useAuthStore)(),{fetchFriendDetails:m}=(0,i.useFriendsStore)(),h=e.participants.find(e=>e!==p?.id);return((0,l.useEffect)(()=>{(async()=>{if(h)try{let e=await m(h);c(e)}catch(e){console.error("Failed to fetch friend details",e)}})()},[h]),d)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{onClick:t,className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(13, 17, 23, 0.8)"},children:(0,n.jsxs)("div",{className:"relative w-auto bg-navbar-bg border-primary border max-w-md p-4 backdrop-blur-sm rounded-lg shadow-lg flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full overflow-hidden cursor-pointer border-2 border-blue-400 relative",onClick:()=>u(!0),children:d.profilePicture?(0,n.jsx)(o.default,{src:d.profilePicture,alt:d.firstname,width:80,height:80,className:"w-full h-full object-cover"}):(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-r from-purple-500 to-pink-500 text-white text-2xl font-bold",children:f})}),(0,n.jsxs)("div",{className:"mt-2 text-white text-sm font-semibold",children:[d.firstname," ",d.lastname]}),(0,n.jsx)("div",{className:"mt-1 text-gray-400 text-sm",children:d.email})]})}),(0,n.jsxs)(a.Dialog,{open:r,onClose:()=>u(!1),className:"relative z-50",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-black/70","aria-hidden":"true"}),(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,n.jsxs)(a.Dialog.Panel,{className:"bg-[#0d1117] p-4 rounded-lg border border-primary max-w-md w-full",children:[(0,n.jsx)("div",{className:"text-right mb-2",children:(0,n.jsx)("button",{onClick:()=>u(!1),className:"text-sm text-gray-400 hover:text-white",children:"Close"})}),d.profilePicture?(0,n.jsx)(o.default,{src:d.profilePicture,alt:`${d.firstname}'s profile`,width:400,height:400,className:"w-full h-auto rounded"}):(0,n.jsx)("div",{className:"w-full h-64 flex items-center justify-center bg-gradient-to-r from-purple-500 to-pink-500 text-white text-4xl font-bold rounded",children:f})]})})]})]}):null}},17903:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.ImageConfigContext},18229:(e,t,r)=>{"use strict";e.exports=r(64313)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21632:(e,t,r)=>{"use strict";let n=r(60687);var l=function(e){return e&&e.__esModule?e:{default:e}};let o=l(r(33384)),a=l(r(10305));t.A=({selectedChat:e,handleUpdateOpen:t,handleBack:r,handleGroup:l,handleChatSelect:i,handleClick:s})=>(0,n.jsx)("div",{className:"md:hidden overflow-hidden ",children:e?(0,n.jsx)(a.default,{chat:e,handleUpdateOpen:t,onBack:r}):(0,n.jsx)(o.default,{handleGroup:l,onChatSelect:i,handleClick:s})})},21820:e=>{"use strict";e.exports=require("os")},27526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingSpinner=t.SimpleSpinner=t.ChatMessageLoading=t.TypingIndicator=t.GradientRingSpinner=t.PulsingDotsSpinner=t.MultiRingSpinner=void 0,t.MultiRingSpinner=({size:e="md",className:t=""})=>(0,n.jsxs)("div",{className:`relative ${{sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[e]} ${t}`,children:[(0,n.jsx)("div",{className:"absolute inset-0 border-2 border-transparent border-t-[#58a6ff] rounded-full animate-spin"}),(0,n.jsx)("div",{className:"absolute top-1 left-1 right-1 bottom-1 border-2 border-transparent border-t-[#a855f7] rounded-full animate-spin-reverse",style:{animationDuration:"1.5s"}}),(0,n.jsx)("div",{className:"absolute top-2 left-2 right-2 bottom-2 border-2 border-transparent border-t-[#f97316] rounded-full animate-spin",style:{animationDuration:"2s"}})]}),t.PulsingDotsSpinner=({size:e="md",className:t=""})=>{let r={sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-3 h-3"};return(0,n.jsxs)("div",{className:`flex ${{sm:"gap-1",md:"gap-2",lg:"gap-3"}[e]} ${t}`,children:[(0,n.jsx)("div",{className:`${r[e]} rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale`,style:{animationDelay:"-0.32s"}}),(0,n.jsx)("div",{className:`${r[e]} rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale`,style:{animationDelay:"-0.16s"}}),(0,n.jsx)("div",{className:`${r[e]} rounded-full bg-gradient-to-r from-[#58a6ff] to-[#a855f7] animate-pulse-scale`})]})},t.GradientRingSpinner=({size:e="md",className:t=""})=>(0,n.jsx)("div",{className:`relative ${{sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[e]} ${t}`,children:(0,n.jsx)("div",{className:"w-full h-full rounded-full animate-spin",style:{background:"conic-gradient(from 0deg, transparent, #58a6ff, #a855f7, #f97316, transparent)",animationDuration:"1.2s"},children:(0,n.jsx)("div",{className:"absolute inset-0.5 bg-[#0d1117] rounded-full"})})}),t.TypingIndicator=({className:e=""})=>(0,n.jsxs)("div",{className:`flex items-center gap-1 px-4 py-3 bg-[rgba(22,27,34,0.8)] border border-[#30363d] rounded-2xl backdrop-blur-sm ${e}`,children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0s"}}),(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0.2s"}}),(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-[#7d8590] animate-typing",style:{animationDelay:"0.4s"}})]}),t.ChatMessageLoading=({message:e="AI is thinking...",className:t=""})=>(0,n.jsxs)("div",{className:`flex items-center gap-3 p-4 bg-[rgba(22,27,34,0.8)] border border-[#30363d] rounded-xl backdrop-blur-sm max-w-sm ${t}`,children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-[#30363d] border-t-[#58a6ff] rounded-full animate-spin flex-shrink-0"}),(0,n.jsx)("span",{className:"text-[#7d8590] text-sm",children:e})]}),t.SimpleSpinner=({size:e="md",className:t=""})=>(0,n.jsx)("div",{className:`${{sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"}[e]} border-[#30363d] border-t-[#58a6ff] rounded-full animate-spin ${t}`}),t.LoadingSpinner=({variant:e="simple",size:r="md",message:l,className:o=""})=>{switch(e){case"multi-ring":return(0,n.jsx)(t.MultiRingSpinner,{size:r,className:o});case"dots":return(0,n.jsx)(t.PulsingDotsSpinner,{size:r,className:o});case"gradient":return(0,n.jsx)(t.GradientRingSpinner,{size:r,className:o});case"typing":return(0,n.jsx)(t.TypingIndicator,{className:o});case"message":return(0,n.jsx)(t.ChatMessageLoading,{message:l,className:o});default:return(0,n.jsx)(t.SimpleSpinner,{size:r,className:o})}}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30041:(e,t,r)=>{Promise.resolve().then(r.bind(r,80559))},30474:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l.a});var n=r(31261),l=r.n(n),o={};for(let e in n)"default"!==e&&(o[e]=()=>n[e]);r.d(t,o)},30512:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return h},defaultHead:function(){return c}});let n=r(14985),l=r(40740),o=r(60687),a=l._(r(43210)),i=n._(r(47755)),s=r(14959),u=r(89513),d=r(34604);function c(e){void 0===e&&(e=!1);let t=[(0,o.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(50148);let p=["name","httpEquiv","charSet","itemProp"];function m(e,t){let{inAmpMode:r}=t;return e.reduce(f,[]).reverse().concat(c(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,n={};return l=>{let o=!0,a=!1;if(l.key&&"number"!=typeof l.key&&l.key.indexOf("$")>0){a=!0;let t=l.key.slice(l.key.indexOf("$")+1);e.has(t)?o=!1:e.add(t)}switch(l.type){case"title":case"base":t.has(l.type)?o=!1:t.add(l.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){let t=p[e];if(l.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?o=!1:r.add(t);else{let e=l.props[t],r=n[t]||new Set;("name"!==t||!a)&&r.has(e)?o=!1:(r.add(e),n[t]=r)}}}return o}}()).reverse().map((e,t)=>{let n=e.key||t;if(process.env.__NEXT_OPTIMIZE_FONTS&&!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:n})})}let h=function(e){let{children:t}=e,r=(0,a.useContext)(s.AmpStateContext),n=(0,a.useContext)(u.HeadManagerContext);return(0,o.jsx)(i.default,{reduceComponentsToState:m,headManager:n,inAmpMode:(0,d.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return s},getImageProps:function(){return i}});let n=r(14985),l=r(44953),o=r(46533),a=n._(r(1933));function i(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:a.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let s=o.Image},33384:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var l=Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),a=0;a<n.length;a++)"default"!==n[a]&&l(r,t,n[a]);return o(r,t),r}}(),i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(43210)),u=i(r(5898)),d=i(r(1235)),c=i(r(6770)),f=i(r(85893)),p=r(29631),m=r(16189),h=i(r(17525)),v=i(r(72967)),g=r(27526),b=r(49513);t.default=({handleGroup:e,handleClick:t,onChatSelect:r})=>{let[l,o]=(0,s.useState)("Messages"),[a,i]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),w=(0,m.useRouter)(),{logout:E,isLoading:S,user:j,error:C}=(0,p.useAuthStore)(),{chats:P}=(0,b.useChatStore)(),I=async()=>{try{await E(),i(!0),setTimeout(()=>{w.push("/withNavpages")},2e3)}catch{y(!0)}};return(0,n.jsxs)("section",{className:" p-4 h-screen bg-primary-bg flex flex-col",children:[(0,n.jsxs)("div",{className:"flex justify-between p-5 items-center mb-4",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-icon text-primary flex items-center justify-center font-semibold",children:(j?.firstname?.[0]?.toUpperCase()||"")+(j?.lastname?.[0]?.toUpperCase()||"")}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("p",{onClick:t,className:"text-primary text-xl md:text-2xl cursor-pointer",children:"⚙️"}),(0,n.jsx)("p",{onClick:I,className:"text-primary text-xl md:text-2xl cursor-pointer",children:"⏻"})]})]}),(0,n.jsx)("nav",{className:"border-b border-primary",children:(0,n.jsx)("ul",{className:"flex justify-between items-center w-full relative",children:["Messages","Friends","Group"].map(e=>(0,n.jsx)("li",{className:"flex-1",children:(0,n.jsxs)("button",{onClick:()=>o(e),className:`w-full p-4 text-center transition-all duration-200 relative ${l===e?"text-primary font-semibold":"text-gray-400 hover:text-gray-300"}`,children:[e,l===e&&(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-purple rounded-full"})]})},e))})}),(0,n.jsxs)("section",{className:"flex-1 flex flex-col min-h-0",children:["Messages"===l&&(0,n.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,n.jsx)("div",{className:"p-4 flex-shrink-0",children:(0,n.jsx)(u.default,{})}),(0,n.jsx)("div",{className:"flex-1 border-t  border-primary overflow-y-auto scrollbar-auto-hide px-5",children:P.length>0?(0,n.jsx)(d.default,{onChatSelect:r,conversations:P.filter(e=>!e.isGroup).map(e=>{let t=e.participants.find(e=>e.profilePicture);return{id:Number(e.id),name:e.name,avatar:t?t.profilePicture:"",message:e.lastMessage||"",time:e.lastMessageAt||"",unread:0}})}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center mt-16 text-center text-secondary",children:[(0,n.jsxs)("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",className:"mb-4",children:[(0,n.jsx)("circle",{cx:"32",cy:"32",r:"32",fill:"#23272F"}),(0,n.jsx)("path",{d:"M22 28a10 10 0 0 1 20 0v4a10 10 0 0 1-20 0v-4Z",stroke:"#A855F7",strokeWidth:"2"}),(0,n.jsx)("circle",{cx:"26",cy:"32",r:"2",fill:"#58A6FF"}),(0,n.jsx)("circle",{cx:"38",cy:"32",r:"2",fill:"#58A6FF"}),(0,n.jsx)("rect",{x:"28",y:"38",width:"8",height:"2",rx:"1",fill:"#A855F7"})]}),(0,n.jsx)("h2",{className:"text-lg font-semibold text-primary mb-1",children:"No Conversations Yet"}),(0,n.jsx)("p",{className:"text-sm text-secondary max-w-xs",children:"Start a chat with your friends or contacts to see your conversations here."})]})})]}),"Friends"===l&&(0,n.jsx)("div",{className:"p-5",children:(0,n.jsx)(c.default,{onChatSelect:r})}),"Group"===l&&(0,n.jsxs)("div",{className:"flex-1 flex flex-col min-h-0",children:[(0,n.jsx)("div",{className:"p-5 flex-shrink-0",children:(0,n.jsx)("div",{className:"p-2 mt-2 flex justify-center",children:(0,n.jsxs)("button",{onClick:e,className:"flex justify-center items-center gap-2 bg-gradient-purple text-primary font-semibold px-5 py-3 rounded-lg shadow-lg hover:brightness-110 transition duration-300 ease-in-out",children:[(0,n.jsx)(f.default,{size:24,color:"white"}),"Create Group"]})})}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-auto-hide px-5",children:P.length>0?(0,n.jsx)(d.default,{onChatSelect:r,conversations:P.filter(e=>e.isGroup).map(e=>({id:Number(e.id),name:e.name,avatar:"",message:e.lastMessage||"",time:e.lastMessageAt||"",unread:0}))}):(0,n.jsxs)("div",{className:"text-center text-gray-400",children:[(0,n.jsx)("p",{className:"text-lg font-semibold",children:"No Groups Available"}),(0,n.jsx)("p",{className:"text-sm",children:"Create or join a group to start chatting!"})]})})]})]}),S&&(0,n.jsx)("div",{className:"fixed inset-0 z-60 flex items-center justify-center bg-black bg-opacity-60",children:(0,n.jsx)(g.MultiRingSpinner,{})}),a&&(0,n.jsx)(h.default,{message:"Logout successful! Redirecting to homepage in 3 seconds...",handleTimeout:()=>{},url:"/withNavpages",tempState:null}),x&&(0,n.jsx)(v.default,{message:C||"Logout failed. Please try again.",handleTimeout:()=>{y(!1)}})]})}},33873:e=>{"use strict";e.exports=require("path")},34604:(e,t)=>{"use strict";function r(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},34631:e=>{"use strict";e.exports=require("tls")},38031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useStoryStore=void 0;let n=r(86249),l=function(e){return e&&e.__esModule?e:{default:e}}(r(63709));l.default.defaults.withCredentials=!0,l.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useStoryStore=(0,n.create)(e=>({stories:[],myStoryGroup:null,viewers:[],loading:!1,error:null,selectedStory:null,setSelectedStory:t=>e({selectedStory:t}),isUploadModalOpen:!1,setUploadModalOpen:t=>e({isUploadModalOpen:t}),fetchFriendStories:async()=>{e({loading:!0,error:null});try{let t=await l.default.get("/story/friends");e({stories:t.data.groupedStories,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to fetch stories",loading:!1})}},fetchMyStories:async()=>{e({loading:!0,error:null});try{let t=await l.default.get("/story/");console.log("My stories response:",t.data),e({myStoryGroup:t.data.userStories,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to fetch your stories",loading:!1})}},uploadStory:async r=>{e({loading:!0,error:null});try{await l.default.post("/story/upload",r),await Promise.all([t.useStoryStore.getState().fetchFriendStories(),t.useStoryStore.getState().fetchMyStories()])}catch(t){e({error:t instanceof Error?t.message:"Failed to upload story",loading:!1})}},markViewed:async e=>{try{await l.default.post(`/story/view/${e}`)}catch(e){console.error("Failed to mark as viewed",e)}},getStoryViewers:async t=>{e({loading:!0,error:null});try{let r=await l.default.get(`/story/view/${t}`),n=Array.isArray(r.data.viewers)?r.data.viewers:[];return e({viewers:n,loading:!1}),n}catch(t){return e({error:t instanceof Error?t.message:"Failed to fetch viewers",loading:!1,viewers:[]}),[]}},deleteStory:async r=>{e({loading:!0,error:null});try{await l.default.delete(`/story/${r}`),await Promise.all([t.useStoryStore.getState().fetchFriendStories(),t.useStoryStore.getState().fetchMyStories()]),e({loading:!1})}catch(t){e({error:t instanceof Error?t.message:"Failed to delete story",loading:!1})}}}))},38326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=r(43210),o=r(94247),a=r(16189),i=r(73320),s=r(49513),u=r(76310),d=function(e){return e&&e.__esModule?e:{default:e}}(r(30474));t.default=()=>{let{getProfile:e,user:t,updateProfile:r,uploadProfilePicture:c,isLoading:f}=(0,o.useProfileStore)(),[p,m]=(0,l.useState)(""),[h,v]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[x,y]=(0,l.useState)(null),{friends:w}=(0,i.useFriendsStore)(),E=(0,a.useRouter)(),{chats:S}=(0,s.useChatStore)();(0,l.useEffect)(()=>{(async()=>{await e()})()},[e]),(0,l.useEffect)(()=>{t&&(m(t.firstname),v(t.lastname),b(t.email),y(t.profilePicture||""))},[t]);let j=S.filter(e=>e.isGroup),C=async e=>{e.preventDefault();try{console.log("Updating profile with:",{firstName:p,lastName:h,email:g}),await r({firstname:p,lastname:h,email:g}),console.log("Profile updated successfully")}catch(e){console.error("Failed to update profile:",e),alert("Error updating profile. Please try again.")}},P=(0,l.useRef)(null),I=`${p?.[0]||""}${h?.[0]||""}`;return(0,n.jsxs)("div",{id:"profile",children:[(0,n.jsxs)("div",{className:"text-center  mb-6 pt-4",children:[(0,n.jsx)("h1",{className:"bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent text-3xl font-bold mb-2",children:"Profile"}),(0,n.jsx)("p",{className:"text-secondary",children:"Manage your personal information"})]}),(0,n.jsxs)("div",{className:"bg-[#161b22]/80 border border-primary rounded-2xl p-6 mb-4 relative overflow-hidden text-center backdrop-blur-lg",children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-purple opacity-10"}),(0,n.jsxs)("div",{className:"w-20 h-20 rounded-full border-4 border-blue-400 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center text-3xl text-white cursor-pointer overflow-hidden relative z-10",onClick:()=>{P.current?.click()},children:[(0,n.jsx)("input",{type:"file",accept:"image/*",ref:P,onChange:e=>{let t=e.target.files?.[0];t&&c(t)},className:"hidden"}),x?(0,n.jsx)(d.default,{width:80,height:80,src:x,alt:"Profile",className:"w-full h-full object-cover"}):I,(0,n.jsx)("div",{className:"absolute bottom-0 z-[1000] right-1 bg-black/60 rounded-full p-1 flex items-center justify-center ",children:(0,n.jsx)(u.Camera,{className:"w-5 h-5 text-white"})})]}),(0,n.jsxs)("div",{className:"text-xl font-bold mt-2",children:[p," ",h]}),(0,n.jsxs)("div",{className:"flex justify-around pt-4 border-t border-primary",children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-xl font-bold text-blue-400",children:w.length}),(0,n.jsx)("div",{className:"text-secondary text-sm",children:"Friends"})]}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-xl font-bold text-blue-400",children:j.length}),(0,n.jsx)("div",{className:"text-secondary text-sm",children:"Groups"})]})]})]}),(0,n.jsxs)("form",{onSubmit:C,className:"bg-[#161b22]/80 border border-primary rounded-2xl p-6 mb-4 backdrop-blur-lg",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edit Profile"}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block mb-2 font-medium",children:"First Name"}),(0,n.jsx)("input",{type:"text",className:"w-full p-3 bg-primary border border-primary rounded-lg text-base focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/10",value:p,onChange:e=>m(e.target.value),placeholder:"Enter your first name"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block mb-2 font-medium",children:"Last Name"}),(0,n.jsx)("input",{type:"text",className:"w-full p-3 bg-primary border border-primary rounded-lg text-base focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/10",value:h,onChange:e=>v(e.target.value),placeholder:"Enter your last name"})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block mb-2 font-medium",children:"Email"}),(0,n.jsx)("input",{type:"email",className:"w-full p-3 bg-primary border border-primary rounded-lg text-base focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-400/10",value:g,onChange:e=>b(e.target.value),placeholder:"Enter your email"})]}),(0,n.jsxs)("button",{type:"button",onClick:()=>E.push("/change-password"),className:"w-full flex items-center justify-center gap-2 bg-gradient-purple text-primary py-2 px-6 rounded-lg font-semibold hover:translate-y-[-2px] hover:shadow-lg transition disabled:opacity-50",children:[(0,n.jsx)("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M3 8a5 5 0 1 1 9.584 1H16v2h-2v2h-2v-2H9v-2.416A5 5 0 0 1 3 8zm5-3a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"})}),"Change password"]}),(0,n.jsxs)("button",{type:"submit",disabled:f,className:"w-full mt-2 flex items-center justify-center gap-2 bg-gradient-purple text-primary py-2 px-6 rounded-lg font-semibold hover:translate-y-[-2px] hover:shadow-lg transition disabled:opacity-50",children:[(0,n.jsx)("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708L9.708 9H2.5A1.5 1.5 0 0 0 1 10.5v.5a.5.5 0 0 0 .5.5h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 0 0 .5.5h.5a.5.5 0 0 1 .5.5v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14h1.5a.5.5 0 0 0 .5-.5v-2.293L15.854 3.854a.5.5 0 0 0 0-.708l-3-3z"})}),f?"Saving...":"Save Changes"]})]})]})}},38885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilteredUsers=t.getStatusColor=void 0;let n=r(73320);t.getStatusColor=e=>{switch(e){case"online":return"bg-green-500";case"away":return"bg-yellow-500";default:return"bg-gray-500"}},t.getFilteredUsers=(e,t)=>{let{allUsers:r,friends:l,onlineFriends:o}=n.useFriendsStore.getState(),a=[];switch(e){case"online":a=r.filter(e=>o.includes(e.id));break;case"friends":a=l;break;default:a=r}return a.filter(e=>e.firstname.toLowerCase().includes(t.toLowerCase())||e.lastname.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase()))}},39043:(e,t,r)=>{"use strict";let n=r(60687);var l=function(e){return e&&e.__esModule?e:{default:e}};let o=l(r(38326)),a=l(r(78936)),i=l(r(78575)),s=l(r(17870));t.A=({isOpen:e,handleClose:t,showCreateGroup:r,handleClickOutside:l,showUpdateGroup:u,updateGroupChat:d,handleGroupUpdated:c,showFriendProfile:f})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:`${e?"flex":"hidden"} fixed inset-0 z-[1000] bg-navbar-bg flex-col  items-center justify-center overflow-auto`,children:[(0,n.jsx)("button",{onClick:t,className:"text-primary text-3xl font-bold hover:text-red-500 transition-colors p-2","aria-label":"Close",children:"\xd7"}),(0,n.jsx)(o.default,{})]}),(0,n.jsx)("div",{className:`${r?"block":"hidden"} absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center h-full border p-4 md:p-8 z-[100]`,children:(0,n.jsx)(a.default,{handleClickOutside:l})}),(0,n.jsx)("div",{className:`${u?"block":"hidden"} absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center h-full border p-4 md:p-8 z-[100]`,children:d&&(0,n.jsx)(i.default,{handleClickOutside:l,onGroupUpdated:c,group:{id:d.id,name:d.name,participants:d.participants.map(e=>e.id)}})}),(0,n.jsx)("div",{className:`${f?"block":"hidden"} absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center h-full border p-4 md:p-8 z-[100]`,children:d&&(0,n.jsx)(s.default,{chat:{id:d.id,name:d.name,participants:d.participants.map(e=>e.id)},handleClickOutside:l})})]})},41480:(e,t)=>{"use strict";function r(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:l,blurDataURL:o,objectFit:a}=e,i=n?40*n:t,s=l?40*l:r,u=i&&s?"viewBox='0 0 "+i+" "+s+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+o+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},44040:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>c,pages:()=>d,routeModule:()=>f,tree:()=>u});var n=r(65239),l=r(48088),o=r(88170),a=r.n(o),i=r(30893),s={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>i[e]);r.d(t,s);let u={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,80559)),"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\dashboard\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},44953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return s}}),r(50148);let n=r(41480),l=r(12756),o=["-moz-initial","fill","none","scale-down",void 0];function a(e){return void 0!==e.default}function i(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function s(e,t){var r,s;let u,d,c,{src:f,sizes:p,unoptimized:m=!1,priority:h=!1,loading:v,className:g,quality:b,width:x,height:y,fill:w=!1,style:E,overrideSrc:S,onLoad:j,onLoadingComplete:C,placeholder:P="empty",blurDataURL:I,fetchPriority:k,decoding:T="async",layout:O,objectFit:N,objectPosition:M,lazyBoundary:R,lazyRoot:F,...D}=e,{imgConf:_,showAltText:A,blurComplete:L,defaultLoader:z}=t,$=_||l.imageConfigDefault;if("allSizes"in $)u=$;else{let e=[...$.deviceSizes,...$.imageSizes].sort((e,t)=>e-t),t=$.deviceSizes.sort((e,t)=>e-t),n=null==(r=$.qualities)?void 0:r.sort((e,t)=>e-t);u={...$,allSizes:e,deviceSizes:t,qualities:n}}if(void 0===z)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let B=D.loader||z;delete D.loader,delete D.srcSet;let U="__next_img_default"in B;if(U){if("custom"===u.loader)throw Object.defineProperty(Error('Image with src "'+f+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=B;B=t=>{let{config:r,...n}=t;return e(n)}}if(O){"fill"===O&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[O];e&&(E={...E,...e});let t={responsive:"100vw",fill:"100vw"}[O];t&&!p&&(p=t)}let H="",G=i(x),V=i(y);if((s=f)&&"object"==typeof s&&(a(s)||void 0!==s.src)){let e=a(f)?f.default:f;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(d=e.blurWidth,c=e.blurHeight,I=I||e.blurDataURL,H=e.src,!w)if(G||V){if(G&&!V){let t=G/e.width;V=Math.round(e.height*t)}else if(!G&&V){let t=V/e.height;G=Math.round(e.width*t)}}else G=e.width,V=e.height}let W=!h&&("lazy"===v||void 0===v);(!(f="string"==typeof f?f:H)||f.startsWith("data:")||f.startsWith("blob:"))&&(m=!0,W=!1),u.unoptimized&&(m=!0),U&&!u.dangerouslyAllowSVG&&f.split("?",1)[0].endsWith(".svg")&&(m=!0);let q=i(b),K=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:N,objectPosition:M}:{},A?{}:{color:"transparent"},E),Y=L||"empty"===P?null:"blur"===P?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:G,heightInt:V,blurWidth:d,blurHeight:c,blurDataURL:I||"",objectFit:K.objectFit})+'")':'url("'+P+'")',X=o.includes(K.objectFit)?"fill"===K.objectFit?"100% 100%":"cover":K.objectFit,Q=Y?{backgroundSize:X,backgroundPosition:K.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},J=function(e){let{config:t,src:r,unoptimized:n,width:l,quality:o,sizes:a,loader:i}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:s,kind:u}=function(e,t,r){let{deviceSizes:n,allSizes:l}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:l.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:l,kind:"w"}}return"number"!=typeof t?{widths:n,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>l.find(t=>t>=e)||l[l.length-1]))],kind:"x"}}(t,l,a),d=s.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:s.map((e,n)=>i({config:t,src:r,quality:o,width:e})+" "+("w"===u?e:n+1)+u).join(", "),src:i({config:t,src:r,quality:o,width:s[d]})}}({config:u,src:f,unoptimized:m,width:G,quality:q,sizes:p,loader:B});return{props:{...D,loading:W?"lazy":v,fetchPriority:k,width:G,height:V,decoding:T,className:g,style:{...K,...Q},sizes:J.sizes,srcSet:J.srcSet,src:S||J.src},meta:{unoptimized:m,priority:h,placeholder:P,fill:w}}}},46533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return y}});let n=r(14985),l=r(40740),o=r(60687),a=l._(r(43210)),i=n._(r(51215)),s=n._(r(30512)),u=r(44953),d=r(12756),c=r(17903);r(50148);let f=r(69148),p=n._(r(1933)),m=r(53038),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function v(e,t,r,n,l,o,a){let i=null==e?void 0:e.src;e&&e["data-loaded-src"]!==i&&(e["data-loaded-src"]=i,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&l(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,l=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>l,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{l=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}}))}function g(e){return a.use?{fetchPriority:e}:{fetchpriority:e}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let b=(0,a.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:l,height:i,width:s,decoding:u,className:d,style:c,fetchPriority:f,placeholder:p,loading:h,unoptimized:b,fill:x,onLoadRef:y,onLoadingCompleteRef:w,setBlurComplete:E,setShowAltText:S,sizesInput:j,onLoad:C,onError:P,...I}=e,k=(0,a.useCallback)(e=>{e&&(P&&(e.src=e.src),e.complete&&v(e,p,y,w,E,b,j))},[r,p,y,w,E,P,b,j]),T=(0,m.useMergedRef)(t,k);return(0,o.jsx)("img",{...I,...g(f),loading:h,width:s,height:i,decoding:u,"data-nimg":x?"fill":"1",className:d,style:c,sizes:l,srcSet:n,src:r,ref:T,onLoad:e=>{v(e.currentTarget,p,y,w,E,b,j)},onError:e=>{S(!0),"empty"!==p&&E(!0),P&&P(e)}})});function x(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...g(r.fetchPriority)};return t&&i.default.preload?(i.default.preload(r.src,n),null):(0,o.jsx)(s.default,{children:(0,o.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...n},"__nimg-"+r.src+r.srcSet+r.sizes)})}let y=(0,a.forwardRef)((e,t)=>{let r=(0,a.useContext)(f.RouterContext),n=(0,a.useContext)(c.ImageConfigContext),l=(0,a.useMemo)(()=>{var e;let t=h||n||d.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),l=t.deviceSizes.sort((e,t)=>e-t),o=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:l,qualities:o}},[n]),{onLoad:i,onLoadingComplete:s}=e,m=(0,a.useRef)(i);(0,a.useEffect)(()=>{m.current=i},[i]);let v=(0,a.useRef)(s);(0,a.useEffect)(()=>{v.current=s},[s]);let[g,y]=(0,a.useState)(!1),[w,E]=(0,a.useState)(!1),{props:S,meta:j}=(0,u.getImgProps)(e,{defaultLoader:p.default,imgConf:l,blurComplete:g,showAltText:w});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(b,{...S,unoptimized:j.unoptimized,placeholder:j.placeholder,fill:j.fill,onLoadRef:m,onLoadingCompleteRef:v,setBlurComplete:y,setShowAltText:E,sizesInput:e.sizes,ref:t}),j.priority?(0,o.jsx)(x,{isAppRouter:!r,imgAttributes:S}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47755:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(43210),l=()=>{},o=()=>{};function a(e){var t;let{headManager:r,reduceComponentsToState:a}=e;function i(){if(r&&r.mountedInstances){let t=n.Children.toArray(Array.from(r.mountedInstances).filter(Boolean));r.updateHead(a(t,e))}}return null==r||null==(t=r.mountedInstances)||t.add(e.children),i(),l(()=>{var t;return null==r||null==(t=r.mountedInstances)||t.add(e.children),()=>{var t;null==r||null==(t=r.mountedInstances)||t.delete(e.children)}}),l(()=>(r&&(r._pendingUpdate=i),()=>{r&&(r._pendingUpdate=i)})),o(()=>(r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null),()=>{r&&r._pendingUpdate&&(r._pendingUpdate(),r._pendingUpdate=null)})),null}},48034:(e,t,r)=>{Promise.resolve().then(r.bind(r,63902))},48087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0}),t.default=({value:e,onChange:t})=>(0,n.jsx)("div",{className:"px-5 pb-5",children:(0,n.jsx)("input",{className:"w-full px-4 py-3 bg-tertiary-bg border text-primary border-primary mt-3 h-[50px] rounded text-sm focus:outline-none focus:border-[#58a6ff] focus:ring-4 focus:ring-[#58a6ff]/20",type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search friends by name or email"})})},49513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useChatStore=void 0;let n=r(86249),l=function(e){return e&&e.__esModule?e:{default:e}}(r(63709));l.default.defaults.withCredentials=!0,l.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useChatStore=(0,n.create)((e,t)=>({chats:[],messages:{},loading:!1,error:null,fetchChatsSummary:async()=>{e({loading:!0,error:null});try{let t=(await l.default.get("/message/message-list")).data.chats;e({chats:t,loading:!1})}catch(t){console.error("Error fetching chats:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},fetchMessages:async t=>{e({loading:!0,error:null});try{if(!t)return void e({loading:!1});let r=await l.default.get(`/message?chatId=${t}`);e(e=>({messages:{...e.messages,[t]:r.data.messages},loading:!1}))}catch(t){console.error("Error fetching messages:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},createChat:async(r,n="",o=!1)=>{e({loading:!0,error:null});try{let a=await l.default.post("/message/create-chat",{participantIds:r,name:n,isGroup:o});await t().fetchChatsSummary();let i=a.data.chat.id,s=t().chats.find(e=>e.id===i)||null;return e({loading:!1}),s}catch(t){return console.error("Error creating chat:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1}),null}},sendMessage:async(t,r,n)=>{e({loading:!0,error:null});try{let o=new FormData;o.append("chatId",t.toString()),r&&o.append("content",r),n&&o.append("image",n);let a=await l.default.post("/message/send-message",o,{headers:{"Content-Type":"multipart/form-data"}});e(e=>({messages:{...e.messages,[t]:[...e.messages[t]||[],a.data.message]},loading:!1}))}catch(t){console.error("Error sending message:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},updateGroupChat:async(r,n,o=[],a=[])=>{e({loading:!0,error:null});try{await l.default.put(`/message/update-group/${r}`,{name:n,addUserIds:o,removeUserIds:a}),await t().fetchChatsSummary(),e({loading:!1})}catch(t){console.error("Error updating group chat:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},deleteMessageEveryone:async(t,r)=>{e({loading:!0,error:null});try{await l.default.delete(`/message/delete-user/${r}`),e(e=>({messages:{...e.messages,[t]:(e.messages[t]||[]).filter(e=>e.id!==r)},loading:!1}))}catch(t){console.error("Error deleting message for everyone:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},deleteChatEveryone:async t=>{e({loading:!0,error:null});try{await l.default.delete(`/message/delete-everyone/${t}`),e(e=>({chats:e.chats.filter(e=>e.id!==t),messages:Object.fromEntries(Object.entries(e.messages).filter(([e])=>Number(e)!==t)),loading:!1}))}catch(t){console.error("Error deleting chat for everyone:",t),e({error:t instanceof Error?t.message:"Unknown error",loading:!1})}},clearError:()=>e({error:null})}))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(60687),l=r(43210),o=r(49513),a=r(29631),i=r(73320),s=r(27526),u=r(21632),d=r(10942),c=r(39043);let f=()=>{let[e,t]=(0,l.useState)(!1),[r,f]=(0,l.useState)(null),[p,m]=(0,l.useState)(!1),[h,v]=(0,l.useState)(!1),[g,b]=(0,l.useState)(!1),[x,y]=(0,l.useState)(null),{isAuthenticated:w,getSession:E}=(0,a.useAuthStore)(),{chats:S,fetchChatsSummary:j}=(0,o.useChatStore)(),[C,P]=(0,l.useState)(!0),[I,k]=(0,l.useState)("redirecting"),{fetchFriends:T,fetchOnlineFriends:O,fetchAllUsers:N}=(0,i.useFriendsStore)();(0,l.useEffect)(()=>{(async()=>{await E()})()},[E]),(0,l.useEffect)(()=>{if(w){k("redirecting");let e=setTimeout(()=>{k("authenticating")},2500),t=setTimeout(()=>{P(!1)},5e3);return()=>{clearTimeout(e),clearTimeout(t)}}P(!1)},[w]),(0,l.useEffect)(()=>{N(),T(),j(),O()},[N,T,O,j]);let M=()=>t(!0),R=async(e,t)=>{if(t)return void f(t);let r=S.find(t=>Number(t.id)===e)||null;if(!r||!Array.isArray(r.participants))return void f(null);f({...r,participants:r.participants.map(e=>({id:e.id,name:e.name??""})),lastMessage:r.lastMessage??void 0,lastMessageAt:r.lastMessageAt??void 0})},F=()=>{m(!p)},D=e=>{e?.isGroup?(y(e),v(!h)):(b(!g),y(e))},_=()=>f(null);return C?(0,n.jsxs)("div",{className:"h-screen bg-navbar-bg flex flex-col justify-center items-center gap-4 ",children:[(0,n.jsx)(s.MultiRingSpinner,{}),(0,n.jsx)("p",{className:"text-lg font-semibold text-primary",children:"redirecting"===I?"redirecting...":"Authenticating..."}),(0,n.jsx)("div",{className:"w-64 h-2 bg-gray-300 rounded-full overflow-hidden mt-2",children:(0,n.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-purple-600 animate-progressBar",style:{animationDuration:"5s"}})})]}):(0,n.jsxs)("div",{className:"h-screen overflow-hidden ",children:[(0,n.jsx)(u.A,{selectedChat:r,handleUpdateOpen:D,handleBack:_,handleGroup:F,handleChatSelect:R,handleClick:M}),(0,n.jsx)(d.A,{selectedChat:r,handleUpdateOpen:D,handleBack:_,handleGroup:F,handleChatSelect:R,handleClick:M}),(0,n.jsx)(c.A,{isOpen:e,handleClose:()=>t(!1),showCreateGroup:p,handleClickOutside:()=>{m(!1),v(!1),b(!1)},showUpdateGroup:h,updateGroupChat:x,handleGroupUpdated:e=>{f(t=>t&&t.id===e.id?{...t,name:e.name,participants:e.participants.map(e=>t.participants.find(t=>t.id===e)||{id:e,name:""})}:t)},showFriendProfile:g})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ppeli\\\\Documents\\\\chat-app\\\\frontend\\\\src\\\\app\\\\dashboard\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\dashboard\\layout.tsx","default")},63902:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var n=r(60687);function l({children:e}){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("main",{children:e})})}},64313:(e,t,r)=>{"use strict";var n=Object.create,l=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,u=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of a(t))s.call(e,i)||i===r||l(e,i,{get:()=>t[i],enumerable:!(n=o(t,i))||n.enumerable});return e},c=(e,t,r)=>(r=null!=e?n(i(e)):{},d(!t&&e&&e.__esModule?r:l(r,"default",{value:e,enumerable:!0}),e)),f=(e,t,r)=>(u(e,"symbol"!=typeof t?t+"":t,r),r),p=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},m=(e,t,r)=>(p(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},v=(e,t,r,n)=>(p(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),g={};((e,t)=>{for(var r in t)l(e,r,{get:t[r],enumerable:!0})})(g,{Button:()=>e$,Checkbox:()=>ty,CloseButton:()=>tP,Combobox:()=>l9,ComboboxButton:()=>l4,ComboboxInput:()=>l5,ComboboxLabel:()=>l6,ComboboxOption:()=>l7,ComboboxOptions:()=>l8,DataInteractive:()=>or,Description:()=>tp,Dialog:()=>oV,DialogBackdrop:()=>oU,DialogDescription:()=>oG,DialogPanel:()=>oB,DialogTitle:()=>oH,Disclosure:()=>o4,DisclosureButton:()=>o2,DisclosurePanel:()=>o3,Field:()=>o6,Fieldset:()=>ae,FocusTrap:()=>og,FocusTrapFeatures:()=>ov,Input:()=>ar,Label:()=>tx,Legend:()=>al,Listbox:()=>aN,ListboxButton:()=>aP,ListboxLabel:()=>aI,ListboxOption:()=>aT,ListboxOptions:()=>ak,ListboxSelectedOption:()=>aO,Menu:()=>aX,MenuButton:()=>aG,MenuHeading:()=>aK,MenuItem:()=>aW,MenuItems:()=>aV,MenuSection:()=>aq,MenuSeparator:()=>aY,Popover:()=>il,PopoverBackdrop:()=>ie,PopoverButton:()=>a7,PopoverGroup:()=>ir,PopoverOverlay:()=>a9,PopoverPanel:()=>it,Portal:()=>lG,Radio:()=>ih,RadioGroup:()=>ib,RadioGroupDescription:()=>ig,RadioGroupLabel:()=>iv,RadioGroupOption:()=>im,Select:()=>iy,Switch:()=>ik,SwitchDescription:()=>iI,SwitchGroup:()=>iC,SwitchLabel:()=>iP,Tab:()=>iq,TabGroup:()=>iH,TabList:()=>iG,TabPanel:()=>iW,TabPanels:()=>iV,Textarea:()=>iY,Transition:()=>oT,TransitionChild:()=>ok,useClose:()=>tj}),e.exports=d(l({},"__esModule",{value:!0}),g);var b=c(r(43210),1),x="undefined"!=typeof document?b.default.useLayoutEffect:()=>{},y=r(43210),w=e=>{var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document},E=e=>e&&"window"in e&&e.window===e?e:w(e).defaultView||window;function S(e,t){return!!t&&!!e&&e.contains(t)}var j=(e=document)=>e.activeElement;function C(e){return e.target}function P(e){let t=null;return()=>(null==t&&(t=e()),t)}var I=P(function(){return!1}),k=P(function(){return!1}),T=P(function(){return I()&&navigator.maxTouchPoints>1}),O=P(function(){return k()||T()}),N=(P(function(){return I()||O()}),P(function(){return!1}),P(function(){return!1}),P(function(){return!1}));P(function(){return!1});var M=r(43210);function R(){let e=(0,M.useRef)(new Map),t=(0,M.useCallback)((t,r,n,l)=>{let o=null!=l&&l.once?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:o,options:l}),t.addEventListener(r,o,l)},[]),r=(0,M.useCallback)((t,r,n,l)=>{var o;let a=(null==(o=e.current.get(n))?void 0:o.fn)||n;t.removeEventListener(r,a,l),e.current.delete(n)},[]),n=(0,M.useCallback)(()=>{e.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]);return(0,M.useEffect)(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}var F=r(43210);function D(e){return e.nativeEvent=e,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function _(e){var t;let r,n=(0,F.useRef)({isFocused:!1,observer:null});x(()=>{let e=n.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]);let l=(t=t=>{null==e||e(t)},r=(0,y.useRef)(null),x(()=>{r.current=t},[t]),(0,y.useCallback)((...e)=>{let t=r.current;return null==t?void 0:t(...e)},[]));return(0,F.useCallback)(e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){n.current.isFocused=!0;let t=e.target;t.addEventListener("focusout",e=>{n.current.isFocused=!1,t.disabled&&l(D(e)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)},{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&t.disabled){var e;null==(e=n.current.observer)||e.disconnect();let r=t===document.activeElement?null:document.activeElement;t.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}}),n.current.observer.observe(t,{attributes:!0,attributeFilter:["disabled"]})}},[l])}var A=r(43210),L=null,z=new Set,$=new Map,B=!1,U=!1,H={Tab:!0,Escape:!0};function G(e,t){for(let r of z)r(e,t)}function V(e){B=!0,e.metaKey||!I()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(L="keyboard",G("keyboard",e))}function W(e){L="pointer",("mousedown"===e.type||"pointerdown"===e.type)&&(B=!0,G("pointer",e))}function q(e){(0===e.mozInputSource&&e.isTrusted||(N()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType))&&(B=!0,L="virtual")}function K(e){e.target!==window&&e.target!==document&&e.isTrusted&&(B||U||(L="virtual",G("virtual",e)),B=!1,U=!1)}function Y(){B=!1,U=!0}function X(e){}var Q=(e,t)=>{let r=E(e),n=w(e);t&&n.removeEventListener("DOMContentLoaded",t),$.has(r)&&(r.HTMLElement.prototype.focus=$.get(r).focus,n.removeEventListener("keydown",V,!0),n.removeEventListener("keyup",V,!0),n.removeEventListener("click",q,!0),r.removeEventListener("focus",K,!0),r.removeEventListener("blur",Y,!1),"undefined"!=typeof PointerEvent&&(n.removeEventListener("pointerdown",W,!0),n.removeEventListener("pointermove",W,!0),n.removeEventListener("pointerup",W,!0)),$.delete(r))};function J(){return"pointer"!==L}"undefined"!=typeof document&&function(e){let t=w(void 0),r;"loading"!==t.readyState||(r=()=>{},t.addEventListener("DOMContentLoaded",r)),()=>Q(void 0,r)}();var Z=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),ee=r(43210),et=r(43210),er=r(43210),en=!1,el=0;function eo(e){"touch"===e.pointerType&&(en=!0,setTimeout(()=>{en=!1},50))}function ea(){if("undefined"!=typeof document)return"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",eo),el++,()=>{--el>0||"undefined"==typeof PointerEvent||document.removeEventListener("pointerup",eo)}}function ei(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:l}=e,[o,a]=(0,er.useState)(!1),i=(0,er.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,er.useEffect)(ea,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=R(),{hoverProps:d,triggerHoverEnd:c}=(0,er.useMemo)(()=>{let e=(e,n)=>{if(i.pointerType=n,l||"touch"===n||i.isHovered||!e.currentTarget.contains(e.target))return;i.isHovered=!0;let u=e.currentTarget;i.target=u,s(w(e.target),"pointerover",e=>{i.isHovered&&i.target&&!S(i.target,e.target)&&o(e,e.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:u,pointerType:n}),r&&r(!0),a(!0)},o=(e,t)=>{let l=i.target;i.pointerType="",i.target=null,"touch"!==t&&i.isHovered&&l&&(i.isHovered=!1,u(),n&&n({type:"hoverend",target:l,pointerType:t}),r&&r(!1),a(!1))},d={};return"undefined"!=typeof PointerEvent&&(d.onPointerEnter=t=>{en&&"mouse"===t.pointerType||e(t,t.pointerType)},d.onPointerLeave=e=>{!l&&e.currentTarget.contains(e.target)&&o(e,e.pointerType)}),{hoverProps:d,triggerHoverEnd:o}},[t,r,n,l,i,s,u]);return(0,er.useEffect)(()=>{l&&c({currentTarget:i.target},i.pointerType)},[l]),{hoverProps:d,isHovered:o}}var es=r(43210);function eu(e={}){var t,r;let{autoFocus:n=!1,isTextInput:l,within:o}=e,a=(0,es.useRef)({isFocused:!1,isFocusVisible:n||J()}),[i,s]=(0,es.useState)(!1),[u,d]=(0,es.useState)(()=>a.current.isFocused&&a.current.isFocusVisible),c=(0,es.useCallback)(()=>d(a.current.isFocused&&a.current.isFocusVisible),[]),f=(0,es.useCallback)(e=>{a.current.isFocused=e,s(e),c()},[c]);t=e=>{a.current.isFocusVisible=e,c()},r={isTextInput:l},(0,A.useEffect)(()=>{let e=(e,n)=>{var l;let o,a,i,s,u;l=!!(null!=r&&r.isTextInput),o=w(null==n?void 0:n.target),a=HTMLInputElement,i=HTMLTextAreaElement,s=HTMLElement,u=KeyboardEvent,(l=l||o.activeElement instanceof a&&!Z.has(o.activeElement.type)||o.activeElement instanceof i||o.activeElement instanceof s&&o.activeElement.isContentEditable)&&"keyboard"===e&&n instanceof u&&!H[n.key]||t(J())};return z.add(e),()=>{z.delete(e)}},[]);let{focusProps:p}=function(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:l}=e,o=(0,ee.useCallback)(e=>{if(e.target===e.currentTarget)return n&&n(e),l&&l(!1),!0},[n,l]),a=_(o),i=(0,ee.useCallback)(e=>{var t;let n=w(e.target),o=n?j(n):j();e.target===e.currentTarget&&o===(t=e.nativeEvent,t.target)&&(r&&r(e),l&&l(!0),a(e))},[l,r,a]);return{focusProps:{onFocus:!t&&(r||l||n)?i:void 0,onBlur:!t&&(n||l)?o:void 0}}}({isDisabled:o,onFocusChange:f}),{focusWithinProps:m}=function(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:l}=e,o=(0,et.useRef)({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:i}=R(),s=(0,et.useCallback)(e=>{e.currentTarget.contains(e.target)&&o.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(o.current.isFocusWithin=!1,i(),r&&r(e),l&&l(!1))},[r,l,o,i]),u=_(s),d=(0,et.useCallback)(e=>{var t;if(!e.currentTarget.contains(e.target))return;let r=w(e.target),i=j(r);if(!o.current.isFocusWithin&&i===(t=e.nativeEvent,t.target)){n&&n(e),l&&l(!0),o.current.isFocusWithin=!0,u(e);let t=e.currentTarget;a(r,"focus",e=>{if(o.current.isFocusWithin&&!S(t,e.target)){let n=new r.defaultView.FocusEvent("blur",{relatedTarget:e.target});Object.defineProperty(n,"target",{value:t}),Object.defineProperty(n,"currentTarget",{value:t}),s(D(n))}},{capture:!0})}},[n,l,u,a,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:s}}}({isDisabled:!o,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:u,focusProps:o?m:p}}var ed=r(43210),ec=r(43210),ef=new class{constructor(){f(this,"current",this.detect()),f(this,"handoffState","pending"),f(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"server"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}};function ep(e){var t,r;return ef.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?null!=(r=null==(t=e.current)?void 0:t.ownerDocument)?r:document:null:document}var em=r(43210);function eh(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function ev(){let e=[],t={addEventListener:(e,r,n,l)=>(e.addEventListener(r,n,l),t.add(()=>e.removeEventListener(r,n,l))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return eh(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=ev();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function eg(){let[e]=(0,em.useState)(ev);return(0,em.useEffect)(()=>()=>e.dispose(),[e]),e}var eb=c(r(43210),1),ex=r(43210),ey=r(43210),ew=(e,t)=>{ef.isServer?(0,ey.useEffect)(e,t):(0,ey.useLayoutEffect)(e,t)};function eE(e){let t=(0,ex.useRef)(e);return ew(()=>{t.current=e},[e]),t}var eS=function(e){let t=eE(e);return eb.default.useCallback((...e)=>t.current(...e),[t])};function ej({disabled:e=!1}={}){let t=(0,ec.useRef)(null),[r,n]=(0,ec.useState)(!1),l=eg(),o=eS(()=>{t.current=null,n(!1),l.dispose()}),a=eS(e=>{if(l.dispose(),null===t.current){t.current=e.currentTarget,n(!0);{let r=ep(e.currentTarget);l.addEventListener(r,"pointerup",o,!1),l.addEventListener(r,"pointermove",e=>{if(t.current){var r,l;let o,a;n((o=e.width/2,a=e.height/2,r={top:e.clientY-a,right:e.clientX+o,bottom:e.clientY+a,left:e.clientX-o},l=t.current.getBoundingClientRect(),!(!r||!l||r.right<l.left||r.left>l.right||r.bottom<l.top||r.top>l.bottom)))}},!1),l.addEventListener(r,"pointercancel",o,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:a,onPointerUp:o,onClick:o}}}var eC=c(r(43210),1),eP=(0,eC.createContext)(void 0);function eI(){return(0,eC.useContext)(eP)}function ek({value:e,children:t}){return eC.default.createElement(eP.Provider,{value:e},t)}var eT=c(r(43210),1);function eO(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function eN(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eN),n}function eM(){let e,t,r=(e=(0,eT.useRef)([]),t=(0,eT.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]),(...r)=>{if(!r.every(e=>null==e))return e.current=r,t});return(0,eT.useCallback)(e=>(function({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:l,visible:o=!0,name:a,mergeRefs:i}){i=null!=i?i:eF;let s=eD(t,e);if(o)return eR(s,r,n,a,i);let u=null!=l?l:0;if(2&u){let{static:e=!1,...t}=s;if(e)return eR(t,r,n,a,i)}if(1&u){let{unmount:e=!0,...t}=s;return eN(+!e,{0:()=>null,1:()=>eR({...t,hidden:!0,style:{display:"none"}},r,n,a,i)})}return eR(s,r,n,a,i)})({mergeRefs:r,...e}),[r])}function eR(e,t={},r,n,l){let{as:o=r,children:a,refName:i="ref",...s}=ez(e,["unmount","static"]),u=void 0!==e.ref?{[i]:e.ref}:{},d="function"==typeof a?a(t):a;"className"in s&&s.className&&"function"==typeof s.className&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let c={};if(t){let e=!1,r=[];for(let[n,l]of Object.entries(t))"boolean"==typeof l&&(e=!0),!0===l&&r.push(n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e)for(let e of(c["data-headlessui-state"]=r.join(" "),r))c[`data-${e}`]=""}if(o===eT.Fragment&&(Object.keys(eL(s)).length>0||Object.keys(eL(c)).length>0))if(!(0,eT.isValidElement)(d)||Array.isArray(d)&&d.length>1){if(Object.keys(eL(s)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(eL(s)).concat(Object.keys(eL(c))).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`))}else{var f;let e=d.props,t=null==e?void 0:e.className,r="function"==typeof t?(...e)=>eO(t(...e),s.className):eO(t,s.className),n=eD(d.props,eL(ez(s,["ref"])));for(let e in c)e in n&&delete c[e];return(0,eT.cloneElement)(d,Object.assign({},n,c,u,{ref:l((f=d,eT.default.version.split(".")[0]>="19"?f.props.ref:f.ref),u.ref)},r?{className:r}:{}))}return(0,eT.createElement)(o,Object.assign({},ez(s,["ref"]),o!==eT.Fragment&&u,o!==eT.Fragment&&c),d)}function eF(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function eD(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])for(let e in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(r[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in r)Object.assign(t,{[e](t,...n){for(let l of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;l(t,...n)}}});return t}function e_(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];for(let e in r)Object.assign(t,{[e](...t){for(let n of r[e])null==n||n(...t)}});return t}function eA(e){var t;return Object.assign((0,eT.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function eL(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function ez(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}var e$=eA(function(e,t){var r;let n=eI(),{disabled:l=n||!1,autoFocus:o=!1,...a}=e,{isFocusVisible:i,focusProps:s}=eu({autoFocus:o}),{isHovered:u,hoverProps:d}=ei({isDisabled:l}),{pressed:c,pressProps:f}=ej({disabled:l}),p=e_({ref:t,type:null!=(r=a.type)?r:"button",disabled:l||void 0,autoFocus:o},s,d,f),m=(0,ed.useMemo)(()=>({disabled:l,hover:u,focus:i,active:c,autofocus:o}),[l,u,i,c,o]);return eM()({ourProps:p,theirProps:a,slot:m,defaultTag:"button",name:"Button"})}),eB=c(r(43210),1),eU=r(43210);function eH(e,t,r){let[n,l]=(0,eU.useState)(r),o=void 0!==e,a=(0,eU.useRef)(o),i=(0,eU.useRef)(!1),s=(0,eU.useRef)(!1);return!o||a.current||i.current?o||!a.current||s.current||(s.current=!0,a.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(i.current=!0,a.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[o?e:n,eS(e=>(o||l(e),null==t?void 0:t(e)))]}var eG=r(43210);function eV(e){let[t]=(0,eG.useState)(e);return t}var eW=r(43210),eq=c(r(43210),1),eK=r(51215);function eY(e,t){return e?e+"["+t+"]":t}function eX(e){var t,r;let n=null!=(t=null==e?void 0:e.form)?t:e.closest("form");if(n){for(let t of n.elements)if(t!==e&&("INPUT"===t.tagName&&"submit"===t.type||"BUTTON"===t.tagName&&"submit"===t.type||"INPUT"===t.nodeName&&"image"===t.type))return void t.click();null==(r=n.requestSubmit)||r.call(n)}}var eQ=eA(function(e,t){var r;let{features:n=1,...l}=e,o={ref:t,"aria-hidden":(2&n)==2||(null!=(r=l["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return eM()({ourProps:o,theirProps:l,slot:{},defaultTag:"span",name:"Hidden"})}),eJ=(0,eq.createContext)(null);function eZ(e){let[t,r]=(0,eq.useState)(null);return eq.default.createElement(eJ.Provider,{value:{target:t}},e.children,eq.default.createElement(eQ,{features:4,ref:r}))}function e0({children:e}){let t=(0,eq.useContext)(eJ);if(!t)return eq.default.createElement(eq.default.Fragment,null,e);let{target:r}=t;return r?(0,eK.createPortal)(eq.default.createElement(eq.default.Fragment,null,e),r):null}function e1({data:e,form:t,disabled:r,onReset:n,overrides:l}){let[o,a]=(0,eq.useState)(null),i=eg();return(0,eq.useEffect)(()=>{if(n&&o)return i.addEventListener(o,"reset",n)},[o,t,n]),eq.default.createElement(e0,null,eq.default.createElement(e2,{setForm:a,formId:t}),(function e(t={},r=null,n=[]){for(let[l,o]of Object.entries(t))!function t(r,n,l){if(Array.isArray(l))for(let[e,o]of l.entries())t(r,eY(n,e.toString()),o);else l instanceof Date?r.push([n,l.toISOString()]):"boolean"==typeof l?r.push([n,l?"1":"0"]):"string"==typeof l?r.push([n,l]):"number"==typeof l?r.push([n,`${l}`]):null==l?r.push([n,""]):e(l,n,r)}(n,eY(r,l),o);return n})(e).map(([e,n])=>eq.default.createElement(eQ,{features:4,...eL({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:r,name:e,value:n,...l})})))}function e2({setForm:e,formId:t}){return(0,eq.useEffect)(()=>{if(t){let r=document.getElementById(t);r&&e(r)}},[e,t]),t?null:eq.default.createElement(eQ,{features:4,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:t=>{if(!t)return;let r=t.closest("form");r&&e(r)}})}var e3=c(r(43210),1),e4=(0,e3.createContext)(void 0);function e5(){return(0,e3.useContext)(e4)}function e6({id:e,children:t}){return e3.default.createElement(e4.Provider,{value:e},t)}function e8(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function e7(e){return e8(e)&&"tagName"in e}function e9(e){return e7(e)&&"accessKey"in e}function te(e){return e7(e)&&"tabIndex"in e}function tt(e){return e9(e)&&"INPUT"===e.nodeName}function tr(e){return e9(e)&&"LABEL"===e.nodeName}function tn(e){return e9(e)&&"LEGEND"===e.nodeName}function tl(e){var t;let r=e.parentElement,n=null;for(;r&&!(e9(t=r)&&"FIELDSET"===t.nodeName);)tn(r)&&(n=r),r=r.parentElement;let l=(null==r?void 0:r.getAttribute("disabled"))==="";return!(l&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(tn(t))return!1;t=t.previousElementSibling}return!0}(n))&&l}var to=c(r(43210),1),ta=r(43210),ti=Symbol();function ts(e,t=!0){return Object.assign(e,{[ti]:t})}function tu(...e){let t=(0,ta.useRef)(e);(0,ta.useEffect)(()=>{t.current=e},[e]);let r=eS(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[ti]))?void 0:r}var td=(0,to.createContext)(null);function tc(){var e,t;return null!=(t=null==(e=(0,to.useContext)(td))?void 0:e.value)?t:void 0}function tf(){let[e,t]=(0,to.useState)([]);return[e.length>0?e.join(" "):void 0,(0,to.useMemo)(()=>function(e){let r=eS(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,to.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return to.default.createElement(td.Provider,{value:n},e.children)},[t])]}td.displayName="DescriptionContext";var tp=Object.assign(eA(function(e,t){let r=(0,eW.useId)(),n=eI(),{id:l=`headlessui-description-${r}`,...o}=e,a=function e(){let t=(0,to.useContext)(td);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),i=tu(t);ew(()=>a.register(l),[l,a.register]);let s=n||!1,u=(0,to.useMemo)(()=>({...a.slot,disabled:s}),[a.slot,s]),d={ref:i,...a.props,id:l};return eM()({ourProps:d,theirProps:o,slot:u,defaultTag:"p",name:a.name||"Description"})}),{}),tm=c(r(43210),1),th=(0,tm.createContext)(null);function tv(){let e=(0,tm.useContext)(th);if(null===e){let e=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,tv),e}return e}function tg(e){var t,r,n;let l=null!=(r=null==(t=(0,tm.useContext)(th))?void 0:t.value)?r:void 0;return(null!=(n=null==e?void 0:e.length)?n:0)>0?[l,...e].filter(Boolean).join(" "):l}function tb({inherit:e=!1}={}){let t=tg(),[r,n]=(0,tm.useState)([]),l=e?[t,...r].filter(Boolean):r;return[l.length>0?l.join(" "):void 0,(0,tm.useMemo)(()=>function(e){let t=eS(e=>(n(t=>[...t,e]),()=>n(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),r=(0,tm.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return tm.default.createElement(th.Provider,{value:r},e.children)},[n])]}th.displayName="LabelContext";var tx=Object.assign(eA(function(e,t){var r;let n=(0,eW.useId)(),l=tv(),o=e5(),a=eI(),{id:i=`headlessui-label-${n}`,htmlFor:s=null!=o?o:null==(r=l.props)?void 0:r.htmlFor,passive:u=!1,...d}=e,c=tu(t);ew(()=>l.register(i),[i,l.register]);let f=eS(e=>{var t;let r=e.currentTarget;if(!(e.target!==e.currentTarget&&e7(t=e.target)&&t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'))&&(tr(r)&&e.preventDefault(),l.props&&"onClick"in l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e),tr(r))){let e=document.getElementById(r.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(tt(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),p=a||!1,m=(0,tm.useMemo)(()=>({...l.slot,disabled:p}),[l.slot,p]),h={ref:c,...l.props,id:i,htmlFor:s,onClick:f};return u&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in d&&delete d.onClick),eM()({ourProps:h,theirProps:d,slot:m,defaultTag:s?"label":"div",name:l.name||"Label"})}),{}),ty=eA(function(e,t){let r=(0,eW.useId)(),n=e5(),l=eI(),{id:o=n||`headlessui-checkbox-${r}`,disabled:a=l||!1,autoFocus:i=!1,checked:s,defaultChecked:u,onChange:d,name:c,value:f,form:p,indeterminate:m=!1,tabIndex:h=0,...v}=e,g=eV(u),[b,x]=eH(s,d,null!=g&&g),y=tg(),w=tc(),E=eg(),[S,j]=(0,eB.useState)(!1),C=eS(()=>{j(!0),null==x||x(!b),E.nextFrame(()=>{j(!1)})}),P=eS(e=>{if(tl(e.currentTarget))return e.preventDefault();e.preventDefault(),C()}),I=eS(e=>{" "===e.key?(e.preventDefault(),C()):"Enter"===e.key&&eX(e.currentTarget)}),k=eS(e=>e.preventDefault()),{isFocusVisible:T,focusProps:O}=eu({autoFocus:i}),{isHovered:N,hoverProps:M}=ei({isDisabled:a}),{pressed:R,pressProps:F}=ej({disabled:a}),D=e_({ref:t,id:o,role:"checkbox","aria-checked":m?"mixed":b?"true":"false","aria-labelledby":y,"aria-describedby":w,"aria-disabled":!!a||void 0,indeterminate:m?"true":void 0,tabIndex:a?void 0:h,onKeyUp:a?void 0:I,onKeyPress:a?void 0:k,onClick:a?void 0:P},O,M,F),_=(0,eB.useMemo)(()=>({checked:b,disabled:a,hover:N,focus:T,active:R,indeterminate:m,changing:S,autofocus:i}),[b,m,a,N,T,R,S,i]),A=(0,eB.useCallback)(()=>{if(void 0!==g)return null==x?void 0:x(g)},[x,g]),L=eM();return eB.default.createElement(eB.default.Fragment,null,null!=c&&eB.default.createElement(e1,{disabled:a,data:{[c]:f||"on"},overrides:{type:"checkbox",checked:b},form:p,onReset:A}),L({ourProps:D,theirProps:v,slot:_,defaultTag:"span",name:"Checkbox"}))}),tw=c(r(43210),1),tE=c(r(43210),1),tS=(0,tE.createContext)(()=>{});function tj(){return(0,tE.useContext)(tS)}function tC({value:e,children:t}){return tE.default.createElement(tS.Provider,{value:e},t)}var tP=eA(function(e,t){let r=tj();return tw.default.createElement(e$,{ref:t,...e_({onClick:r},e)})}),tI=c(r(43210),1),tk=r(51215);function tT(e,t,r){var n;let l=null!=(n=r.initialDeps)?n:[],o;function a(){var n,a,i,s;let u,d;r.key&&null!=(n=r.debug)&&n.call(r)&&(u=Date.now());let c=e();if(!(c.length!==l.length||c.some((e,t)=>l[t]!==e)))return o;if(l=c,r.key&&null!=(a=r.debug)&&a.call(r)&&(d=Date.now()),o=t(...c),r.key&&null!=(i=r.debug)&&i.call(r)){let e=Math.round((Date.now()-u)*100)/100,t=Math.round((Date.now()-d)*100)/100,n=t/16,l=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c\u23F1 ${l(t,5)} /${l(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*n,120))}deg 100% 31%);`,null==r?void 0:r.key)}return null==(s=null==r?void 0:r.onChange)||s.call(r,o),o}return a.updateDeps=e=>{l=e},a}function tO(e,t){if(void 0===e)throw Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}var tN=(e,t)=>1>=Math.abs(e-t),tM=(e,t,r)=>{let n;return function(...l){e.clearTimeout(n),n=e.setTimeout(()=>t.apply(this,l),r)}},tR=e=>{let{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},tF=e=>e,tD=e=>{let t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let e=t;e<=r;e++)n.push(e);return n},t_=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e.targetWindow;if(!n)return;let l=e=>{let{width:r,height:n}=e;t({width:Math.round(r),height:Math.round(n)})};if(l(tR(r)),!n.ResizeObserver)return()=>{};let o=new n.ResizeObserver(t=>{let n=()=>{let e=t[0];if(null!=e&&e.borderBoxSize){let t=e.borderBoxSize[0];if(t)return void l({width:t.inlineSize,height:t.blockSize})}l(tR(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(n):n()});return o.observe(r,{box:"border-box"}),()=>{o.unobserve(r)}},tA={passive:!0},tL=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e.targetWindow;if(!n)return;let l=0,o=e.options.useScrollendEvent&&1?()=>{}:tM(n,()=>{t(l,!1)},e.options.isScrollingResetDelay),a=n=>()=>{let{horizontal:a,isRtl:i}=e.options;l=a?r.scrollLeft*(i&&-1||1):r.scrollTop,o(),t(l,n)},i=a(!0),s=a(!1);s(),r.addEventListener("scroll",i,tA);let u=e.options.useScrollendEvent&&!0;return u&&r.addEventListener("scrollend",s,tA),()=>{r.removeEventListener("scroll",i),u&&r.removeEventListener("scrollend",s)}},tz=(e,t,r)=>{if(null!=t&&t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},t$=(e,{adjustments:t=0,behavior:r},n)=>{var l,o;null==(o=null==(l=n.scrollElement)?void 0:l.scrollTo)||o.call(l,{[n.options.horizontal?"left":"top"]:e+t,behavior:r})},tB=class{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var r;null==(r=t())||r.disconnect(),e=null},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,r])=>{void 0===r&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:tF,rangeExtractor:tD,onChange:()=>{},measureElement:tz,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,r;null==(r=(t=this.options).onChange)||r.call(t,this,e)},this.maybeNotify=tT(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e,t;let r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r)return void this.maybeNotify();this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=null!=(e=null==(t=this.scrollElement)?void 0:t.window)?e:null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>{var e;return this.options.enabled?(this.scrollRect=null!=(e=this.scrollRect)?e:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var e;return this.options.enabled?(this.scrollOffset=null!=(e=this.scrollOffset)?e:"function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(e,t)=>{let r=new Map,n=new Map;for(let l=t-1;l>=0;l--){let t=e[l];if(r.has(t.lane))continue;let o=n.get(t.lane);if(null==o||t.end>o.end?n.set(t.lane,t):t.end<o.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=tT(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,t,r,n,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:l}),{key:!1}),this.getMeasurements=tT(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];let i=this.measurementsCache.slice(0,a);for(let l=a;l<e;l++){let e=n(l),a=1===this.options.lanes?i[l-1]:this.getFurthestMeasurement(i,l),s=a?a.end+this.options.gap:t+r,u=o.get(e),d="number"==typeof u?u:this.options.estimateSize(l),c=s+d,f=a?a.lane:l%this.options.lanes;i[l]={index:l,start:s,size:d,end:c,key:e,lane:f}}return this.measurementsCache=i,i},{key:!1,debug:()=>this.options.debug}),this.calculateRange=tT(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,r,n)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){let l=e.length-1,o=t=>e[t].start;if(e.length<=n)return{startIndex:0,endIndex:l};let a=tU(0,l,o,r),i=a;if(1===n)for(;i<l&&e[i].end<r+t;)i++;else if(n>1){let o=Array(n).fill(0);for(;i<l&&o.some(e=>e<r+t);){let t=e[i];o[t.lane]=t.end,i++}let s=Array(n).fill(r+t);for(;a>=0&&s.some(e=>e>=r);){let t=e[a];s[t.lane]=t.start,a--}a=Math.max(0,a-a%n),i=Math.min(l,i+(n-1-i%n))}return{startIndex:a,endIndex:i}}({measurements:e,outerSize:t,scrollOffset:r,lanes:n}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=tT(()=>{let e=null,t=null,r=this.calculateRange();return r&&(e=r.startIndex,t=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,r,n,l)=>null===n||null===l?[]:e({startIndex:n,endIndex:l,overscan:t,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let r=this.indexFromElement(e),n=this.measurementsCache[r];if(!n)return;let l=n.key,o=this.elementsCache.get(l);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(r,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{var r;let n=this.measurementsCache[e];if(!n)return;let l=t-(null!=(r=this.itemSizeCache.get(n.key))?r:n.size);0!==l&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(n,l,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,t)),this.notify(!1))},this.measureElement=e=>{if(!e)return void this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))});this._measureElement(e,void 0)},this.getVirtualItems=tT(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let r=[];for(let n=0,l=e.length;n<l;n++){let l=t[e[n]];r.push(l)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return tO(t[tU(0,t.length-1,e=>tO(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,r=0)=>{let n=this.getSize(),l=this.getScrollOffset();return"auto"===t&&(t=e>=l+n?"end":"start"),"center"===t?e+=(r-n)/2:"end"===t&&(e-=n),Math.max(Math.min(this.getTotalSize()-n,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let r=this.measurementsCache[e];if(!r)return;let n=this.getSize(),l=this.getScrollOffset();if("auto"===t)if(r.end>=l+n-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=l+this.options.scrollPaddingStart))return[l,t];t="start"}let o="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,t,r.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{null!==this.scrollToIndexTimeoutId&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");let n=this.getOffsetForIndex(e,t);if(!n)return;let[l,o]=n;this._scrollToOffset(l,{adjustments:void 0,behavior:r}),"smooth"!==r&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){let t=this.getOffsetForIndex(e,o);if(!t)return;let[n]=t;tN(n,this.getScrollOffset())||this.scrollToIndex(e,{align:o,behavior:r})}else this.scrollToIndex(e,{align:o,behavior:r})}))},this.scrollBy=(e,{behavior:t}={})=>{this.cancelScrollToIndex(),"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e,t;let r=this.getMeasurements(),n;if(0===r.length)n=this.options.paddingStart;else if(1===this.options.lanes)n=null!=(e=null==(t=r[r.length-1])?void 0:t.end)?e:0;else{let e=Array(this.options.lanes).fill(null),t=r.length-1;for(;t>=0&&e.some(e=>null===e);){let n=r[t];null===e[n.lane]&&(e[n.lane]=n.end),t--}n=Math.max(...e.filter(e=>null!==e))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}},tU=(e,t,r,n)=>{for(;e<=t;){let l=(e+t)/2|0,o=r(l);if(o<n)e=l+1;else{if(!(o>n))return l;t=l-1}}return e>0?e-1:0},tH="undefined"!=typeof document?tI.useLayoutEffect:tI.useEffect,tG=c(r(43210),1),tV=r(51215),tW=r(43210);function tq(e,t){return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&"id"in e&&"id"in t?e.id===t.id:e===t}function tK(e=tq){return(0,tW.useCallback)((t,r)=>"string"==typeof e?(null==t?void 0:t[e])===(null==r?void 0:r[e]):e(t,r),[e])}var tY=r(43210);function tX(e,t=!1){let[r,n]=(0,tY.useReducer)(()=>({}),{}),l=(0,tY.useMemo)(()=>(function(e){if(null===e)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}})(e),[e,r]);return ew(()=>{if(!e)return;let t=new ResizeObserver(n);return t.observe(e),()=>{t.disconnect()}},[e]),t?{width:`${l.width}px`,height:`${l.height}px`}:l}var tQ,tJ,tZ,t0=r(43210),t1=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}},t2=class{constructor(e){h(this,tQ,{}),h(this,tJ,new t1(()=>new Set)),h(this,tZ,new Set),f(this,"disposables",ev()),v(this,tQ,e)}dispose(){this.disposables.dispose()}get state(){return m(this,tQ)}subscribe(e,t){let r={selector:e,callback:t,current:e(m(this,tQ))};return m(this,tZ).add(r),this.disposables.add(()=>{m(this,tZ).delete(r)})}on(e,t){return m(this,tJ).get(e).add(t),this.disposables.add(()=>{m(this,tJ).get(e).delete(t)})}send(e){let t=this.reduce(m(this,tQ),e);if(t!==m(this,tQ)){for(let e of(v(this,tQ,t),m(this,tZ))){let t=e.selector(m(this,tQ));t3(e.current,t)||(e.current=t,e.callback(t))}for(let t of m(this,tJ).get(e.type))t(m(this,tQ),e)}}};function t3(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&t4(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&t4(e.entries(),t.entries()):!!(t5(e)&&t5(t))&&t4(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function t4(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function t5(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function t6(e){let[t,r]=e(),n=ev();return(...e)=>{t(...e),n.dispose(),n.microTask(r)}}tQ=new WeakMap,tJ=new WeakMap,tZ=new WeakMap;var t8={0(e,t){let r=t.id,n=e.stack,l=e.stack.indexOf(r);if(-1!==l){let t=e.stack.slice();return t.splice(l,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let l=e.stack.slice();return l.splice(n,1),{...e,stack:l}}},t7=class extends t2{constructor(){super(...arguments),f(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),f(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new t7({stack:[]})}reduce(e,t){return eN(t.type,t8,e,t)}},t9=new t1(()=>t7.new()),re=r(6895);function rt(e,t,r=t3){return(0,re.useSyncExternalStoreWithSelector)(eS(t=>e.subscribe(rr,t)),eS(()=>e.state),eS(()=>e.state),eS(t),r)}function rr(e){return e}function rn(e,t){let r=(0,t0.useId)(),n=t9.get(t),[l,o]=rt(n,(0,t0.useCallback)(e=>[n.selectors.isTop(e,r),n.selectors.inStack(e,r)],[n,r]));return ew(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),!!e&&(!o||l)}var rl=new Map,ro=new Map;function ra(e){var t;let r=null!=(t=ro.get(e))?t:0;return ro.set(e,r+1),0!==r||(rl.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>(function(e){var t;let r=null!=(t=ro.get(e))?t:1;if(1===r?ro.delete(e):ro.set(e,r-1),1!==r)return;let n=rl.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,rl.delete(e))})(e)}function ri(e,{allowed:t,disallowed:r}={}){let n=rn(e,"inert-others");ew(()=>{var e,l;if(!n)return;let o=ev();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&o.add(ra(t));let a=null!=(l=null==t?void 0:t())?l:[];for(let e of a){if(!e)continue;let t=ep(e);if(!t)continue;let r=e.parentElement;for(;r&&r!==t.body;){for(let e of r.children)a.some(t=>e.contains(t))||o.add(ra(e));r=r.parentElement}}return o.dispose},[n,t,r])}var rs=r(43210);function ru(e,t,r){let n=eE(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});(0,rs.useEffect)(()=>{if(!e)return;let r=null===t?null:e9(t)?t:t.current;if(!r)return;let l=ev();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>n.current(r));e.observe(r),l.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>n.current(r));e.observe(r),l.add(()=>e.disconnect())}return()=>l.dispose()},[t,n,e])}var rd=r(43210),rc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),rf=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function rp(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(rc)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function rm(e,t=0){var r;return e!==(null==(r=ep(e))?void 0:r.body)&&eN(t,{0:()=>e.matches(rc),1(){let t=e;for(;null!==t;){if(t.matches(rc))return!0;t=t.parentElement}return!1}})}function rh(e){let t=ep(e);ev().nextFrame(()=>{t&&te(t.activeElement)&&!rm(t.activeElement,0)&&rv(e)})}function rv(e){null==e||e.focus({preventScroll:!0})}function rg(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),l=t(r);if(null===n||null===l)return 0;let o=n.compareDocumentPosition(l);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rb(e,t){return rx(rp(),t,{relativeTo:e})}function rx(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:l=[]}={}){var o,a,i;let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,u=Array.isArray(e)?r?rg(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(rf)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):rp(e);l.length>0&&u.length>1&&(u=u.filter(e=>!l.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),n=null!=n?n:s.activeElement;let d=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,u.indexOf(n))-1;if(4&t)return Math.max(0,u.indexOf(n))+1;if(8&t)return u.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=32&t?{preventScroll:!0}:{},p=0,m=u.length,h;do{if(p>=m||p+m<=0)return 0;let e=c+p;if(16&t)e=(e+m)%m;else{if(e<0)return 3;if(e>=m)return 1}null==(h=u[e])||h.focus(f),p+=d}while(h!==s.activeElement);return 6&t&&null!=(i=null==(a=null==(o=h)?void 0:o.matches)?void 0:a.call(o,"textarea,input"))&&i&&h.select(),2}function ry(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function rw(){return ry()||/Android/gi.test(window.navigator.userAgent)}var rE=r(43210);function rS(e,t,r,n){let l=eE(r);(0,rE.useEffect)(()=>{if(e)return document.addEventListener(t,r,n),()=>document.removeEventListener(t,r,n);function r(e){l.current(e)}},[e,t,n])}var rj=r(43210);function rC(e,t,r,n){let l=eE(r);(0,rj.useEffect)(()=>{if(e)return window.addEventListener(t,r,n),()=>window.removeEventListener(t,r,n);function r(e){l.current(e)}},[e,t,n])}function rP(e,t,r){let n=eE(r),l=(0,rd.useCallback)(function(e,r){if(e.defaultPrevented)return;let l=r(e);if(null!==l&&l.getRootNode().contains(l)&&l.isConnected){for(let r of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t))if(null!==r&&(r.contains(l)||e.composed&&e.composedPath().includes(r)))return;return rm(l,1)||-1===l.tabIndex||e.preventDefault(),n.current(e,l)}},[n,t]),o=(0,rd.useRef)(null);rS(e,"pointerdown",e=>{var t,r;rw()||(o.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),rS(e,"pointerup",e=>{if(rw()||!o.current)return;let t=o.current;return o.current=null,l(e,()=>t)},!0);let a=(0,rd.useRef)({x:0,y:0});rS(e,"touchstart",e=>{a.current.x=e.touches[0].clientX,a.current.y=e.touches[0].clientY},!0),rS(e,"touchend",e=>{let t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(!(Math.abs(t.x-a.current.x)>=30||Math.abs(t.y-a.current.y)>=30))return l(e,()=>te(e.target)?e.target:null)},!0),rC(e,"blur",e=>l(e,()=>{var e;return e9(e=window.document.activeElement)&&"IFRAME"===e.nodeName?window.document.activeElement:null}),!0)}var rI=r(43210);function rk(...e){return(0,rI.useMemo)(()=>ep(...e),[...e])}var rT=r(43210),rO={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}};function rN(e,{trigger:t,action:r,close:n,select:l}){let o=(0,rT.useRef)(null);rS(e&&null!==t,"pointerdown",e=>{e8(null==e?void 0:e.target)&&null!=t&&t.contains(e.target)&&(o.current=new Date)}),rS(e&&null!==t,"pointerup",e=>{if(null===o.current||!te(e.target))return;let t=r(e),a=new Date().getTime()-o.current.getTime();switch(o.current=null,t.kind){case 0:return;case 1:a>200&&(l(t.target),n());break;case 2:n()}},{capture:!0})}var rM=r(43210),rR=r(43210);function rF(e,t,r,n){let l=eE(r);(0,rR.useEffect)(()=>{function r(e){l.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}function rD(e){let t=(0,rM.useRef)({value:"",selectionStart:null,selectionEnd:null});return rF(e,"blur",e=>{let r=e.target;tt(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),eS(()=>{if(document.activeElement!==e&&tt(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:r,selectionEnd:n}=t.current;null!==r&&null!==n&&e.setSelectionRange(r,n)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}var r_=r(43210);function rA(e,t){return(0,r_.useMemo)(()=>{var r;if(e.type)return e.type;let n=null!=(r=e.as)?r:"button";if("string"==typeof n&&"button"===n.toLowerCase()||(null==t?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}var rL=r(43210),rz=function(e,t){let r=e(),n=new Set;return{getSnapshot:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),dispatch(e,...l){let o=t[e].call(r,...l);o&&(r=o,n.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:ev(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n,l={doc:e,d:t,meta:function(e){let t={};for(let r of e)Object.assign(t,r(t));return t}(r)},o=[ry()?{before({doc:e,d:t,meta:r}){function n(e){return r.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=ev();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let l=null!=(r=window.scrollY)?r:window.pageYOffset,o=null;t.addEventListener(e,"click",t=>{if(te(t.target))try{let r=t.target.closest("a");if(!r)return;let{hash:l}=new URL(r.href),a=e.querySelector(l);te(a)&&!n(a)&&(o=a)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{var r;if(te(e.target)&&e7(r=e.target)&&"style"in r)if(n(e.target)){let r=e.target;for(;r.parentElement&&n(r.parentElement);)r=r.parentElement;t.style(r,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(te(e.target)&&!tt(e.target))if(n(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),t.add(()=>{var e;l!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,l),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{},{before({doc:e}){var t;let r=e.documentElement;n=Math.max(0,(null!=(t=e.defaultView)?t:window).innerWidth-r.clientWidth)},after({doc:e,d:t}){let r=e.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,n-l);t.style(r,"paddingRight",`${o}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];o.forEach(({before:e})=>null==e?void 0:e(l)),o.forEach(({after:e})=>null==e?void 0:e(l))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function r$(e,t,r=()=>[document.body]){!function(e,t,r=()=>({containers:[]})){let n=(0,rL.useSyncExternalStore)(rz.subscribe,rz.getSnapshot,rz.getSnapshot),l=t?n.get(t):void 0;l&&l.count,ew(()=>{if(!(!t||!e))return rz.dispatch("PUSH",t,r),()=>rz.dispatch("POP",t,r)},[e,t])}(rn(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}rz.subscribe(()=>{let e=rz.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&rz.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&rz.dispatch("TEARDOWN",r)}});var rB=r(43210);function rU(e){return[e.screenX,e.screenY]}function rH(){let e=(0,rB.useRef)([-1,-1]);return{wasMoved(t){let r=rU(t);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update(t){e.current=rU(t)}}}var rG=r(43210),rV=r(43210);function rW(e){let t={};for(let r in e)!0===e[r]&&(t[`data-${r}`]="");return t}function rq(e,t,r,n){let[l,o]=(0,rG.useState)(r),{hasFlag:a,addFlag:i,removeFlag:s}=function(e=0){let[t,r]=(0,rV.useState)(e),n=(0,rV.useCallback)(e=>r(e),[t]),l=(0,rV.useCallback)(e=>r(t=>t|e),[t]),o=(0,rV.useCallback)(e=>(t&e)===e,[t]);return{flags:t,setFlag:n,addFlag:l,hasFlag:o,removeFlag:(0,rV.useCallback)(e=>r(t=>t&~e),[r]),toggleFlag:(0,rV.useCallback)(e=>r(t=>t^e),[r])}}(e&&l?3:0),u=(0,rG.useRef)(!1),d=(0,rG.useRef)(!1);return ew(()=>{var l;if(e){if(r&&o(!0),!t){r&&i(3);return}return null==(l=null==n?void 0:n.start)||l.call(n,r),function(e,{prepare:t,run:r,done:n,inFlight:l}){let o=ev();return function(e,{inFlight:t,prepare:r}){if(null!=t&&t.current)return r();let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}(e,{prepare:t,inFlight:l}),o.nextFrame(()=>{r(),o.requestAnimationFrame(()=>{o.add(function(e,t){var r,n;let l=ev();if(!e)return l.dispose;let o=!1;l.add(()=>{o=!0});let a=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===a.length?t():Promise.allSettled(a.map(e=>e.finished)).then(()=>{o||t()}),l.dispose}(e,n))})}),o.dispose}(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,d.current||(r?(i(3),s(4)):(i(4),s(2)))},run(){d.current?r?(s(3),i(4)):(s(4),i(3)):r?s(1):i(1)},done(){var e;d.current&&"function"==typeof t.getAnimations&&t.getAnimations().length>0||(u.current=!1,s(7),r||o(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})}},[e,r,t,eg()]),e?[l,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(oF=null==process?void 0:process.env)?void 0:oF.NODE_ENV)==="test"&&void 0===(null==(oD=null==Element?void 0:Element.prototype)?void 0:oD.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var rK=r(43210);function rY(e,{container:t,accept:r,walk:n}){let l=(0,rK.useRef)(r),o=(0,rK.useRef)(n);(0,rK.useEffect)(()=>{l.current=r,o.current=n},[r,n]),ew(()=>{if(!t||!e)return;let r=ep(t);if(!r)return;let n=l.current,a=o.current,i=Object.assign(e=>n(e),{acceptNode:n}),s=r.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,i,!1);for(;s.nextNode();)a(s.currentNode)},[t,e,l,o])}var rX=r(43210);function rQ(e,t){let r=(0,rX.useRef)([]),n=eS(e);(0,rX.useEffect)(()=>{let e=[...r.current];for(let[l,o]of t.entries())if(r.current[l]!==o){let l=n(t,e);return r.current=t,l}},[n,...t])}var rJ=c(r(43210),1),rZ=r(43210);function r0(e){var t;return e instanceof Element||e instanceof((null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window).Element}var r1=Math.min,r2=Math.max,r3=Math.round,r4=Math.floor,r5=e=>({x:e,y:e}),r6={left:"right",right:"left",bottom:"top",top:"bottom"},r8={start:"end",end:"start"};function r7(e,t){return"function"==typeof e?e(t):e}function r9(e){return e.split("-")[0]}function ne(e){return e.split("-")[1]}function nt(e){return"x"===e?"y":"x"}function nr(e){return"y"===e?"height":"width"}function nn(e){return["top","bottom"].includes(r9(e))?"y":"x"}function nl(e){return e.replace(/start|end/g,e=>r8[e])}function no(e){return e.replace(/left|right|bottom|top/g,e=>r6[e])}function na(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ni(e,t,r){let{reference:n,floating:l}=e,o=nn(t),a=nt(nn(t)),i=nr(a),s=r9(t),u="y"===o,d=n.x+n.width/2-l.width/2,c=n.y+n.height/2-l.height/2,f=n[i]/2-l[i]/2,p;switch(s){case"top":p={x:d,y:n.y-l.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:c};break;case"left":p={x:n.x-l.width,y:c};break;default:p={x:n.x,y:n.y}}switch(ne(t)){case"start":p[a]-=f*(r&&u?-1:1);break;case"end":p[a]+=f*(r&&u?-1:1)}return p}var ns=async(e,t,r)=>{let{placement:n="bottom",strategy:l="absolute",middleware:o=[],platform:a}=r,i=o.filter(Boolean),s=await (null==a.isRTL?void 0:a.isRTL(t)),u=await a.getElementRects({reference:e,floating:t,strategy:l}),{x:d,y:c}=ni(u,n,s),f=n,p={},m=0;for(let r=0;r<i.length;r++){let{name:o,fn:h}=i[r],{x:v,y:g,data:b,reset:x}=await h({x:d,y:c,initialPlacement:n,placement:f,strategy:l,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});if(d=null!=v?v:d,c=null!=g?g:c,p={...p,[o]:{...p[o],...b}},x&&m<=50){m++,"object"==typeof x&&(x.placement&&(f=x.placement),x.rects&&(u=!0===x.rects?await a.getElementRects({reference:e,floating:t,strategy:l}):x.rects),{x:d,y:c}=ni(u,f,s)),r=-1;continue}}return{x:d,y:c,placement:f,strategy:l,middlewareData:p}};async function nu(e,t){var r,n;void 0===t&&(t={});let{x:l,y:o,platform:a,rects:i,elements:s,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=r7(t,e),h="number"!=typeof(n=m)?{top:0,right:0,bottom:0,left:0,...n}:{top:n,right:n,bottom:n,left:n},v=s[p?"floating"===f?"reference":"floating":f],g=na(await a.getClippingRect({element:null==(r=await (null==a.isElement?void 0:a.isElement(v)))||r?v:v.contextElement||await (null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:d,rootBoundary:c,strategy:u})),b="floating"===f?{...i.floating,x:l,y:o}:i.reference,x=await (null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),y=await (null==a.isElement?void 0:a.isElement(x))&&await (null==a.getScale?void 0:a.getScale(x))||{x:1,y:1},w=na(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:x,strategy:u}):b);return{top:(g.top-w.top+h.top)/y.y,bottom:(w.bottom-g.bottom+h.bottom)/y.y,left:(g.left-w.left+h.left)/y.x,right:(w.right-g.right+h.right)/y.x}}async function nd(e,t){let{placement:r,platform:n,elements:l}=e,o=await (null==n.isRTL?void 0:n.isRTL(l.floating)),a=r9(r),i=ne(r),s="y"===nn(r),u=["left","top"].includes(a)?-1:1,d=o&&s?-1:1,c=r7(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"==typeof c?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...c};return i&&"number"==typeof m&&(p="end"===i?-1*m:m),s?{x:p*d,y:f*u}:{x:f*u,y:p*d}}function nc(e){return nm(e)?(e.nodeName||"").toLowerCase():"#document"}function nf(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function np(e){var t;return null==(t=(nm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function nm(e){return e instanceof Node||e instanceof nf(e).Node}function nh(e){return e instanceof Element||e instanceof nf(e).Element}function nv(e){return e instanceof HTMLElement||e instanceof nf(e).HTMLElement}function ng(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof nf(e).ShadowRoot)}function nb(e){let{overflow:t,overflowX:r,overflowY:n,display:l}=nE(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(l)}function nx(e){let t=ny(),r=nE(e);return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some(e=>(r.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(r.contain||"").includes(e))}function ny(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function nw(e){return["html","body","#document"].includes(nc(e))}function nE(e){return nf(e).getComputedStyle(e)}function nS(e){return nh(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nj(e){if("html"===nc(e))return e;let t=e.assignedSlot||e.parentNode||ng(e)&&e.host||np(e);return ng(t)?t.host:t}function nC(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let l=function e(t){let r=nj(t);return nw(r)?t.ownerDocument?t.ownerDocument.body:t.body:nv(r)&&nb(r)?r:e(r)}(e),o=l===(null==(n=e.ownerDocument)?void 0:n.body),a=nf(l);return o?t.concat(a,a.visualViewport||[],nb(l)?l:[],a.frameElement&&r?nC(a.frameElement):[]):t.concat(l,nC(l,[],r))}function nP(e){let t=nE(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,l=nv(e),o=l?e.offsetWidth:r,a=l?e.offsetHeight:n,i=r3(r)!==o||r3(n)!==a;return i&&(r=o,n=a),{width:r,height:n,$:i}}function nI(e){return nh(e)?e:e.contextElement}function nk(e){let t=nI(e);if(!nv(t))return r5(1);let r=t.getBoundingClientRect(),{width:n,height:l,$:o}=nP(t),a=(o?r3(r.width):r.width)/n,i=(o?r3(r.height):r.height)/l;return a&&Number.isFinite(a)||(a=1),i&&Number.isFinite(i)||(i=1),{x:a,y:i}}var nT=r5(0);function nO(e){let t=nf(e);return ny()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:nT}function nN(e,t,r,n){var l;void 0===t&&(t=!1),void 0===r&&(r=!1);let o=e.getBoundingClientRect(),a=nI(e),i=r5(1);t&&(n?nh(n)&&(i=nk(n)):i=nk(e));let s=(void 0===(l=r)&&(l=!1),n&&(!l||n===nf(a))&&l)?nO(a):r5(0),u=(o.left+s.x)/i.x,d=(o.top+s.y)/i.y,c=o.width/i.x,f=o.height/i.y;if(a){let e=nf(a),t=n&&nh(n)?nf(n):n,r=e.frameElement;for(;r&&n&&t!==e;){let e=nk(r),t=r.getBoundingClientRect(),n=nE(r),l=t.left+(r.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(r.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,d*=e.y,c*=e.x,f*=e.y,u+=l,d+=o,r=nf(r).frameElement}}return na({width:c,height:f,x:u,y:d})}function nM(e){return nN(np(e)).left+nS(e).scrollLeft}function nR(e,t,r){var n;let l;if("viewport"===t)l=function(e,t){let r=nf(e),n=np(e),l=r.visualViewport,o=n.clientWidth,a=n.clientHeight,i=0,s=0;if(l){o=l.width,a=l.height;let e=ny();(!e||e&&"fixed"===t)&&(i=l.offsetLeft,s=l.offsetTop)}return{width:o,height:a,x:i,y:s}}(e,r);else if("document"===t){let t,r,o,a,i,s,u;n=np(e),t=np(n),r=nS(n),o=n.ownerDocument.body,a=r2(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),i=r2(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-r.scrollLeft+nM(n),u=-r.scrollTop,"rtl"===nE(o).direction&&(s+=r2(t.clientWidth,o.clientWidth)-a),l={width:a,height:i,x:s,y:u}}else if(nh(t)){let e,n,o,a;n=(e=nN(t,!0,"fixed"===r)).top+t.clientTop,o=e.left+t.clientLeft,a=nv(t)?nk(t):r5(1),l={width:t.clientWidth*a.x,height:t.clientHeight*a.y,x:o*a.x,y:n*a.y}}else{let r=nO(e);l={...t,x:t.x-r.x,y:t.y-r.y}}return na(l)}function nF(e,t){return nv(e)&&"fixed"!==nE(e).position?t?t(e):e.offsetParent:null}function nD(e,t){let r=nf(e);if(!nv(e))return r;let n=nF(e,t);for(;n&&["table","td","th"].includes(nc(n))&&"static"===nE(n).position;)n=nF(n,t);return n&&("html"===nc(n)||"body"===nc(n)&&"static"===nE(n).position&&!nx(n))?r:n||function(e){let t=nj(e);for(;nv(t)&&!nw(t);){if(nx(t))return t;t=nj(t)}return null}(e)||r}var n_=async function(e){let{reference:t,floating:r,strategy:n}=e,l=this.getOffsetParent||nD,o=this.getDimensions;return{reference:function(e,t,r){let n=nv(t),l=np(t),o="fixed"===r,a=nN(e,!0,o,t),i={scrollLeft:0,scrollTop:0},s=r5(0);if(n||!n&&!o)if(("body"!==nc(t)||nb(l))&&(i=nS(t)),n){let e=nN(t,!0,o,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else l&&(s.x=nM(l));return{x:a.left+i.scrollLeft-s.x,y:a.top+i.scrollTop-s.y,width:a.width,height:a.height}}(t,await l(r),n),floating:{x:0,y:0,...await o(r)}}},nA={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:n}=e,l=nv(r),o=np(r);if(r===o)return t;let a={scrollLeft:0,scrollTop:0},i=r5(1),s=r5(0);if((l||!l&&"fixed"!==n)&&(("body"!==nc(r)||nb(o))&&(a=nS(r)),nv(r))){let e=nN(r);i=nk(r),s.x=e.x+r.clientLeft,s.y=e.y+r.clientTop}return{width:t.width*i.x,height:t.height*i.y,x:t.x*i.x-a.scrollLeft*i.x+s.x,y:t.y*i.y-a.scrollTop*i.y+s.y}},getDocumentElement:np,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:l}=e,o=[..."clippingAncestors"===r?function(e,t){let r=t.get(e);if(r)return r;let n=nC(e,[],!1).filter(e=>nh(e)&&"body"!==nc(e)),l=null,o="fixed"===nE(e).position,a=o?nj(e):e;for(;nh(a)&&!nw(a);){let t=nE(a),r=nx(a);r||"fixed"!==t.position||(l=null),(o?!r&&!l:!r&&"static"===t.position&&!!l&&["absolute","fixed"].includes(l.position)||nb(a)&&!r&&function e(t,r){let n=nj(t);return!(n===r||!nh(n)||nw(n))&&("fixed"===nE(n).position||e(n,r))}(e,a))?n=n.filter(e=>e!==a):l=t,a=nj(a)}return t.set(e,n),n}(t,this._c):[].concat(r),n],a=o[0],i=o.reduce((e,r)=>{let n=nR(t,r,l);return e.top=r2(n.top,e.top),e.right=r1(n.right,e.right),e.bottom=r1(n.bottom,e.bottom),e.left=r2(n.left,e.left),e},nR(t,a,l));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:nD,getElementRects:n_,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return nP(e)},getScale:nk,isElement:nh,isRTL:function(e){return"rtl"===nE(e).direction}};function nL(e,t,r,n){void 0===n&&(n={});let{ancestorScroll:l=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:s=!1}=n,u=nI(e),d=l||o?[...u?nC(u):[],...nC(t)]:[];d.forEach(e=>{l&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});let c=u&&i?function(e,t){let r=null,n,l=np(e);function o(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),o();let{left:u,top:d,width:c,height:f}=e.getBoundingClientRect();if(i||t(),!c||!f)return;let p={rootMargin:-r4(d)+"px "+-r4(l.clientWidth-(u+c))+"px "+-r4(l.clientHeight-(d+f))+"px "+-r4(u)+"px",threshold:r2(0,r1(1,s))||1},m=!0;function h(e){let t=e[0].intersectionRatio;if(t!==s){if(!m)return a();t?a(!1,t):n=setTimeout(()=>{a(!1,1e-7)},100)}m=!1}try{r=new IntersectionObserver(h,{...p,root:l.ownerDocument})}catch{r=new IntersectionObserver(h,p)}r.observe(e)}(!0),o}(u,r):null,f=-1,p=null;a&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{p&&p.observe(t)})),r()}),u&&!s&&p.observe(u),p.observe(t));let m,h=s?nN(e):null;return s&&function t(){let n=nN(e);h&&(n.x!==h.x||n.y!==h.y||n.width!==h.width||n.height!==h.height)&&r(),h=n,m=requestAnimationFrame(t)}(),r(),()=>{d.forEach(e=>{l&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),c&&c(),p&&p.disconnect(),p=null,s&&cancelAnimationFrame(m)}}var nz=(e,t,r)=>{let n=new Map,l={platform:nA,...r},o={...l.platform,_c:n};return ns(e,t,{...l,platform:o})},n$=c(r(43210),1),nB=r(43210),nU=c(r(51215),1),nH="undefined"!=typeof document?nB.useLayoutEffect:nB.useEffect;function nG(e,t){let r,n,l;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!nG(e[n],t[n]))return!1;return!0}if((r=(l=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,l[n]))return!1;for(n=r;0!=n--;){let r=l[n];if(!("_owner"===r&&e.$$typeof)&&!nG(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function nV(e,t){let r=1;return Math.round(t*r)/r}function nW(e){let t=n$.useRef(e);return nH(()=>{t.current=e}),t}var nq=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,n;let{x:l,y:o,placement:a,middlewareData:i}=t,s=await nd(t,e);return a===(null==(r=i.offset)?void 0:r.placement)&&null!=(n=i.arrow)&&n.alignmentOffset?{}:{x:l+s.x,y:o+s.y,data:{...s,placement:a}}}}}(e),options:[e,t]}),nK=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:n,placement:l}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...s}=r7(e,t),u={x:r,y:n},d=await nu(t,s),c=nn(r9(l)),f=nt(c),p=u[f],m=u[c];if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=p+d[e],n=p-d[t];p=r2(r,r1(p,n))}if(a){let e="y"===c?"top":"left",t="y"===c?"bottom":"right",r=m+d[e],n=m-d[t];m=r2(r,r1(m,n))}let h=i.fn({...t,[f]:p,[c]:m});return{...h,data:{x:h.x-r,y:h.y-n}}}}}(e),options:[e,t]}),nY=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n,l,o,a,i,s,u;let d,c,f,{placement:p,middlewareData:m,rects:h,initialPlacement:v,platform:g,elements:b}=t,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:j=!0,...C}=r7(e,t);if(null!=(r=m.arrow)&&r.alignmentOffset)return{};let P=r9(p),I=r9(v)===v,k=await (null==g.isRTL?void 0:g.isRTL(b.floating)),T=w||(I||!j?[no(v)]:(d=no(v),[nl(v),d,nl(d)]));w||"none"===S||T.push(...(c=ne(v),f=function(e,t,r){let n=["left","right"],l=["right","left"];switch(e){case"top":case"bottom":return r?t?l:n:t?n:l;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(r9(v),"start"===S,k),c&&(f=f.map(e=>e+"-"+c),j&&(f=f.concat(f.map(nl)))),f));let O=[v,...T],N=await nu(t,C),M=[],R=(null==(n=m.flip)?void 0:n.overflows)||[];if(x&&M.push(N[P]),y){let e,t,r,n,l=(i=p,s=h,void 0===(u=k)&&(u=!1),e=ne(i),r=nr(t=nt(nn(i))),n="x"===t?e===(u?"end":"start")?"right":"left":"start"===e?"bottom":"top",s.reference[r]>s.floating[r]&&(n=no(n)),[n,no(n)]);M.push(N[l[0]],N[l[1]])}if(R=[...R,{placement:p,overflows:M}],!M.every(e=>e<=0)){let e=((null==(l=m.flip)?void 0:l.index)||0)+1,t=O[e];if(t)return{data:{index:e,overflows:R},reset:{placement:t}};let r=null==(o=R.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:o.placement;if(!r)switch(E){case"bestFit":{let e=null==(a=R.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:a[0];e&&(r=e);break}case"initialPlacement":r=v}if(p!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),nX=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let{placement:r,rects:n,platform:l,elements:o}=t,{apply:a=()=>{},...i}=r7(e,t),s=await nu(t,i),u=r9(r),d=ne(r),c="y"===nn(r),{width:f,height:p}=n.floating,m,h;"top"===u||"bottom"===u?(m=u,h=d===(await (null==l.isRTL?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(h=u,m="end"===d?"top":"bottom");let v=p-s[m],g=f-s[h],b=!t.middlewareData.shift,x=v,y=g;if(c){let e=f-s.left-s.right;y=d||b?r1(g,e):e}else{let e=p-s.top-s.bottom;x=d||b?r1(v,e):e}if(b&&!d){let e=r2(s.left,0),t=r2(s.right,0),r=r2(s.top,0),n=r2(s.bottom,0);c?y=f-2*(0!==e||0!==t?e+t:r2(s.left,s.right)):x=p-2*(0!==r||0!==n?r+n:r2(s.top,s.bottom))}await a({...t,availableWidth:y,availableHeight:x});let w=await l.getDimensions(o.floating);return f!==w.width||p!==w.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),nQ=r(51215),nJ={...rJ},nZ=nJ.useInsertionEffect||(e=>e());function n0(e){let t=rJ.useRef(()=>{});return nZ(()=>{t.current=e}),rJ.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}var n1="undefined"!=typeof document?rZ.useLayoutEffect:rZ.useEffect,n2=!1,n3=0,n4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+n3++,n5=nJ.useId||function(){let[e,t]=rJ.useState(()=>n2?n4():void 0);return n1(()=>{null==e&&t(n4())},[]),rJ.useEffect(()=>{n2=!0},[]),e},n6=rJ.createContext(null),n8=rJ.createContext(null),n7=()=>{var e;return(null==(e=rJ.useContext(n6))?void 0:e.id)||null},n9=()=>rJ.useContext(n8),le="active",lt="selected";function lr(e,t,r){let n=new Map,l="item"===r,o=e;if(l&&e){let{[le]:t,[lt]:r,...n}=e;o=n}return{..."floating"===r&&{tabIndex:-1},...o,...t.map(t=>{let n=t?t[r]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[r,o]=t;if(!(l&&[le,lt].includes(r)))if(0===r.indexOf("on")){if(n.has(r)||n.set(r,[]),"function"==typeof o){var a;null==(a=n.get(r))||a.push(o),e[r]=function(){for(var e,t=arguments.length,l=Array(t),o=0;o<t;o++)l[o]=arguments[o];return null==(e=n.get(r))?void 0:e.map(e=>e(...l)).find(e=>void 0!==e)}}}else e[r]=o}),e),{})}}function ln(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}var ll=e=>({name:"inner",options:e,async fn(t){let{listRef:r,overflowRef:n,onFallbackChange:l,offset:o=0,index:a=0,minItemsVisible:i=4,referenceOverflowThreshold:s=0,scrollRef:u,...d}=e,{rects:c,elements:{floating:f}}=t,p=r.current[a];if(!p)return{};let m={...t,...await nq(-p.offsetTop-f.clientTop-c.reference.height/2-p.offsetHeight/2-o).fn(t)},h=(null==u?void 0:u.current)||f,v=await nu(ln(m,h.scrollHeight),d),g=await nu(m,{...d,elementContext:"reference"}),b=Math.max(0,v.top),x=m.y+b,y=Math.max(0,h.scrollHeight-b-Math.max(0,v.bottom));return h.style.maxHeight=y+"px",h.scrollTop=b,l&&(h.offsetHeight<p.offsetHeight*Math.min(i,r.current.length-1)-1||g.top>=-s||g.bottom>=-s?(0,nQ.flushSync)(()=>l(!0)):(0,nQ.flushSync)(()=>l(!1))),n&&(n.current=await nu(ln({...m,y:x},h.offsetHeight),d)),{y:x}}}),lo=c(r(43210),1),la=r(43210),li=(0,la.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});li.displayName="FloatingContext";var ls=(0,la.createContext)(null);function lu(e){return(0,la.useMemo)(()=>e?"string"==typeof e?{to:e}:e:null,[e])}function ld(){return(0,la.useContext)(li).setReference}function lc(){return(0,la.useContext)(li).getReferenceProps}function lf(){let{getFloatingProps:e,slot:t}=(0,la.useContext)(li);return(0,la.useCallback)((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}function lp(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,la.useContext)(ls),r=(0,la.useMemo)(()=>e,[JSON.stringify(e,(e,t)=>{var r;return null!=(r=null==t?void 0:t.outerHTML)?r:t})]);ew(()=>{null==t||t(null!=r?r:null)},[t,r]);let n=(0,la.useContext)(li);return(0,la.useMemo)(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}function lm({children:e,enabled:t=!0}){var r,n,l,o,a,i,s;let u,d,c,f,p,m,[h,v]=(0,la.useState)(null),[g,b]=(0,la.useState)(0),x=(0,la.useRef)(null),[y,w]=(0,la.useState)(null);ew(()=>{if(!n)return;let e=new MutationObserver(()=>{let e=window.getComputedStyle(n).maxHeight,t=parseFloat(e);if(isNaN(t))return;let r=parseInt(e);isNaN(r)||t!==r&&(n.style.maxHeight=`${Math.ceil(t)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n=y]);let E=t&&null!==h&&null!==y,{to:S="bottom",gap:j=0,offset:C=0,padding:P=0,inner:I}=(l=h,o=y,u=lh(null!=(a=null==l?void 0:l.gap)?a:"var(--anchor-gap, 0)",o),d=lh(null!=(i=null==l?void 0:l.offset)?i:"var(--anchor-offset, 0)",o),c=lh(null!=(s=null==l?void 0:l.padding)?s:"var(--anchor-padding, 0)",o),{...l,gap:u,offset:d,padding:c}),[k,T="center"]=S.split(" ");ew(()=>{E&&b(0)},[E]);let{refs:O,floatingStyles:N,context:M}=function(e){void 0===e&&(e={});let{nodeId:t}=e,r=function(e){let{open:t=!1,onOpenChange:r,elements:n}=e,l=n5(),o=rJ.useRef({}),[a]=rJ.useState(()=>{let e;return e=new Map,{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==r))||[])}}}),i=null!=n7(),[s,u]=rJ.useState(n.reference),d=n0((e,t,n)=>{o.current.openEvent=e?t:void 0,a.emit("openchange",{open:e,event:t,reason:n,nested:i}),null==r||r(e,t,n)}),c=rJ.useMemo(()=>({setPositionReference:u}),[]),f=rJ.useMemo(()=>({reference:s||n.reference||null,floating:n.floating||null,domReference:n.reference}),[s,n.reference,n.floating]);return rJ.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:f,events:a,floatingId:l,refs:c}),[t,d,f,a,l,c])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,l=n.elements,[o,a]=rJ.useState(null),[i,s]=rJ.useState(null),u=(null==l?void 0:l.reference)||o,d=rJ.useRef(null),c=n9();n1(()=>{u&&(d.current=u)},[u]);let f=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:l,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:s,open:u}=e,[d,c]=n$.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=n$.useState(n);nG(f,n)||p(n);let[m,h]=n$.useState(null),[v,g]=n$.useState(null),b=n$.useCallback(e=>{e!==E.current&&(E.current=e,h(e))},[]),x=n$.useCallback(e=>{e!==S.current&&(S.current=e,g(e))},[]),y=o||m,w=a||v,E=n$.useRef(null),S=n$.useRef(null),j=n$.useRef(d),C=null!=s,P=nW(s),I=nW(l),k=n$.useCallback(()=>{if(!E.current||!S.current)return;let e={placement:t,strategy:r,middleware:f};I.current&&(e.platform=I.current),nz(E.current,S.current,e).then(e=>{let t={...e,isPositioned:!0};T.current&&!nG(j.current,t)&&(j.current=t,nU.flushSync(()=>{c(t)}))})},[f,t,r,I]);nH(()=>{!1===u&&j.current.isPositioned&&(j.current.isPositioned=!1,c(e=>({...e,isPositioned:!1})))},[u]);let T=n$.useRef(!1);nH(()=>(T.current=!0,()=>{T.current=!1}),[]),nH(()=>{if(y&&(E.current=y),w&&(S.current=w),y&&w){if(P.current)return P.current(y,w,k);k()}},[y,w,k,P,C]);let O=n$.useMemo(()=>({reference:E,floating:S,setReference:b,setFloating:x}),[b,x]),N=n$.useMemo(()=>({reference:y,floating:w}),[y,w]),M=n$.useMemo(()=>{var e;let t={position:r,left:0,top:0};if(!N.floating)return t;let n=nV(N.floating,d.x),l=nV(N.floating,d.y);return i?{...t,transform:"translate("+n+"px, "+l+"px)",...(N.floating,false)}:{position:r,left:n,top:l}},[r,i,N.floating,d.x,d.y]);return n$.useMemo(()=>({...d,update:k,refs:O,elements:N,floatingStyles:M}),[d,k,O,N,M])}({...e,elements:{...l,...i&&{reference:i}}}),p=rJ.useCallback(e=>{let t=r0(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;s(t),f.refs.setReference(t)},[f.refs]),m=rJ.useCallback(e=>{(r0(e)||null===e)&&(d.current=e,a(e)),(r0(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!r0(e))&&f.refs.setReference(e)},[f.refs]),h=rJ.useMemo(()=>({...f.refs,setReference:m,setPositionReference:p,domReference:d}),[f.refs,m,p]),v=rJ.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),g=rJ.useMemo(()=>({...f,...n,refs:h,elements:v,nodeId:t}),[f,h,v,t,n]);return n1(()=>{n.dataRef.current.floatingContext=g;let e=null==c?void 0:c.nodesRef.current.find(e=>e.id===t);e&&(e.context=g)}),rJ.useMemo(()=>({...f,context:g,refs:h,elements:v}),[f,h,v,g])}({open:E,placement:"selection"===k?"center"===T?"bottom":`bottom-${T}`:"center"===T?`${k}`:`${k}-${T}`,strategy:"absolute",transform:!1,middleware:[nq({mainAxis:"selection"===k?0:j,crossAxis:C}),nK({padding:P}),"selection"!==k&&nY({padding:P}),"selection"===k&&I?ll({...I,padding:P,overflowRef:x,offset:g,minItemsVisible:4,referenceOverflowThreshold:P,onFallbackChange(e){var t,r;if(!e)return;let n=M.elements.floating;if(!n)return;let l=parseFloat(getComputedStyle(n).scrollPaddingBottom)||0,o=Math.min(4,n.childElementCount),a=0,i=0;for(let e of null!=(r=null==(t=M.elements.floating)?void 0:t.childNodes)?r:[])if(e9(e)){let t=e.offsetTop,r=t+e.clientHeight+l,s=n.scrollTop,u=s+n.clientHeight;if(t>=s&&r<=u)o--;else{i=Math.max(0,Math.min(r,u)-Math.max(t,s)),a=e.clientHeight;break}}o>=1&&b(e=>{let t=a*o-i+l;return e>=t?e:t})}}):null,nX({padding:P,apply({availableWidth:e,availableHeight:t,elements:r}){Object.assign(r.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:nL}),[R=k,F=T]=M.placement.split("-");"selection"===k&&(R="selection");let D=(0,la.useMemo)(()=>({anchor:[R,F].filter(Boolean).join(" ")}),[R,F]),{getReferenceProps:_,getFloatingProps:A}=(r=[function(e,t){let{open:r,elements:n}=e,{enabled:l=!0,overflowRef:o,scrollRef:a,onChange:i}=t,s=n0(i),u=rJ.useRef(!1),d=rJ.useRef(null),c=rJ.useRef(null);return rJ.useEffect(()=>{if(!l)return;function e(e){let r;if(e.ctrlKey||!t||null==o.current)return;let n=e.deltaY,l=o.current.top>=-.5,a=o.current.bottom>=-.5,i=t.scrollHeight-t.clientHeight,u=n<0?-1:1,d=n<0?"max":"min";t.scrollHeight<=t.clientHeight||(!l&&n>0||!a&&n<0?(e.preventDefault(),(0,nQ.flushSync)(()=>{s(e=>e+Math[d](n,i*u))})):/firefox/i.test((r=navigator.userAgentData)&&Array.isArray(r.brands)?r.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent)&&(t.scrollTop+=n))}let t=(null==a?void 0:a.current)||n.floating;if(r&&t)return t.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=o.current&&(c.current={...o.current})}),()=>{d.current=null,c.current=null,t.removeEventListener("wheel",e)}},[l,r,n.floating,o,a,s]),rJ.useMemo(()=>l?{floating:{onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){let e=(null==a?void 0:a.current)||n.floating;if(!(!o.current||!e||!u.current)){if(null!==d.current){let t=e.scrollTop-d.current;(o.current.bottom<-.5&&t<-1||o.current.top<-.5&&t>1)&&(0,nQ.flushSync)(()=>s(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}}:{},[l,o,n.floating,a,s])}(M,{overflowRef:x,onChange:b})],f=rJ.useCallback(e=>lr(e,r,"reference"),r),p=rJ.useCallback(e=>lr(e,r,"floating"),r),m=rJ.useCallback(e=>lr(e,r,"item"),r.map(e=>null==e?void 0:e.item)),rJ.useMemo(()=>({getReferenceProps:f,getFloatingProps:p,getItemProps:m}),[f,p,m])),L=eS(e=>{w(e),O.setFloating(e)});return lo.createElement(ls.Provider,{value:v},lo.createElement(li.Provider,{value:{setFloating:L,setReference:O.setReference,styles:N,getReferenceProps:_,getFloatingProps:A,slot:D}},e))}function lh(e,t,r){let n=eg(),l=eS((e,t)=>{if(null==e)return[r,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[r,null];let l=lv(e,t);return[l,r=>{let o=function e(t){let r=/var\((.*)\)/.exec(t);if(r){let t=r[1].indexOf(",");if(-1===t)return[r[1]];let n=r[1].slice(0,t).trim(),l=r[1].slice(t+1).trim();return l?[n,...e(l)]:[n]}return[]}(e);{let a=o.map(e=>window.getComputedStyle(t).getPropertyValue(e));n.requestAnimationFrame(function i(){n.nextFrame(i);let s=!1;for(let[e,r]of o.entries()){let n=window.getComputedStyle(t).getPropertyValue(r);if(a[e]!==n){a[e]=n,s=!0;break}}if(!s)return;let u=lv(e,t);l!==u&&(r(u),l=u)})}return n.dispose}]}return[r,null]}),o=(0,la.useMemo)(()=>l(e,t)[0],[e,t]),[a=o,i]=(0,la.useState)();return ew(()=>{let[r,n]=l(e,t);if(i(r),n)return n(i)},[e,t]),a}function lv(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}ls.displayName="PlacementContext";var lg=c(r(43210),1);function lb({children:e,freeze:t}){let r=lx(t,e);return lg.default.createElement(lg.default.Fragment,null,r)}function lx(e,t){let[r,n]=(0,lg.useState)(t);return e||r===t||n(t),e?r:t}var ly=c(r(43210),1),lw=(0,ly.createContext)(null);function lE(){return(0,ly.useContext)(lw)}function lS({value:e,children:t}){return ly.default.createElement(lw.Provider,{value:e},t)}function lj({children:e}){return ly.default.createElement(lw.Provider,{value:null},e)}lw.displayName="OpenClosedContext";var lC=[];function lP(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),l=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:-1===l&&(l=r.length);for(let e=l-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=l+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:throw Error("Unexpected object: "+e)}}var lI=c(r(43210),1),lk=r(51215),lT=r(43210);function lO(e){let t=eS(e),r=(0,lT.useRef)(!1);(0,lT.useEffect)(()=>(r.current=!1,()=>{r.current=!0,eh(()=>{r.current&&t()})}),[t])}var lN=c(r(43210),1);function lM(){let e,t=(e="undefined"==typeof document,"useSyncExternalStore"in lN&&(0,lN.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[r,n]=lN.useState(ef.isHandoffComplete);return r&&!1===ef.isHandoffComplete&&n(!1),lN.useEffect(()=>{!0!==r&&n(!0)},[r]),lN.useEffect(()=>ef.handoff(),[]),!t&&r}var lR=c(r(43210),1),lF=(0,lR.createContext)(!1);function lD(e){return lR.default.createElement(lF.Provider,{value:e.force},e.children)}var l_=lI.Fragment,lA=eA(function(e,t){let{ownerDocument:r=null,...n}=e,l=(0,lI.useRef)(null),o=tu(ts(e=>{l.current=e}),t),a=rk(l),i=null!=r?r:a,s=function(e){let t=(0,lR.useContext)(lF),r=(0,lI.useContext)(lz),[n,l]=(0,lI.useState)(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(ef.isServer)return null;let l=null==e?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(null===e)return null;let o=e.createElement("div");return o.setAttribute("id","headlessui-portal-root"),e.body.appendChild(o)});return(0,lI.useEffect)(()=>{null!==n&&(null!=e&&e.body.contains(n)||null==e||e.body.appendChild(n))},[n,e]),(0,lI.useEffect)(()=>{t||null!==r&&l(r.current)},[r,l,t]),n}(i),[u]=(0,lI.useState)(()=>{var e;return ef.isServer?null:null!=(e=null==i?void 0:i.createElement("div"))?e:null}),d=(0,lI.useContext)(l$),c=lM();ew(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),ew(()=>{if(u&&d)return d.register(u)},[d,u]),lO(()=>{var e;s&&u&&(e8(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))});let f=eM();return c&&s&&u?(0,lk.createPortal)(f({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:l_,name:"Portal"}),u):null}),lL=lI.Fragment,lz=(0,lI.createContext)(null),l$=(0,lI.createContext)(null);function lB(){let e=(0,lI.useContext)(l$),t=(0,lI.useRef)([]),r=eS(r=>(t.current.push(r),e&&e.register(r),()=>n(r))),n=eS(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),l=(0,lI.useMemo)(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,(0,lI.useMemo)(()=>function({children:e}){return lI.default.createElement(l$.Provider,{value:l},e)},[l])]}var lU=eA(function(e,t){let r=tu(t),{enabled:n=!0,ownerDocument:l,...o}=e,a=eM();return n?lI.default.createElement(lA,{...o,ownerDocument:l,ref:r}):a({ourProps:{ref:r},theirProps:o,slot:{},defaultTag:l_,name:"Portal"})}),lH=eA(function(e,t){let{target:r,...n}=e,l={ref:tu(t)},o=eM();return lI.default.createElement(lz.Provider,{value:r},o({ourProps:l,theirProps:n,defaultTag:lL,name:"Popover.Group"}))}),lG=Object.assign(lU,{Group:lH});function lV(e,t=e=>e){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=t(e.options.slice()),l=n.length>0&&null!==n[0].dataRef.current.order?n.sort((e,t)=>e.dataRef.current.order-t.dataRef.current.order):rg(n,e=>e.dataRef.current.domRef.current),o=r?l.indexOf(r):null;return -1===o&&(o=null),{options:l,activeOptionIndex:o}}var lW={1(e){var t;return null!=(t=e.dataRef.current)&&t.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,r;if(null!=(t=e.dataRef.current)&&t.disabled||0===e.comboboxState)return e;if(null!=(r=e.dataRef.current)&&r.value){let t=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(-1!==t)return{...e,activeOptionIndex:t,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3:(e,t)=>e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping},2(e,t){var r,n,l,o;if(null!=(r=e.dataRef.current)&&r.disabled||e.optionsElement&&!(null!=(n=e.dataRef.current)&&n.optionsPropsRef.current.static)&&1===e.comboboxState)return e;if(e.virtual){let{options:r,disabled:n}=e.virtual,o=4===t.focus?t.idx:lP(t,{resolveItems:()=>r,resolveActiveIndex:()=>{var t,l;return null!=(l=null!=(t=e.activeOptionIndex)?t:r.findIndex(e=>!n(e)))?l:null},resolveDisabled:n,resolveId(){throw Error("Function not implemented.")}}),a=null!=(l=t.trigger)?l:2;return e.activeOptionIndex===o&&e.activationTrigger===a?e:{...e,activeOptionIndex:o,activationTrigger:a,isTyping:!1,__demoMode:!1}}let a=lV(e);if(null===a.activeOptionIndex){let e=a.options.findIndex(e=>!e.dataRef.current.disabled);-1!==e&&(a.activeOptionIndex=e)}let i=4===t.focus?t.idx:lP(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled}),s=null!=(o=t.trigger)?o:2;return e.activeOptionIndex===i&&e.activationTrigger===s?e:{...e,...a,isTyping:!1,activeOptionIndex:i,activationTrigger:s,__demoMode:!1}},4:(e,t)=>{var r,n,l,o;if(null!=(r=e.dataRef.current)&&r.virtual)return{...e,options:[...e.options,t.payload]};let a=t.payload,i=lV(e,e=>(e.push(a),e));null===e.activeOptionIndex&&null!=(l=(n=e.dataRef.current).isSelected)&&l.call(n,t.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(a));let s={...e,...i,activationTrigger:2};return null!=(o=e.dataRef.current)&&o.__demoMode&&void 0===e.dataRef.current.value&&(s.activeOptionIndex=0),s},5:(e,t)=>{var r;if(null!=(r=e.dataRef.current)&&r.virtual)return{...e,options:e.options.filter(e=>e.id!==t.id)};let n=lV(e,e=>{let r=e.findIndex(e=>e.id===t.id);return -1!==r&&e.splice(r,1),e});return{...e,...n,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var r,n;if(null===e.virtual)return{...e,virtual:{options:t.options,disabled:null!=(r=t.disabled)?r:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let l=e.activeOptionIndex;if(null!==e.activeOptionIndex){let r=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);l=-1!==r?r:null}return{...e,activeOptionIndex:l,virtual:{options:t.options,disabled:null!=(n=t.disabled)?n:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},lq=class extends t2{constructor(e){super(e),f(this,"actions",{onChange:e=>{let{onChange:t,compare:r,mode:n,value:l}=this.state.dataRef.current;return eN(n,{0:()=>null==t?void 0:t(e),1:()=>{let n=l.slice(),o=n.findIndex(t=>r(t,e));return -1===o?n.push(e):n.splice(o,1),null==t?void 0:t(n)}})},registerOption:(e,t)=>(this.send({type:4,payload:{id:e,dataRef:t}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(t.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,t)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:t})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,t;this.send({type:1}),this.send({type:6,value:!1}),null==(t=(e=this.state.dataRef.current).onClose)||t.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(null!==e){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:t}=this.state.options[e];this.actions.onChange(t.current.value)}this.actions.goToOption({focus:4,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),f(this,"selectors",{activeDescendantId:e=>{var t,r;let n=this.selectors.activeOptionIndex(e);if(null!==n)return e.virtual?null==(r=e.options.find(t=>!t.dataRef.current.disabled&&e.dataRef.current.compare(t.dataRef.current.value,e.virtual.options[n])))?void 0:r.id:null==(t=e.options[n])?void 0:t.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&null===e.activeOptionIndex&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:t,disabled:r}=e.virtual,n=t.findIndex(e=>{var t;return!(null!=(t=null==r?void 0:r(e))&&t)});if(-1!==n)return n}let t=e.options.findIndex(e=>!e.dataRef.current.disabled);if(-1!==t)return t}return e.activeOptionIndex},activeOption:e=>{var t,r;let n=this.selectors.activeOptionIndex(e);return null===n?null:e.virtual?e.virtual.options[null!=n?n:0]:null!=(r=null==(t=e.options[n])?void 0:t.dataRef.current.value)?r:null},isActive:(e,t,r)=>{var n;let l=this.selectors.activeOptionIndex(e);return null!==l&&(e.virtual?l===e.dataRef.current.calculateIndex(t):(null==(n=e.options[l])?void 0:n.id)===r)},shouldScrollIntoView:(e,t,r)=>!(e.virtual||e.__demoMode||0!==e.comboboxState||0===e.activationTrigger||!this.selectors.isActive(e,t,r))});{let e=this.state.id,t=t9.get(null);this.disposables.add(t.on(0,r=>{t.selectors.isTop(r,e)||0!==this.state.comboboxState||this.actions.closeCombobox()})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,virtual:t=null,__demoMode:r=!1}){var n;return new lq({id:e,dataRef:{current:{}},comboboxState:+!r,isTyping:!1,options:[],virtual:t?{options:t.options,disabled:null!=(n=t.disabled)?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(e,t){return eN(t.type,lW,e,t)}},lK=r(43210),lY=(0,lK.createContext)(null);function lX(e){let t=(0,lK.useContext)(lY);if(null===t){let t=Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,lQ),t}return t}function lQ({id:e,virtual:t=null,__demoMode:r=!1}){let n=(0,lK.useMemo)(()=>lq.new({id:e,virtual:t,__demoMode:r}),[]);return lO(()=>n.dispose()),n}var lJ=(0,tG.createContext)(null);function lZ(e){let t=(0,tG.useContext)(lJ);if(null===t){let t=Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,lZ),t}return t}lJ.displayName="ComboboxDataContext";var l0=(0,tG.createContext)(null);function l1(e){let t=lX("VirtualProvider"),{options:r}=lZ("VirtualProvider").virtual,n=rt(t,e=>e.optionsElement),[l,o]=(0,tG.useMemo)(()=>{if(!n)return[0,0];let e=window.getComputedStyle(n);return[parseFloat(e.paddingBlockStart||e.paddingTop),parseFloat(e.paddingBlockEnd||e.paddingBottom)]},[n]),a=function(e){let t=tI.useReducer(()=>({}),{})[1],r={...e,onChange:(r,n)=>{var l;n?(0,tk.flushSync)(t):t(),null==(l=e.onChange)||l.call(e,r,n)}},[n]=tI.useState(()=>new tB(r));return n.setOptions(r),tH(()=>n._didMount(),[]),tH(()=>n._willUpdate()),n}({observeElementRect:t_,observeElementOffset:tL,scrollToFn:t$,...{enabled:0!==r.length,scrollPaddingStart:l,scrollPaddingEnd:o,count:r.length,estimateSize:()=>40,getScrollElement:()=>t.state.optionsElement,overscan:12}}),[i,s]=(0,tG.useState)(0);ew(()=>{s(e=>e+1)},[r]);let u=a.getVirtualItems(),d=rt(t,e=>0===e.activationTrigger),c=rt(t,t.selectors.activeOptionIndex);return 0===u.length?null:tG.default.createElement(l0.Provider,{value:a},tG.default.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:e=>{e&&(d||null!==c&&r.length>c&&a.scrollToIndex(c))}},u.map(t=>{var n;return tG.default.createElement(tG.Fragment,{key:t.key},tG.default.cloneElement(null==(n=e.children)?void 0:n.call(e,{...e.slot,option:r[t.index]}),{key:`${i}-${t.key}`,"data-index":t.index,"aria-setsize":r.length,"aria-posinset":t.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${t.start}px)`,overflowAnchor:"none"}}))})))}var l2=tG.Fragment,l3=eA(function(e,t){let r=(0,eW.useId)(),n=eI(),{value:l,defaultValue:o,onChange:a,form:i,name:s,by:u,invalid:d=!1,disabled:c=n||!1,onClose:f,__demoMode:p=!1,multiple:m=!1,immediate:h=!1,virtual:v=null,nullable:g,...b}=e,x=eV(o),[y=m?[]:void 0,w]=eH(l,a,x),E=lQ({id:r,virtual:v,__demoMode:p}),S=(0,tG.useRef)({static:!1,hold:!1}),j=tK(u),C=eS(e=>v?null===u?v.options.indexOf(e):v.options.findIndex(t=>j(t,e)):E.state.options.findIndex(t=>j(t.dataRef.current.value,e))),P=(0,tG.useCallback)(e=>eN(T.mode,{1:()=>y.some(t=>j(t,e)),0:()=>j(y,e)}),[y]),I=rt(E,e=>e.virtual),k=eS(()=>null==f?void 0:f()),T=(0,tG.useMemo)(()=>({__demoMode:p,immediate:h,optionsPropsRef:S,value:y,defaultValue:x,disabled:c,invalid:d,mode:+!!m,virtual:v?I:null,onChange:w,isSelected:P,calculateIndex:C,compare:j,onClose:k}),[y,x,c,d,m,w,P,p,E,v,I,k]);ew(()=>{var e;v&&E.send({type:8,options:v.options,disabled:null!=(e=v.disabled)?e:null})},[v,null==v?void 0:v.options,null==v?void 0:v.disabled]),ew(()=>{E.state.dataRef.current=T},[T]);let[O,N,M,R]=rt(E,e=>[e.comboboxState,e.buttonElement,e.inputElement,e.optionsElement]),F=t9.get(null);rP(rt(F,(0,tG.useCallback)(e=>F.selectors.isTop(e,r),[F,r])),[N,M,R],()=>E.actions.closeCombobox());let D=rt(E,E.selectors.activeOptionIndex),_=rt(E,E.selectors.activeOption),A=(0,tG.useMemo)(()=>({open:0===O,disabled:c,invalid:d,activeIndex:D,activeOption:_,value:y}),[T,c,y,d,_,O]),[L,z]=tb(),$=(0,tG.useCallback)(()=>{if(void 0!==x)return null==w?void 0:w(x)},[w,x]),B=eM();return tG.default.createElement(z,{value:L,props:{htmlFor:null==M?void 0:M.id},slot:{open:0===O,disabled:c}},tG.default.createElement(lm,null,tG.default.createElement(lJ.Provider,{value:T},tG.default.createElement(lY.Provider,{value:E},tG.default.createElement(lS,{value:eN(O,{0:1,1:2})},null!=s&&tG.default.createElement(e1,{disabled:c,data:null!=y?{[s]:y}:{},form:i,onReset:$}),B({ourProps:null===t?{}:{ref:t},theirProps:b,slot:A,defaultTag:l2,name:"Combobox"}))))))}),l4=eA(function(e,t){let r=lX("Combobox.Button"),n=lZ("Combobox.Button"),[l,o]=(0,tG.useState)(null),a=tu(t,o,r.actions.setButtonElement),i=(0,eW.useId)(),{id:s=`headlessui-combobox-button-${i}`,disabled:u=n.disabled||!1,autoFocus:d=!1,...c}=e,[f,p,m]=rt(r,e=>[e.comboboxState,e.inputElement,e.optionsElement]),h=rD(p);rN(0===f,{trigger:l,action:(0,tG.useCallback)(e=>{if(null!=l&&l.contains(e.target)||null!=p&&p.contains(e.target))return rO.Ignore;let t=e.target.closest('[role="option"]:not([data-disabled])');return e9(t)?rO.Select(t):null!=m&&m.contains(e.target)?rO.Ignore:rO.Close},[l,p,m]),close:r.actions.closeCombobox,select:r.actions.selectActiveOption});let v=eS(e=>{switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===r.state.comboboxState&&(0,tV.flushSync)(()=>r.actions.openCombobox()),h();return;case"ArrowDown":e.preventDefault(),e.stopPropagation(),1===r.state.comboboxState&&((0,tV.flushSync)(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:0})),h();return;case"ArrowUp":e.preventDefault(),e.stopPropagation(),1===r.state.comboboxState&&((0,tV.flushSync)(()=>r.actions.openCombobox()),r.state.dataRef.current.value||r.actions.goToOption({focus:3})),h();return;case"Escape":if(0!==r.state.comboboxState)return;e.preventDefault(),r.state.optionsElement&&!n.optionsPropsRef.current.static&&e.stopPropagation(),(0,tV.flushSync)(()=>r.actions.closeCombobox()),h();return;default:return}}),g=eS(e=>{e.preventDefault(),tl(e.currentTarget)||(0===e.button&&(0===r.state.comboboxState?r.actions.closeCombobox():r.actions.openCombobox()),h())}),b=tg([s]),{isFocusVisible:x,focusProps:y}=eu({autoFocus:d}),{isHovered:w,hoverProps:E}=ei({isDisabled:u}),{pressed:S,pressProps:j}=ej({disabled:u}),C=(0,tG.useMemo)(()=>({open:0===f,active:S||0===f,disabled:u,invalid:n.invalid,value:n.value,hover:w,focus:x}),[n,w,x,S,u,f]),P=e_({ref:a,id:s,type:rA(e,l),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==m?void 0:m.id,"aria-expanded":0===f,"aria-labelledby":b,disabled:u||void 0,autoFocus:d,onPointerDown:g,onKeyDown:v},y,E,j);return eM()({ourProps:P,theirProps:c,slot:C,defaultTag:"button",name:"Combobox.Button"})}),l5=eA(function(e,t){var r,n;let l=lX("Combobox.Input"),o=lZ("Combobox.Input"),a=(0,eW.useId)(),i=e5(),{id:s=i||`headlessui-combobox-input-${a}`,onChange:u,displayValue:d,disabled:c=o.disabled||!1,autoFocus:f=!1,type:p="text",...m}=e,[h]=rt(l,e=>[e.inputElement]),v=(0,tG.useRef)(null),g=tu(v,t,ld(),l.actions.setInputElement),b=rk(h),[x,y]=rt(l,e=>[e.comboboxState,e.isTyping]),w=eg(),E=eS(()=>{l.actions.onChange(null),l.state.optionsElement&&(l.state.optionsElement.scrollTop=0),l.actions.goToOption({focus:5})});rQ(([e,t],[r,n])=>{if(l.state.isTyping)return;let o=v.current;o&&((0===n&&1===t||e!==r)&&(o.value=e),requestAnimationFrame(()=>{if(l.state.isTyping||!o||(null==b?void 0:b.activeElement)!==o)return;let{selectionStart:e,selectionEnd:t}=o;0===Math.abs((null!=t?t:0)-(null!=e?e:0))&&0===e&&o.setSelectionRange(o.value.length,o.value.length)}))},[(0,tG.useMemo)(()=>{var e;return"function"==typeof d&&void 0!==o.value?null!=(e=d(o.value))?e:"":"string"==typeof o.value?o.value:""},[o.value,d]),x,b,y]),rQ(([e],[t])=>{if(0===e&&1===t){if(l.state.isTyping)return;let e=v.current;if(!e)return;let t=e.value,{selectionStart:r,selectionEnd:n,selectionDirection:o}=e;e.value="",e.value=t,null!==o?e.setSelectionRange(r,n,o):e.setSelectionRange(r,n)}},[x]);let S=(0,tG.useRef)(!1),j=eS(()=>{S.current=!0}),C=eS(()=>{w.nextFrame(()=>{S.current=!1})}),P=eS(e=>{switch(l.actions.setIsTyping(!0),e.key){case"Enter":if(0!==l.state.comboboxState||S.current)return;if(e.preventDefault(),e.stopPropagation(),null===l.selectors.activeOptionIndex(l.state))return void l.actions.closeCombobox();l.actions.selectActiveOption(),0===o.mode&&l.actions.closeCombobox();break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),eN(l.state.comboboxState,{0:()=>l.actions.goToOption({focus:2}),1:()=>l.actions.openCombobox()});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),eN(l.state.comboboxState,{0:()=>l.actions.goToOption({focus:1}),1:()=>{(0,tV.flushSync)(()=>l.actions.openCombobox()),o.value||l.actions.goToOption({focus:3})}});case"Home":if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),l.actions.goToOption({focus:0});case"PageUp":return e.preventDefault(),e.stopPropagation(),l.actions.goToOption({focus:0});case"End":if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),l.actions.goToOption({focus:3});case"PageDown":return e.preventDefault(),e.stopPropagation(),l.actions.goToOption({focus:3});case"Escape":return 0!==l.state.comboboxState?void 0:(e.preventDefault(),l.state.optionsElement&&!o.optionsPropsRef.current.static&&e.stopPropagation(),0===o.mode&&null===o.value&&E(),l.actions.closeCombobox());case"Tab":if(0!==l.state.comboboxState)return;0===o.mode&&1!==l.state.activationTrigger&&l.actions.selectActiveOption(),l.actions.closeCombobox()}}),I=eS(e=>{null==u||u(e),0===o.mode&&""===e.target.value&&E(),l.actions.openCombobox()}),k=eS(e=>{var t,r,n;let a=null!=(t=e.relatedTarget)?t:lC.find(t=>t!==e.currentTarget);if(!(null!=(r=l.state.optionsElement)&&r.contains(a))&&!(null!=(n=l.state.buttonElement)&&n.contains(a))&&0===l.state.comboboxState)return e.preventDefault(),0===o.mode&&null===o.value&&E(),l.actions.closeCombobox()}),T=eS(e=>{var t,r,n;let a=null!=(t=e.relatedTarget)?t:lC.find(t=>t!==e.currentTarget);null!=(r=l.state.buttonElement)&&r.contains(a)||null!=(n=l.state.optionsElement)&&n.contains(a)||o.disabled||o.immediate&&0!==l.state.comboboxState&&w.microTask(()=>{(0,tV.flushSync)(()=>l.actions.openCombobox()),l.actions.setActivationTrigger(1)})}),O=tg(),N=tc(),{isFocused:M,focusProps:R}=eu({autoFocus:f}),{isHovered:F,hoverProps:D}=ei({isDisabled:c}),_=rt(l,e=>e.optionsElement),A=(0,tG.useMemo)(()=>({open:0===x,disabled:c,invalid:o.invalid,hover:F,focus:M,autofocus:f}),[o,F,M,f,c,o.invalid]),L=e_({ref:g,id:s,role:"combobox",type:p,"aria-controls":null==_?void 0:_.id,"aria-expanded":0===x,"aria-activedescendant":rt(l,l.selectors.activeDescendantId),"aria-labelledby":O,"aria-describedby":N,"aria-autocomplete":"list",defaultValue:null!=(n=null!=(r=e.defaultValue)?r:void 0!==o.defaultValue?null==d?void 0:d(o.defaultValue):null)?n:o.defaultValue,disabled:c||void 0,autoFocus:f,onCompositionStart:j,onCompositionEnd:C,onKeyDown:P,onChange:I,onFocus:T,onBlur:k},R,D);return eM()({ourProps:L,theirProps:m,slot:A,defaultTag:"input",name:"Combobox.Input"})}),l6=tx,l8=eA(function(e,t){var r,n,l;let o=(0,eW.useId)(),{id:a=`headlessui-combobox-options-${o}`,hold:i=!1,anchor:s,portal:u=!1,modal:d=!0,transition:c=!1,...f}=e,p=lX("Combobox.Options"),m=lZ("Combobox.Options"),h=lu(s);h&&(u=!0);let[v,g]=lp(h),[b,x]=(0,tG.useState)(null),y=lf(),w=tu(t,h?v:null,p.actions.setOptionsElement,x),[E,S,j,C,P]=rt(p,e=>[e.comboboxState,e.inputElement,e.buttonElement,e.optionsElement,e.activationTrigger]),I=rk(S||j),k=rk(C),T=lE(),[O,N]=rq(c,b,null!==T?(1&T)==1:0===E);ru(O,S,p.actions.closeCombobox),r$(!m.__demoMode&&d&&0===E,k),ri(!m.__demoMode&&d&&0===E,{allowed:(0,tG.useCallback)(()=>[S,j,C],[S,j,C])}),ew(()=>{var t;m.optionsPropsRef.current.static=null!=(t=e.static)&&t},[m.optionsPropsRef,e.static]),ew(()=>{m.optionsPropsRef.current.hold=i},[m.optionsPropsRef,i]),rY(0===E,{container:C,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let M=tg([null==j?void 0:j.id]),R=(0,tG.useMemo)(()=>({open:0===E,option:void 0}),[E]),F=eS(()=>{p.actions.setActivationTrigger(0)}),D=eS(e=>{e.preventDefault(),p.actions.setActivationTrigger(0)}),_=e_(h?y():{},{"aria-labelledby":M,role:"listbox","aria-multiselectable":1===m.mode||void 0,id:a,ref:w,style:{...f.style,...g,"--input-width":tX(S,!0).width,"--button-width":tX(j,!0).width},onWheel:0===P?void 0:F,onMouseDown:D,...rW(N)}),A=O&&1===E,L=lx(A,null==(r=m.virtual)?void 0:r.options),z=lx(A,m.value),$=eS(e=>m.compare(z,e)),B=(0,tG.useMemo)(()=>{if(!m.virtual)return m;if(void 0===L)throw Error("Missing `options` in virtual mode");return L!==m.virtual.options?{...m,virtual:{...m.virtual,options:L}}:m},[m,L,null==(n=m.virtual)?void 0:n.options]);m.virtual&&Object.assign(f,{children:tG.default.createElement(lJ.Provider,{value:B},tG.default.createElement(l1,{slot:R},f.children))});let U=eM(),H=(0,tG.useMemo)(()=>1===m.mode?m:{...m,isSelected:$},[m,$]);return tG.default.createElement(lG,{enabled:!!u&&(e.static||O),ownerDocument:I},tG.default.createElement(lJ.Provider,{value:H},U({ourProps:_,theirProps:{...f,children:tG.default.createElement(lb,{freeze:A},"function"==typeof f.children?null==(l=f.children)?void 0:l.call(f,R):f.children)},slot:R,defaultTag:"div",features:3,visible:O,name:"Combobox.Options"})))}),l7=eA(function(e,t){var r,n,l;let o=lZ("Combobox.Option"),a=lX("Combobox.Option"),i=(0,eW.useId)(),{id:s=`headlessui-combobox-option-${i}`,value:u,disabled:d=null!=(l=null==(n=null==(r=o.virtual)?void 0:r.disabled)?void 0:n.call(r,u))&&l,order:c=null,...f}=e,[p]=rt(a,e=>[e.inputElement]),m=rD(p),h=rt(a,(0,tG.useCallback)(e=>a.selectors.isActive(e,u,s),[u,s])),v=o.isSelected(u),g=(0,tG.useRef)(null),b=eE({disabled:d,value:u,domRef:g,order:c}),x=(0,tG.useContext)(l0),y=tu(t,g,x?x.measureElement:null),w=eS(()=>{a.actions.setIsTyping(!1),a.actions.onChange(u)});ew(()=>a.actions.registerOption(s,b),[b,s]);let E=rt(a,(0,tG.useCallback)(e=>a.selectors.shouldScrollIntoView(e,u,s),[u,s]));ew(()=>{if(E)return ev().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=g.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[E,g]);let S=eS(e=>{e.preventDefault(),0===e.button&&(d||(w(),rw()||requestAnimationFrame(()=>m()),0===o.mode&&a.actions.closeCombobox()))}),j=eS(()=>{if(d)return a.actions.goToOption({focus:5});let e=o.calculateIndex(u);a.actions.goToOption({focus:4,idx:e})}),C=rH(),P=eS(e=>C.update(e)),I=eS(e=>{if(!C.wasMoved(e)||d||h)return;let t=o.calculateIndex(u);a.actions.goToOption({focus:4,idx:t},0)}),k=eS(e=>{C.wasMoved(e)&&(d||h&&(o.optionsPropsRef.current.hold||a.actions.goToOption({focus:5})))}),T=(0,tG.useMemo)(()=>({active:h,focus:h,selected:v,disabled:d}),[h,v,d]);return eM()({ourProps:{id:s,ref:y,role:"option",tabIndex:!0===d?void 0:-1,"aria-disabled":!0===d||void 0,"aria-selected":v,disabled:void 0,onMouseDown:S,onFocus:j,onPointerEnter:P,onMouseEnter:P,onPointerMove:I,onMouseMove:I,onPointerLeave:k,onMouseLeave:k},theirProps:f,slot:T,defaultTag:"div",name:"Combobox.Option"})}),l9=Object.assign(l3,{Input:l5,Button:l4,Label:l6,Options:l8,Option:l7}),oe=r(43210),ot=oe.Fragment,or=eA(function(e,t){let{...r}=e,{isFocusVisible:n,focusProps:l}=eu(),{isHovered:o,hoverProps:a}=ei({isDisabled:!1}),{pressed:i,pressProps:s}=ej({disabled:!1}),u=e_({ref:t},l,a,s),d=(0,oe.useMemo)(()=>({hover:o,focus:n,active:i}),[o,n,i]);return eM()({ourProps:u,theirProps:r,slot:d,defaultTag:ot,name:"DataInteractive"})}),on=c(r(43210),1),ol=r(43210),oo=c(r(43210),1);function oa({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=rk(r),l=eS(()=>{var l,o;let a=[];for(let t of e)null!==t&&(e7(t)?a.push(t):"current"in t&&e7(t.current)&&a.push(t.current));if(null!=t&&t.current)for(let e of t.current)a.push(e);for(let e of null!=(l=null==n?void 0:n.querySelectorAll("html > *, body > *"))?l:[])e!==document.body&&e!==document.head&&e7(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(o=null==r?void 0:r.getRootNode())?void 0:o.host))||a.some(t=>e.contains(t))||a.push(e));return a});return{resolveContainers:l,contains:eS(e=>l().some(t=>t.contains(e)))}}var oi=(0,oo.createContext)(null);function os({children:e,node:t}){let[r,n]=(0,oo.useState)(null),l=ou(null!=t?t:r);return oo.default.createElement(oi.Provider,{value:l},e,null===l&&oo.default.createElement(eQ,{features:4,ref:e=>{var t,r;if(e){for(let l of null!=(r=null==(t=ep(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(l!==document.body&&l!==document.head&&e7(l)&&null!=l&&l.contains(e)){n(l);break}}}}))}function ou(e=null){var t;return null!=(t=(0,oo.useContext)(oi))?t:e}var od=c(r(43210),1),oc=r(43210);function of(){let e=(0,oc.useRef)(!1);return ew(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var op=r(43210);function om(){let e=(0,op.useRef)(0);return rC(!0,"keydown",t=>{"Tab"===t.key&&(e.current=+!!t.shiftKey)},!0),e}function oh(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)e7(r.current)&&t.add(r.current);return t}var ov=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ov||{}),og=Object.assign(eA(function(e,t){let r=(0,od.useRef)(null),n=tu(r,t),{initialFocus:l,initialFocusFallback:o,containers:a,features:i=15,...s}=e;lM()||(i=0);let u=rk(r);!function(e,{ownerDocument:t}){let r=!!(8&e),n=function(e=!0){let t=(0,od.useRef)(lC.slice());return rQ(([e],[r])=>{!0===r&&!1===e&&eh(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=lC.slice())},[e,lC,t]),eS(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(r);rQ(()=>{r||(null==t?void 0:t.activeElement)===(null==t?void 0:t.body)&&rv(n())},[r]),lO(()=>{r&&rv(n())})}(i,{ownerDocument:u});let d=function(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:l}){let o=(0,od.useRef)(null),a=rn(!!(1&e),"focus-trap#initial-focus"),i=of();return rQ(()=>{if(0===e)return;if(!a){null!=l&&l.current&&rv(l.current);return}let s=r.current;s&&eh(()=>{if(!i.current)return;let r=null==t?void 0:t.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===r){o.current=r;return}}else if(s.contains(r)){o.current=r;return}if(null!=n&&n.current)rv(n.current);else{if(16&e){if(0!==rx(s,65))return}else if(0!==rx(s,1))return;if(null!=l&&l.current&&(rv(l.current),(null==t?void 0:t.activeElement)===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}o.current=null==t?void 0:t.activeElement})},[l,a,e]),o}(i,{ownerDocument:u,container:r,initialFocus:l,initialFocusFallback:o});!function(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:l}){let o=of(),a=!!(4&e);rF(null==t?void 0:t.defaultView,"focus",e=>{if(!a||!o.current)return;let t=oh(n);e9(r.current)&&t.add(r.current);let i=l.current;if(!i)return;let s=e.target;e9(s)?ob(t,s)?(l.current=s,rv(s)):(e.preventDefault(),e.stopPropagation(),rv(i)):rv(l.current)},!0)}(i,{ownerDocument:u,container:r,containers:a,previousActiveElement:d});let c=om(),f=eS(e=>{if(!e9(r.current))return;let t=r.current;eN(c.current,{0:()=>{rx(t,1,{skipElements:[e.relatedTarget,o]})},1:()=>{rx(t,8,{skipElements:[e.relatedTarget,o]})}})}),p=rn(!!(2&i),"focus-trap#tab-lock"),m=eg(),h=(0,od.useRef)(!1),v=eM();return od.default.createElement(od.default.Fragment,null,p&&od.default.createElement(eQ,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:2}),v({ourProps:{ref:n,onKeyDown(e){"Tab"==e.key&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(e){if(!(4&i))return;let t=oh(a);e9(r.current)&&t.add(r.current);let n=e.relatedTarget;te(n)&&"true"!==n.dataset.headlessuiFocusGuard&&(ob(t,n)||(h.current?rx(r.current,16|eN(c.current,{0:()=>4,1:()=>2}),{relativeTo:e.target}):te(e.target)&&rv(e.target)))}},theirProps:s,defaultTag:"div",name:"FocusTrap"}),p&&od.default.createElement(eQ,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:2}))}),{features:ov});function ob(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var ox=c(r(43210),1);function oy(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||(null!=(t=e.as)?t:oC)!==ox.Fragment||1===ox.default.Children.count(e.children)}var ow=(0,ox.createContext)(null);ow.displayName="TransitionContext";var oE=(0,ox.createContext)(null);function oS(e){return"children"in e?oS(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function oj(e,t){let r=eE(e),n=(0,ox.useRef)([]),l=of(),o=eg(),a=eS((e,t=1)=>{let a=n.current.findIndex(({el:t})=>t===e);-1!==a&&(eN(t,{0(){n.current.splice(a,1)},1(){n.current[a].state="hidden"}}),o.microTask(()=>{var e;!oS(n)&&l.current&&(null==(e=r.current)||e.call(r))}))}),i=eS(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>a(e,0)}),s=(0,ox.useRef)([]),u=(0,ox.useRef)(Promise.resolve()),d=(0,ox.useRef)({enter:[],leave:[]}),c=eS((e,r,n)=>{s.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{s.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(d.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?u.current=u.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),f=eS((e,t,r)=>{Promise.all(d.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=s.current.shift())||e()}).then(()=>r(t))});return(0,ox.useMemo)(()=>({children:n,register:i,unregister:a,onStart:c,onStop:f,wait:u,chains:d}),[i,a,n,c,f,d,u])}oE.displayName="NestingContext";var oC=ox.Fragment,oP=eA(function(e,t){let{show:r,appear:n=!1,unmount:l=!0,...o}=e,a=(0,ox.useRef)(null),i=tu(...oy(e)?[a,t]:null===t?[]:[t]);lM();let s=lE();if(void 0===r&&null!==s&&(r=(1&s)==1),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=(0,ox.useState)(r?"visible":"hidden"),c=oj(()=>{r||d("hidden")}),[f,p]=(0,ox.useState)(!0),m=(0,ox.useRef)([r]);ew(()=>{!1!==f&&m.current[m.current.length-1]!==r&&(m.current.push(r),p(!1))},[m,r]);let h=(0,ox.useMemo)(()=>({show:r,appear:n,initial:f}),[r,n,f]);ew(()=>{r?d("visible"):oS(c)||null===a.current||d("hidden")},[r,c]);let v={unmount:l},g=eS(()=>{var t;f&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),b=eS(()=>{var t;f&&p(!1),null==(t=e.beforeLeave)||t.call(e)}),x=eM();return ox.default.createElement(oE.Provider,{value:c},ox.default.createElement(ow.Provider,{value:h},x({ourProps:{...v,as:ox.Fragment,children:ox.default.createElement(oI,{ref:i,...v,...o,beforeEnter:g,beforeLeave:b})},theirProps:{},defaultTag:ox.Fragment,features:1,visible:"visible"===u,name:"Transition"})))}),oI=eA(function(e,t){var r,n;let{transition:l=!0,beforeEnter:o,afterEnter:a,beforeLeave:i,afterLeave:s,enter:u,enterFrom:d,enterTo:c,entered:f,leave:p,leaveFrom:m,leaveTo:h,...v}=e,[g,b]=(0,ox.useState)(null),x=(0,ox.useRef)(null),y=oy(e),w=tu(...y?[x,t,b]:null===t?[]:[t]),E=null==(r=v.unmount)||r?0:1,{show:S,appear:j,initial:C}=function(){let e=(0,ox.useContext)(ow);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[P,I]=(0,ox.useState)(S?"visible":"hidden"),k=function(){let e=(0,ox.useContext)(oE);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:T,unregister:O}=k;ew(()=>T(x),[T,x]),ew(()=>{if(1===E&&x.current)return S&&"visible"!==P?void I("visible"):eN(P,{hidden:()=>O(x),visible:()=>T(x)})},[P,x,T,O,S,E]);let N=lM();ew(()=>{if(y&&N&&"visible"===P&&null===x.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,P,N,y]);let M=C&&!j,R=j&&S&&C,F=(0,ox.useRef)(!1),D=oj(()=>{F.current||(I("hidden"),O(x))},k),_=eS(e=>{F.current=!0,D.onStart(x,e?"enter":"leave",e=>{"enter"===e?null==o||o():"leave"===e&&(null==i||i())})}),A=eS(e=>{let t=e?"enter":"leave";F.current=!1,D.onStop(x,t,e=>{"enter"===e?null==a||a():"leave"===e&&(null==s||s())}),"leave"!==t||oS(D)||(I("hidden"),O(x))});(0,ox.useEffect)(()=>{y&&l||(_(S),A(S))},[S,y,l]);let[,L]=rq(!(!l||!y||!N||M),g,S,{start:_,end:A}),z=eL({ref:w,className:(null==(n=eO(v.className,R&&u,R&&d,L.enter&&u,L.enter&&L.closed&&d,L.enter&&!L.closed&&c,L.leave&&p,L.leave&&!L.closed&&m,L.leave&&L.closed&&h,!L.transition&&S&&f))?void 0:n.trim())||void 0,...rW(L)}),$=0;"visible"===P&&($|=1),"hidden"===P&&($|=2),S&&"hidden"===P&&($|=8),S||"visible"!==P||($|=4);let B=eM();return ox.default.createElement(oE.Provider,{value:D},ox.default.createElement(lS,{value:$},B({ourProps:z,theirProps:v,defaultTag:oC,features:1,visible:"visible"===P,name:"Transition.Child"})))}),ok=eA(function(e,t){let r=null!==(0,ox.useContext)(ow),n=null!==lE();return ox.default.createElement(ox.default.Fragment,null,!r&&n?ox.default.createElement(oP,{ref:t,...e}):ox.default.createElement(oI,{ref:t,...e}))}),oT=Object.assign(oP,{Child:ok,Root:oP}),oO={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},oN=(0,on.createContext)(null);function oM(e){let t=(0,on.useContext)(oN);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oM),t}return t}function oR(e,t){return eN(t.type,oO,e,t)}oN.displayName="DialogContext";var oF,oD,o_,oA=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-dialog-${r}`,open:l,onClose:o,initialFocus:a,role:i="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:d=!1,...c}=e,f=(0,on.useRef)(!1);i="dialog"===i||"alertdialog"===i?i:(f.current||(f.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let p=lE();void 0===l&&null!==p&&(l=(1&p)==1);let m=(0,on.useRef)(null),h=tu(m,t),v=rk(m),g=+!l,[b,x]=(0,on.useReducer)(oR,{titleId:null,descriptionId:null,panelRef:(0,on.createRef)()}),y=eS(()=>o(!1)),w=eS(e=>x({type:0,id:e})),E=!!lM()&&0===g,[S,j]=lB(),C=ou(),{resolveContainers:P}=oa({mainTreeNode:C,portals:S,defaultContainers:[{get current(){var I;return null!=(I=b.panelRef.current)?I:m.current}}]}),k=null!==p&&(4&p)==4;ri(!u&&!k&&E,{allowed:eS(()=>{var e,t;return[null!=(t=null==(e=m.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:eS(()=>{var e;return[null!=(e=null==C?void 0:C.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let T=t9.get(null);ew(()=>{if(E)return T.actions.push(n),()=>T.actions.pop(n)},[T,n,E]);let O=rt(T,(0,on.useCallback)(e=>T.selectors.isTop(e,n),[T,n]));rP(O,P,e=>{e.preventDefault(),y()}),function(e,t="undefined"!=typeof document?document.defaultView:null,r){let n=rn(e,"escape");rF(t,"keydown",e=>{n&&(e.defaultPrevented||"Escape"===e.key&&r(e))})}(O,null==v?void 0:v.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),y()}),r$(!u&&!k&&E,v,P),ru(E,m,y);let[N,M]=tf(),R=(0,on.useMemo)(()=>[{dialogState:g,close:y,setTitleId:w,unmount:d},b],[g,b,y,w,d]),F=(0,on.useMemo)(()=>({open:0===g}),[g]),D={ref:h,id:n,role:i,tabIndex:-1,"aria-modal":u?void 0:0===g||void 0,"aria-labelledby":b.titleId,"aria-describedby":N,unmount:d},_=!function(){var e;let[t]=(0,ol.useState)(()=>null),[r,n]=(0,ol.useState)(null!=(e=null==t?void 0:t.matches)&&e);return ew(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){n(e.matches)}},[t]),r}(),A=0;E&&!u&&(A|=8,A|=2,s&&(A|=16),_&&(A|=1));let L=eM();return on.default.createElement(lj,null,on.default.createElement(lD,{force:!0},on.default.createElement(lG,null,on.default.createElement(oN.Provider,{value:R},on.default.createElement(lH,{target:m},on.default.createElement(lD,{force:!1},on.default.createElement(M,{slot:F},on.default.createElement(j,null,on.default.createElement(og,{initialFocus:a,initialFocusFallback:m,containers:P,features:A},on.default.createElement(tC,{value:y},L({ourProps:D,theirProps:c,slot:F,defaultTag:oL,features:oz,visible:0===g,name:"Dialog"})))))))))))}),oL="div",oz=3,o$=eA(function(e,t){let{transition:r=!1,open:n,...l}=e,o=lE(),a=e.hasOwnProperty("open")||null!==o,i=e.hasOwnProperty("onClose");if(!a&&!i)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==n||r)&&!l.static?on.default.createElement(os,null,on.default.createElement(oT,{show:n,transition:r,unmount:l.unmount},on.default.createElement(oA,{ref:t,...l}))):on.default.createElement(os,null,on.default.createElement(oA,{ref:t,open:n,...l}))}),oB=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-dialog-panel-${r}`,transition:l=!1,...o}=e,[{dialogState:a,unmount:i},s]=oM("Dialog.Panel"),u=tu(t,s.panelRef),d=(0,on.useMemo)(()=>({open:0===a}),[a]),c=eS(e=>{e.stopPropagation()}),f=l?ok:on.Fragment,p=eM();return on.default.createElement(f,{...l?{unmount:i}:{}},p({ourProps:{ref:u,id:n,onClick:c},theirProps:o,slot:d,defaultTag:"div",name:"Dialog.Panel"}))}),oU=eA(function(e,t){let{transition:r=!1,...n}=e,[{dialogState:l,unmount:o}]=oM("Dialog.Backdrop"),a=(0,on.useMemo)(()=>({open:0===l}),[l]),i=r?ok:on.Fragment,s=eM();return on.default.createElement(i,{...r?{unmount:o}:{}},s({ourProps:{ref:t,"aria-hidden":!0},theirProps:n,slot:a,defaultTag:"div",name:"Dialog.Backdrop"}))}),oH=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-dialog-title-${r}`,...l}=e,[{dialogState:o,setTitleId:a}]=oM("Dialog.Title"),i=tu(t);(0,on.useEffect)(()=>(a(n),()=>a(null)),[n,a]);let s=(0,on.useMemo)(()=>({open:0===o}),[o]);return eM()({ourProps:{ref:i,id:n},theirProps:l,slot:s,defaultTag:"h2",name:"Dialog.Title"})}),oG=tp,oV=Object.assign(o$,{Panel:oB,Title:oH,Description:tp}),oW=c(r(43210),1),oq=null!=(o_=c(r(43210),1).default.startTransition)?o_:function(e){e()},oK={0:e=>({...e,disclosureState:eN(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId},4:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},5:(e,t)=>e.panelElement===t.element?e:{...e,panelElement:t.element}},oY=(0,oW.createContext)(null);function oX(e){let t=(0,oW.useContext)(oY);if(null===t){let t=Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,oX),t}return t}oY.displayName="DisclosureContext";var oQ=(0,oW.createContext)(null);oQ.displayName="DisclosureAPIContext";var oJ=(0,oW.createContext)(null);function oZ(e,t){return eN(t.type,oK,e,t)}oJ.displayName="DisclosurePanelContext";var o0=oW.Fragment,o1=eA(function(e,t){let{defaultOpen:r=!1,...n}=e,l=(0,oW.useRef)(null),o=tu(t,ts(e=>{l.current=e},void 0===e.as||e.as===oW.Fragment)),a=(0,oW.useReducer)(oZ,{disclosureState:+!r,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:i,buttonId:s},u]=a,d=eS(e=>{u({type:1});let t=ep(l);if(!t||!s)return;let r=e?te(e)?e:"current"in e&&te(e.current)?e.current:t.getElementById(s):t.getElementById(s);null==r||r.focus()}),c=(0,oW.useMemo)(()=>({close:d}),[d]),f=(0,oW.useMemo)(()=>({open:0===i,close:d}),[i,d]),p=eM();return oW.default.createElement(oY.Provider,{value:a},oW.default.createElement(oQ.Provider,{value:c},oW.default.createElement(tC,{value:d},oW.default.createElement(lS,{value:eN(i,{0:1,1:2})},p({ourProps:{ref:o},theirProps:n,slot:f,defaultTag:o0,name:"Disclosure"})))))}),o2=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-disclosure-button-${r}`,disabled:l=!1,autoFocus:o=!1,...a}=e,[i,s]=oX("Disclosure.Button"),u=(0,oW.useContext)(oJ),d=null!==u&&u===i.panelId,c=tu((0,oW.useRef)(null),t,eS(e=>{if(!d)return s({type:4,element:e})}));(0,oW.useEffect)(()=>{if(!d)return s({type:2,buttonId:n}),()=>{s({type:2,buttonId:null})}},[n,s,d]);let f=eS(e=>{var t;if(d){if(1===i.disclosureState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),s({type:0}),null==(t=i.buttonElement)||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),s({type:0})}}),p=eS(e=>{" "===e.key&&e.preventDefault()}),m=eS(e=>{var t;tl(e.currentTarget)||l||(d?(s({type:0}),null==(t=i.buttonElement)||t.focus()):s({type:0}))}),{isFocusVisible:h,focusProps:v}=eu({autoFocus:o}),{isHovered:g,hoverProps:b}=ei({isDisabled:l}),{pressed:x,pressProps:y}=ej({disabled:l}),w=(0,oW.useMemo)(()=>({open:0===i.disclosureState,hover:g,active:x,disabled:l,focus:h,autofocus:o}),[i,g,x,h,l,o]),E=rA(e,i.buttonElement),S=d?e_({ref:c,type:E,disabled:l||void 0,autoFocus:o,onKeyDown:f,onClick:m},v,b,y):e_({ref:c,id:n,type:E,"aria-expanded":0===i.disclosureState,"aria-controls":i.panelElement?i.panelId:void 0,disabled:l||void 0,autoFocus:o,onKeyDown:f,onKeyUp:p,onClick:m},v,b,y);return eM()({ourProps:S,theirProps:a,slot:w,defaultTag:"button",name:"Disclosure.Button"})}),o3=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-disclosure-panel-${r}`,transition:l=!1,...o}=e,[a,i]=oX("Disclosure.Panel"),{close:s}=function e(t){let r=(0,oW.useContext)(oQ);if(null===r){let r=Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r}return r}("Disclosure.Panel"),[u,d]=(0,oW.useState)(null),c=tu(t,eS(e=>{oq(()=>i({type:5,element:e}))}),d);(0,oW.useEffect)(()=>(i({type:3,panelId:n}),()=>{i({type:3,panelId:null})}),[n,i]);let f=lE(),[p,m]=rq(l,u,null!==f?(1&f)==1:0===a.disclosureState),h=(0,oW.useMemo)(()=>({open:0===a.disclosureState,close:s}),[a.disclosureState,s]),v={ref:c,id:n,...rW(m)},g=eM();return oW.default.createElement(lj,null,oW.default.createElement(oJ.Provider,{value:a.panelId},g({ourProps:v,theirProps:o,slot:h,defaultTag:"div",features:3,visible:p,name:"Disclosure.Panel"})))}),o4=Object.assign(o1,{Button:o2,Panel:o3}),o5=c(r(43210),1),o6=eA(function(e,t){let r=`headlessui-control-${(0,eW.useId)()}`,[n,l]=tb(),[o,a]=tf(),i=eI(),{disabled:s=i||!1,...u}=e,d=(0,o5.useMemo)(()=>({disabled:s}),[s]),c=eM();return o5.default.createElement(ek,{value:s},o5.default.createElement(l,{value:n},o5.default.createElement(a,{value:o},o5.default.createElement(e6,{id:r},c({ourProps:{ref:t,disabled:s||void 0,"aria-disabled":s||void 0},theirProps:{...u,children:o5.default.createElement(eZ,null,"function"==typeof u.children?u.children(d):u.children)},slot:d,defaultTag:"div",name:"Field"})))))}),o8=c(r(43210),1),o7=r(43210),o9="fieldset",ae=eA(function(e,t){var r;let n=eI(),{disabled:l=n||!1,...o}=e,[a,i]=function(e){let t="string"==typeof e?e:void 0,[r,n]=(0,o7.useState)(t);return[null!=t?t:r,(0,o7.useCallback)(e=>{t||e9(e)&&n(e.tagName.toLowerCase())},[t])]}(null!=(r=e.as)?r:o9),s=tu(t,i),[u,d]=tb(),c=(0,o8.useMemo)(()=>({disabled:l}),[l]),f="fieldset"===a?{ref:s,"aria-labelledby":u,disabled:l||void 0}:{ref:s,role:"group","aria-labelledby":u,"aria-disabled":l||void 0},p=eM();return o8.default.createElement(ek,{value:l},o8.default.createElement(d,null,p({ourProps:f,theirProps:o,slot:c,defaultTag:o9,name:"Fieldset"})))}),at=r(43210),ar=eA(function(e,t){let r=(0,eW.useId)(),n=e5(),l=eI(),{id:o=n||`headlessui-input-${r}`,disabled:a=l||!1,autoFocus:i=!1,invalid:s=!1,...u}=e,d=tg(),c=tc(),{isFocused:f,focusProps:p}=eu({autoFocus:i}),{isHovered:m,hoverProps:h}=ei({isDisabled:a}),v=e_({ref:t,id:o,"aria-labelledby":d,"aria-describedby":c,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:i},p,h),g=(0,at.useMemo)(()=>({disabled:a,invalid:s,hover:m,focus:f,autofocus:i}),[a,s,m,f,i]);return eM()({ourProps:v,theirProps:u,slot:g,defaultTag:"input",name:"Input"})}),an=c(r(43210),1),al=eA(function(e,t){return an.default.createElement(tx,{as:"div",ref:t,...e})}),ao=c(r(43210),1),aa=r(51215),ai=r(43210);function as(e,t){let r=(0,ai.useRef)({left:0,top:0});if(ew(()=>{if(!t)return;let e=t.getBoundingClientRect();e&&(r.current=e)},[e,t]),null==t||!e||t===document.activeElement)return!1;let n=t.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}var au=r(43210),ad=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function ac(e){var t,r;let n=null!=(t=e.innerText)?t:"",l=e.cloneNode(!0);if(!e9(l))return n;let o=!1;for(let e of l.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),o=!0;let a=o?null!=(r=l.innerText)?r:"":n;return ad.test(a)&&(a=a.replace(ad,"")),a}function af(e){let t=(0,au.useRef)(""),r=(0,au.useRef)("");return eS(()=>{let n=e.current;if(!n)return"";let l=n.innerText;if(t.current===l)return r.current;let o=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():ac(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return ac(e).trim()})(n).trim().toLowerCase();return t.current=l,r.current=o,o})}function ap(e,t=e=>e){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=rg(t(e.options.slice()),e=>e.dataRef.current.domRef.current),l=r?n.indexOf(r):null;return -1===l&&(l=null),{options:n,activeOptionIndex:l}}var am={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,pendingFocus:{focus:5},listboxState:1,__demoMode:!1},0(e,t){if(e.dataRef.current.disabled||0===e.listboxState)return e;let r=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,l=e.options.findIndex(e=>n(e.dataRef.current.value));return -1!==l&&(r=l),{...e,pendingFocus:t.focus,listboxState:0,activeOptionIndex:r,__demoMode:!1}},2(e,t){var r,n,l,o,a;if(e.dataRef.current.disabled||1===e.listboxState)return e;let i={...e,searchQuery:"",activationTrigger:null!=(r=t.trigger)?r:1,__demoMode:!1};if(5===t.focus)return{...i,activeOptionIndex:null};if(4===t.focus)return{...i,activeOptionIndex:e.options.findIndex(e=>e.id===t.id)};if(1===t.focus){let r=e.activeOptionIndex;if(null!==r){let o=e.options[r].dataRef.current.domRef,a=lP(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.options[a].dataRef.current.domRef;if((null==(n=o.current)?void 0:n.previousElementSibling)===t.current||(null==(l=t.current)?void 0:l.previousElementSibling)===null)return{...i,activeOptionIndex:a}}}}else if(2===t.focus){let r=e.activeOptionIndex;if(null!==r){let n=e.options[r].dataRef.current.domRef,l=lP(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==l){let t=e.options[l].dataRef.current.domRef;if((null==(o=n.current)?void 0:o.nextElementSibling)===t.current||(null==(a=t.current)?void 0:a.nextElementSibling)===null)return{...i,activeOptionIndex:l}}}}let s=ap(e),u=lP(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...i,...s,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),l=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))}),o=l?e.options.indexOf(l):-1;return -1===o||o===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:o,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let r=e.options.concat(t.options),n=e.activeOptionIndex;if(5!==e.pendingFocus.focus&&(n=lP(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),null===e.activeOptionIndex){let{isSelected:t}=e.dataRef.current;if(t){let e=r.findIndex(e=>null==t?void 0:t(e.dataRef.current.value));-1!==e&&(n=e)}}return{...e,options:r,activeOptionIndex:n,pendingFocus:{focus:5},pendingShouldSort:!0}},6:(e,t)=>{let r=e.options,n=[],l=new Set(t.options);for(let[e,t]of r.entries())if(l.has(t.id)&&(n.push(e),l.delete(t.id),0===l.size))break;if(n.length>0)for(let e of(r=r.slice(),n.reverse()))r.splice(e,1);return{...e,options:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...ap(e),pendingShouldSort:!1}:e},ah=class extends t2{constructor(e){super(e),f(this,"actions",{onChange:e=>{let{onChange:t,compare:r,mode:n,value:l}=this.state.dataRef.current;return eN(n,{0:()=>null==t?void 0:t(e),1:()=>{let n=l.slice(),o=n.findIndex(t=>r(t,e));return -1===o?n.push(e):n.splice(o,1),null==t?void 0:t(n)}})},registerOption:t6(()=>{let e=[],t=new Set;return[(r,n)=>{t.has(n)||(t.add(n),e.push({id:r,dataRef:n}))},()=>(t.clear(),this.send({type:5,options:e.splice(0)}))]}),unregisterOption:t6(()=>{let e=[];return[t=>e.push(t),()=>{this.send({type:6,options:e.splice(0)})}]}),goToOption:t6(()=>{let e=null;return[(t,r)=>{e={type:2,...t,trigger:r}},()=>e&&this.send(e)]}),closeListbox:()=>{this.send({type:1})},openListbox:e=>{this.send({type:0,focus:e})},selectActiveOption:()=>{if(null!==this.state.activeOptionIndex){let{dataRef:e,id:t}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(e.current.value),this.send({type:2,focus:4,id:t})}},selectOption:e=>{let t=this.state.options.find(t=>t.id===e);t&&this.actions.onChange(t.dataRef.current.value)},search:e=>{this.send({type:3,value:e})},clearSearch:()=>{this.send({type:4})},setButtonElement:e=>{this.send({type:7,element:e})},setOptionsElement:e=>{this.send({type:8,element:e})}}),f(this,"selectors",{activeDescendantId(e){var t;let r=e.activeOptionIndex,n=e.options;return null===r||null==(t=n[r])?void 0:t.id},isActive(e,t){var r;let n=e.activeOptionIndex,l=e.options;return null!==n&&(null==(r=l[n])?void 0:r.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.listboxState&&0!==e.activationTrigger&&this.isActive(e,t)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=t9.get(null);this.disposables.add(t.on(0,r=>{t.selectors.isTop(r,e)||0!==this.state.listboxState||this.actions.closeListbox()})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,__demoMode:t=!1}){return new ah({id:e,dataRef:{current:{}},listboxState:+!t,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:5},__demoMode:t})}reduce(e,t){return eN(t.type,am,e,t)}},av=r(43210),ag=(0,av.createContext)(null);function ab(e){let t=(0,av.useContext)(ag);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ax),t}return t}function ax({id:e,__demoMode:t=!1}){let r=(0,av.useMemo)(()=>ah.new({id:e,__demoMode:t}),[]);return lO(()=>r.dispose()),r}var ay=(0,ao.createContext)(null);function aw(e){let t=(0,ao.useContext)(ay);if(null===t){let t=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,aw),t}return t}ay.displayName="ListboxDataContext";var aE=ao.Fragment,aS=(0,ao.createContext)(!1),aj=ao.Fragment,aC=eA(function(e,t){let r=(0,eW.useId)(),n=eI(),{value:l,defaultValue:o,form:a,name:i,onChange:s,by:u,invalid:d=!1,disabled:c=n||!1,horizontal:f=!1,multiple:p=!1,__demoMode:m=!1,...h}=e,v=f?"horizontal":"vertical",g=tu(t),b=eV(o),[x=p?[]:void 0,y]=eH(l,s,b),w=ax({id:r,__demoMode:m}),E=(0,ao.useRef)({static:!1,hold:!1}),S=(0,ao.useRef)(new Map),j=tK(u),C=(0,ao.useCallback)(e=>eN(P.mode,{1:()=>x.some(t=>j(t,e)),0:()=>j(x,e)}),[x]),P=(0,ao.useMemo)(()=>({value:x,disabled:c,invalid:d,mode:+!!p,orientation:v,onChange:y,compare:j,isSelected:C,optionsPropsRef:E,listRef:S}),[x,c,d,p,v,y,j,C,E,S]);ew(()=>{w.state.dataRef.current=P},[P]);let I=rt(w,e=>e.listboxState),k=t9.get(null),T=rt(k,(0,ao.useCallback)(e=>k.selectors.isTop(e,r),[k,r])),[O,N]=rt(w,e=>[e.buttonElement,e.optionsElement]);rP(T,[O,N],(e,t)=>{w.send({type:1}),rm(t,1)||(e.preventDefault(),null==O||O.focus())});let M=(0,ao.useMemo)(()=>({open:0===I,disabled:c,invalid:d,value:x}),[I,c,d,x]),[R,F]=tb({inherit:!0}),D=(0,ao.useCallback)(()=>{if(void 0!==b)return null==y?void 0:y(b)},[y,b]),_=eM();return ao.default.createElement(F,{value:R,props:{htmlFor:null==O?void 0:O.id},slot:{open:0===I,disabled:c}},ao.default.createElement(lm,null,ao.default.createElement(ag.Provider,{value:w},ao.default.createElement(ay.Provider,{value:P},ao.default.createElement(lS,{value:eN(I,{0:1,1:2})},null!=i&&null!=x&&ao.default.createElement(e1,{disabled:c,data:{[i]:x},form:a,onReset:D}),_({ourProps:{ref:g},theirProps:h,slot:M,defaultTag:aE,name:"Listbox"}))))))}),aP=eA(function(e,t){let r=(0,eW.useId)(),n=e5(),l=aw("Listbox.Button"),o=ab("Listbox.Button"),{id:a=n||`headlessui-listbox-button-${r}`,disabled:i=l.disabled||!1,autoFocus:s=!1,...u}=e,d=tu(t,ld(),o.actions.setButtonElement),c=lc(),[f,p,m]=rt(o,e=>[e.listboxState,e.buttonElement,e.optionsElement]);rN(0===f,{trigger:p,action:(0,ao.useCallback)(e=>{if(null!=p&&p.contains(e.target))return rO.Ignore;let t=e.target.closest('[role="option"]:not([data-disabled])');return e9(t)?rO.Select(t):null!=m&&m.contains(e.target)?rO.Ignore:rO.Close},[p,m]),close:o.actions.closeListbox,select:o.actions.selectActiveOption});let h=eS(e=>{switch(e.key){case"Enter":eX(e.currentTarget);break;case" ":case"ArrowDown":e.preventDefault(),o.actions.openListbox({focus:5*!!l.value});break;case"ArrowUp":e.preventDefault(),o.actions.openListbox({focus:l.value?5:3})}}),v=eS(e=>{" "===e.key&&e.preventDefault()}),g=eS(e=>{var t;if(0===e.button){if(tl(e.currentTarget))return e.preventDefault();0===o.state.listboxState?((0,aa.flushSync)(()=>o.actions.closeListbox()),null==(t=o.state.buttonElement)||t.focus({preventScroll:!0})):(e.preventDefault(),o.actions.openListbox({focus:5}))}}),b=eS(e=>e.preventDefault()),x=tg([a]),y=tc(),{isFocusVisible:w,focusProps:E}=eu({autoFocus:s}),{isHovered:S,hoverProps:j}=ei({isDisabled:i}),{pressed:C,pressProps:P}=ej({disabled:i}),I=(0,ao.useMemo)(()=>({open:0===f,active:C||0===f,disabled:i,invalid:l.invalid,value:l.value,hover:S,focus:w,autofocus:s}),[f,l.value,i,S,w,C,l.invalid,s]),k=rt(o,e=>0===e.listboxState),T=e_(c(),{ref:d,id:a,type:rA(e,p),"aria-haspopup":"listbox","aria-controls":null==m?void 0:m.id,"aria-expanded":k,"aria-labelledby":x,"aria-describedby":y,disabled:i||void 0,autoFocus:s,onKeyDown:h,onKeyUp:v,onKeyPress:b,onPointerDown:g},E,j,P);return eM()({ourProps:T,theirProps:u,slot:I,defaultTag:"button",name:"Listbox.Button"})}),aI=tx,ak=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-listbox-options-${r}`,anchor:l,portal:o=!1,modal:a=!0,transition:i=!1,...s}=e,u=lu(l),[d,c]=(0,ao.useState)(null);u&&(o=!0);let f=aw("Listbox.Options"),p=ab("Listbox.Options"),[m,h,v,g]=rt(p,e=>[e.listboxState,e.buttonElement,e.optionsElement,e.__demoMode]),b=rk(h),x=rk(v),y=lE(),[w,E]=rq(i,d,null!==y?(1&y)==1:0===m);ru(w,h,p.actions.closeListbox),r$(!g&&a&&0===m,x),ri(!g&&a&&0===m,{allowed:(0,ao.useCallback)(()=>[h,v],[h,v])});let S=!as(0!==m,h)&&w,j=lx(w&&1===m,f.value),C=eS(e=>f.compare(j,e)),P=rt(p,e=>{var t;if(null==u||!(null!=(t=null==u?void 0:u.to)&&t.includes("selection")))return null;let r=e.options.findIndex(e=>C(e.dataRef.current.value));return -1===r&&(r=0),r}),[I,k]=lp((()=>{if(null==u)return;if(null===P)return{...u,inner:void 0};let e=Array.from(f.listRef.current.values());return{...u,inner:{listRef:{current:e},index:P}}})()),T=lf(),O=tu(t,u?I:null,p.actions.setOptionsElement,c),N=eg();(0,ao.useEffect)(()=>{var e;v&&0===m&&v!==(null==(e=ep(v))?void 0:e.activeElement)&&(null==v||v.focus({preventScroll:!0}))},[m,v]);let M=eS(e=>{var t,r;switch(N.dispose(),e.key){case" ":if(""!==p.state.searchQuery)return e.preventDefault(),e.stopPropagation(),p.actions.search(e.key);case"Enter":if(e.preventDefault(),e.stopPropagation(),null!==p.state.activeOptionIndex){let{dataRef:e}=p.state.options[p.state.activeOptionIndex];p.actions.onChange(e.current.value)}0===f.mode&&((0,aa.flushSync)(()=>p.actions.closeListbox()),null==(t=p.state.buttonElement)||t.focus({preventScroll:!0}));break;case eN(f.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),p.actions.goToOption({focus:2});case eN(f.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),p.actions.goToOption({focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),p.actions.goToOption({focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),p.actions.goToOption({focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),(0,aa.flushSync)(()=>p.actions.closeListbox()),null==(r=p.state.buttonElement)||r.focus({preventScroll:!0});return;case"Tab":e.preventDefault(),e.stopPropagation(),(0,aa.flushSync)(()=>p.actions.closeListbox()),rb(p.state.buttonElement,e.shiftKey?2:4);break;default:1===e.key.length&&(p.actions.search(e.key),N.setTimeout(()=>p.actions.clearSearch(),350))}}),R=rt(p,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),F=(0,ao.useMemo)(()=>({open:0===m}),[m]),D=e_(u?T():{},{id:n,ref:O,"aria-activedescendant":rt(p,p.selectors.activeDescendantId),"aria-multiselectable":1===f.mode||void 0,"aria-labelledby":R,"aria-orientation":f.orientation,onKeyDown:M,role:"listbox",tabIndex:0===m?0:void 0,style:{...s.style,...k,"--button-width":tX(h,!0).width},...rW(E)}),_=eM(),A=(0,ao.useMemo)(()=>1===f.mode?f:{...f,isSelected:C},[f,C]);return ao.default.createElement(lG,{enabled:!!o&&(e.static||w),ownerDocument:b},ao.default.createElement(ay.Provider,{value:A},_({ourProps:D,theirProps:s,slot:F,defaultTag:"div",features:3,visible:S,name:"Listbox.Options"})))}),aT=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-listbox-option-${r}`,disabled:l=!1,value:o,...a}=e,i=!0===(0,ao.useContext)(aS),s=aw("Listbox.Option"),u=ab("Listbox.Option"),d=rt(u,e=>u.selectors.isActive(e,n)),c=s.isSelected(o),f=(0,ao.useRef)(null),p=af(f),m=eE({disabled:l,value:o,domRef:f,get textValue(){return p()}}),h=tu(t,f,e=>{e?s.listRef.current.set(n,e):s.listRef.current.delete(n)}),v=rt(u,e=>u.selectors.shouldScrollIntoView(e,n));ew(()=>{if(v)return ev().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[v,f]),ew(()=>{if(!i)return u.actions.registerOption(n,m),()=>u.actions.unregisterOption(n)},[m,n,i]);let g=eS(e=>{var t;if(l)return e.preventDefault();u.actions.onChange(o),0===s.mode&&((0,aa.flushSync)(()=>u.actions.closeListbox()),null==(t=u.state.buttonElement)||t.focus({preventScroll:!0}))}),b=eS(()=>{if(l)return u.actions.goToOption({focus:5});u.actions.goToOption({focus:4,id:n})}),x=rH(),y=eS(e=>{x.update(e),!l&&(d||u.actions.goToOption({focus:4,id:n},0))}),w=eS(e=>{x.wasMoved(e)&&(l||d||u.actions.goToOption({focus:4,id:n},0))}),E=eS(e=>{x.wasMoved(e)&&(l||d&&u.actions.goToOption({focus:5}))}),S=(0,ao.useMemo)(()=>({active:d,focus:d,selected:c,disabled:l,selectedOption:c&&i}),[d,c,l,i]),j=i?{}:{id:n,ref:h,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":c,disabled:void 0,onClick:g,onFocus:b,onPointerEnter:y,onMouseEnter:y,onPointerMove:w,onMouseMove:w,onPointerLeave:E,onMouseLeave:E},C=eM();return!c&&i?null:C({ourProps:j,theirProps:a,slot:S,defaultTag:"div",name:"Listbox.Option"})}),aO=eA(function(e,t){let{options:r,placeholder:n,...l}=e,o={ref:tu(t)},a=aw("ListboxSelectedOption"),i=(0,ao.useMemo)(()=>({}),[]),s=void 0===a.value||null===a.value||1===a.mode&&Array.isArray(a.value)&&0===a.value.length,u=eM();return ao.default.createElement(aS.Provider,{value:!0},u({ourProps:o,theirProps:{...l,children:ao.default.createElement(ao.default.Fragment,null,n&&s?n:r)},slot:i,defaultTag:aj,name:"ListboxSelectedOption"}))}),aN=Object.assign(aC,{Button:aP,Label:aI,Options:ak,Option:aT,SelectedOption:aO}),aM=c(r(43210),1),aR=r(51215);function aF(e,t=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=rg(t(e.items.slice()),e=>e.dataRef.current.domRef.current),l=r?n.indexOf(r):null;return -1===l&&(l=null),{items:n,activeItemIndex:l}}var aD={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,pendingFocus:{focus:5},menuState:1},0:(e,t)=>0===e.menuState?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0},2:(e,t)=>{var r,n,l,o,a;if(1===e.menuState)return e;let i={...e,searchQuery:"",activationTrigger:null!=(r=t.trigger)?r:1,__demoMode:!1};if(5===t.focus)return{...i,activeItemIndex:null};if(4===t.focus)return{...i,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(1===t.focus){let r=e.activeItemIndex;if(null!==r){let o=e.items[r].dataRef.current.domRef,a=lP(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==a){let t=e.items[a].dataRef.current.domRef;if((null==(n=o.current)?void 0:n.previousElementSibling)===t.current||(null==(l=t.current)?void 0:l.previousElementSibling)===null)return{...i,activeItemIndex:a}}}}else if(2===t.focus){let r=e.activeItemIndex;if(null!==r){let n=e.items[r].dataRef.current.domRef,l=lP(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==l){let t=e.items[l].dataRef.current.domRef;if((null==(o=n.current)?void 0:o.nextElementSibling)===t.current||(null==(a=t.current)?void 0:a.nextElementSibling)===null)return{...i,activeItemIndex:l}}}}let s=aF(e),u=lP(t,{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...i,...s,activeItemIndex:u}},3:(e,t)=>{let r=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),l=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),o=l?e.items.indexOf(l):-1;return -1===o||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=e.items.concat(t.items.map(e=>e)),n=e.activeItemIndex;return 5!==e.pendingFocus.focus&&(n=lP(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:5},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],l=new Set(t.items);for(let[e,t]of r.entries())if(l.has(t.id)&&(n.push(e),l.delete(t.id),0===l.size))break;if(n.length>0)for(let e of(r=r.slice(),n.reverse()))r.splice(e,1);return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...aF(e),pendingShouldSort:!1}:e},a_=class extends t2{constructor(e){super(e),f(this,"actions",{registerItem:t6(()=>{let e=[],t=new Set;return[(r,n)=>{t.has(n)||(t.add(n),e.push({id:r,dataRef:n}))},()=>(t.clear(),this.send({type:5,items:e.splice(0)}))]}),unregisterItem:t6(()=>{let e=[];return[t=>e.push(t),()=>this.send({type:6,items:e.splice(0)})]})}),f(this,"selectors",{activeDescendantId(e){var t;let r=e.activeItemIndex,n=e.items;return null===r||null==(t=n[r])?void 0:t.id},isActive(e,t){var r;let n=e.activeItemIndex,l=e.items;return null!==n&&(null==(r=l[n])?void 0:r.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.menuState&&0!==e.activationTrigger&&this.isActive(e,t)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=t9.get(null);this.disposables.add(t.on(0,r=>{t.selectors.isTop(r,e)||0!==this.state.menuState||this.send({type:1})})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,__demoMode:t=!1}){return new a_({id:e,__demoMode:t,menuState:+!t,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:5}})}reduce(e,t){return eN(t.type,aD,e,t)}},aA=r(43210),aL=(0,aA.createContext)(null);function az(e){let t=(0,aA.useContext)(aL);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,a$),t}return t}function a$({id:e,__demoMode:t=!1}){let r=(0,aA.useMemo)(()=>a_.new({id:e,__demoMode:t}),[]);return lO(()=>r.dispose()),r}var aB=aM.Fragment,aU=aM.Fragment,aH=eA(function(e,t){let r=(0,eW.useId)(),{__demoMode:n=!1,...l}=e,o=a$({id:r,__demoMode:n}),[a,i,s]=rt(o,e=>[e.menuState,e.itemsElement,e.buttonElement]),u=tu(t),d=t9.get(null);rP(rt(d,(0,aM.useCallback)(e=>d.selectors.isTop(e,r),[d,r])),[s,i],(e,t)=>{var r;o.send({type:1}),rm(t,1)||(e.preventDefault(),null==(r=o.state.buttonElement)||r.focus())});let c=eS(()=>{o.send({type:1})}),f=(0,aM.useMemo)(()=>({open:0===a,close:c}),[a,c]),p=eM();return aM.default.createElement(lm,null,aM.default.createElement(aL.Provider,{value:o},aM.default.createElement(lS,{value:eN(a,{0:1,1:2})},p({ourProps:{ref:u},theirProps:l,slot:f,defaultTag:aB,name:"Menu"}))))}),aG=eA(function(e,t){let r=az("Menu.Button"),n=(0,eW.useId)(),{id:l=`headlessui-menu-button-${n}`,disabled:o=!1,autoFocus:a=!1,...i}=e,s=(0,aM.useRef)(null),u=lc(),d=tu(t,s,ld(),eS(e=>r.send({type:7,element:e}))),c=eS(e=>{switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),r.send({type:0,focus:{focus:0}});break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),r.send({type:0,focus:{focus:3}})}}),f=eS(e=>{" "===e.key&&e.preventDefault()}),[p,m,h]=rt(r,e=>[e.menuState,e.buttonElement,e.itemsElement]);rN(0===p,{trigger:m,action:(0,aM.useCallback)(e=>{if(null!=m&&m.contains(e.target))return rO.Ignore;let t=e.target.closest('[role="menuitem"]:not([data-disabled])');return e9(t)?rO.Select(t):null!=h&&h.contains(e.target)?rO.Ignore:rO.Close},[m,h]),close:(0,aM.useCallback)(()=>r.send({type:1}),[]),select:(0,aM.useCallback)(e=>e.click(),[])});let v=eS(e=>{var t;if(0===e.button){if(tl(e.currentTarget))return e.preventDefault();o||(0===p?((0,aR.flushSync)(()=>r.send({type:1})),null==(t=s.current)||t.focus({preventScroll:!0})):(e.preventDefault(),r.send({type:0,focus:{focus:5},trigger:0})))}}),{isFocusVisible:g,focusProps:b}=eu({autoFocus:a}),{isHovered:x,hoverProps:y}=ei({isDisabled:o}),{pressed:w,pressProps:E}=ej({disabled:o}),S=(0,aM.useMemo)(()=>({open:0===p,active:w||0===p,disabled:o,hover:x,focus:g,autofocus:a}),[p,x,g,w,o,a]),j=e_(u(),{ref:d,id:l,type:rA(e,s.current),"aria-haspopup":"menu","aria-controls":null==h?void 0:h.id,"aria-expanded":0===p,disabled:o||void 0,autoFocus:a,onKeyDown:c,onKeyUp:f,onPointerDown:v},b,y,E);return eM()({ourProps:j,theirProps:i,slot:S,defaultTag:"button",name:"Menu.Button"})}),aV=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-menu-items-${r}`,anchor:l,portal:o=!1,modal:a=!0,transition:i=!1,...s}=e,u=lu(l),d=az("Menu.Items"),[c,f]=lp(u),p=lf(),[m,h]=(0,aM.useState)(null),v=tu(t,u?c:null,eS(e=>d.send({type:8,element:e})),h),[g,b]=rt(d,e=>[e.menuState,e.buttonElement]),x=rk(b),y=rk(m);u&&(o=!0);let w=lE(),[E,S]=rq(i,m,null!==w?(1&w)==1:0===g);ru(E,b,()=>{d.send({type:1})});let j=rt(d,e=>e.__demoMode);r$(!j&&a&&0===g,y),ri(!j&&a&&0===g,{allowed:(0,aM.useCallback)(()=>[b,m],[b,m])});let C=!as(0!==g,b)&&E;(0,aM.useEffect)(()=>{m&&0===g&&m!==(null==y?void 0:y.activeElement)&&m.focus({preventScroll:!0})},[g,m,y]),rY(0===g,{container:m,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let P=eg(),I=eS(e=>{var t,r,n;switch(P.dispose(),e.key){case" ":if(""!==d.state.searchQuery)return e.preventDefault(),e.stopPropagation(),d.send({type:3,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),null!==d.state.activeItemIndex){let{dataRef:e}=d.state.items[d.state.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}d.send({type:1}),rh(d.state.buttonElement);break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),d.send({type:2,focus:2});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),d.send({type:2,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),d.send({type:2,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),d.send({type:2,focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),(0,aR.flushSync)(()=>d.send({type:1})),null==(n=d.state.buttonElement)||n.focus({preventScroll:!0});break;case"Tab":e.preventDefault(),e.stopPropagation(),(0,aR.flushSync)(()=>d.send({type:1})),rb(d.state.buttonElement,e.shiftKey?2:4);break;default:1===e.key.length&&(d.send({type:3,value:e.key}),P.setTimeout(()=>d.send({type:4}),350))}}),k=eS(e=>{" "===e.key&&e.preventDefault()}),T=(0,aM.useMemo)(()=>({open:0===g}),[g]),O=e_(u?p():{},{"aria-activedescendant":rt(d,d.selectors.activeDescendantId),"aria-labelledby":rt(d,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),id:n,onKeyDown:I,onKeyUp:k,role:"menu",tabIndex:0===g?0:void 0,ref:v,style:{...s.style,...f,"--button-width":tX(b,!0).width},...rW(S)}),N=eM();return aM.default.createElement(lG,{enabled:!!o&&(e.static||E),ownerDocument:x},N({ourProps:O,theirProps:s,slot:T,defaultTag:"div",features:3,visible:C,name:"Menu.Items"}))}),aW=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-menu-item-${r}`,disabled:l=!1,...o}=e,a=az("Menu.Item"),i=rt(a,e=>a.selectors.isActive(e,n)),s=(0,aM.useRef)(null),u=tu(t,s),d=rt(a,e=>a.selectors.shouldScrollIntoView(e,n));ew(()=>{if(d)return ev().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=s.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[d,s]);let c=af(s),f=(0,aM.useRef)({disabled:l,domRef:s,get textValue(){return c()}});ew(()=>{f.current.disabled=l},[f,l]),ew(()=>(a.actions.registerItem(n,f),()=>a.actions.unregisterItem(n)),[f,n]);let p=eS(()=>{a.send({type:1})}),m=eS(e=>{if(l)return e.preventDefault();a.send({type:1}),rh(a.state.buttonElement)}),h=eS(()=>{if(l)return a.send({type:2,focus:5});a.send({type:2,focus:4,id:n})}),v=rH(),g=eS(e=>{v.update(e),!l&&(i||a.send({type:2,focus:4,id:n,trigger:0}))}),b=eS(e=>{v.wasMoved(e)&&(l||i||a.send({type:2,focus:4,id:n,trigger:0}))}),x=eS(e=>{v.wasMoved(e)&&(l||i&&a.send({type:2,focus:5}))}),[y,w]=tb(),[E,S]=tf(),j=(0,aM.useMemo)(()=>({active:i,focus:i,disabled:l,close:p}),[i,l,p]),C=eM();return aM.default.createElement(w,null,aM.default.createElement(S,null,C({ourProps:{id:n,ref:u,role:"menuitem",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-labelledby":y,"aria-describedby":E,disabled:void 0,onClick:m,onFocus:h,onPointerEnter:g,onMouseEnter:g,onPointerMove:b,onMouseMove:b,onPointerLeave:x,onMouseLeave:x},theirProps:o,slot:j,defaultTag:aU,name:"Menu.Item"})))}),aq=eA(function(e,t){let[r,n]=tb(),l=eM();return aM.default.createElement(n,null,l({ourProps:{ref:t,"aria-labelledby":r,role:"group"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Section"}))}),aK=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-menu-heading-${r}`,...l}=e,o=tv();ew(()=>o.register(n),[n,o.register]);let a={id:n,ref:t,role:"presentation",...o.props};return eM()({ourProps:a,theirProps:l,slot:{},defaultTag:"header",name:"Menu.Heading"})}),aY=eA(function(e,t){return eM()({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Separator"})}),aX=Object.assign(aH,{Button:aG,Items:aV,Item:aW,Section:aq,Heading:aK,Separator:aY}),aQ=c(r(43210),1),aJ={0:e=>0===e.popoverState?e:{...e,popoverState:0,__demoMode:!1},1:e=>1===e.popoverState?e:{...e,popoverState:1,__demoMode:!1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},aZ=class extends t2{constructor(e){super(e),f(this,"actions",{close:()=>this.send({type:1}),refocusableClose:e=>{this.actions.close();let t=e?e9(e)?e:"current"in e&&e9(e.current)?e.current:this.state.button:this.state.button;null==t||t.focus()},open:()=>this.send({type:0}),setButtonId:e=>this.send({type:3,buttonId:e}),setButton:e=>this.send({type:2,button:e}),setPanelId:e=>this.send({type:5,panelId:e}),setPanel:e=>this.send({type:4,panel:e})}),f(this,"selectors",{isPortalled:e=>{if(!e.button||!e.panel)return!1;for(let t of document.querySelectorAll("body > *"))if(Number(null==t?void 0:t.contains(e.button))^Number(null==t?void 0:t.contains(e.panel)))return!0;let t=rp(),r=t.indexOf(e.button),n=(r+t.length-1)%t.length,l=(r+1)%t.length,o=t[n],a=t[l];return!e.panel.contains(o)&&!e.panel.contains(a)}});{let e=this.state.id,t=t9.get(null);this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}}static new({id:e,__demoMode:t=!1}){return new aZ({id:e,__demoMode:t,popoverState:+!t,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(e,t){return eN(t.type,aJ,e,t)}},a0=r(43210),a1=(0,a0.createContext)(null);function a2(e){let t=(0,a0.useContext)(a1);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,a2),t}return t}var a3=(0,aQ.createContext)(null);function a4(){return(0,aQ.useContext)(a3)}a3.displayName="PopoverGroupContext";var a5=(0,aQ.createContext)(null);function a6(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-popover-backdrop-${r}`,transition:l=!1,...o}=e,a=a2("Popover.Backdrop"),i=rt(a,(0,aQ.useCallback)(e=>e.popoverState,[])),[s,u]=(0,aQ.useState)(null),d=tu(t,u),c=lE(),[f,p]=rq(l,s,null!==c?(1&c)==1:0===i),m=eS(e=>{if(tl(e.currentTarget))return e.preventDefault();a.actions.close()}),h=(0,aQ.useMemo)(()=>({open:0===i}),[i]),v={ref:d,id:n,"aria-hidden":!0,onClick:m,...rW(p)};return eM()({ourProps:v,theirProps:o,slot:h,defaultTag:"div",features:3,visible:f,name:"Popover.Backdrop"})}a5.displayName="PopoverPanelContext";var a8=eA(function(e,t){var r;let n=(0,eW.useId)(),{__demoMode:l=!1,...o}=e,a=function({id:e,__demoMode:t=!1}){let r=(0,a0.useMemo)(()=>aZ.new({id:e,__demoMode:t}),[]);return lO(()=>r.dispose()),r}({id:n,__demoMode:l}),i=(0,aQ.useRef)(null),s=tu(t,ts(e=>{i.current=e})),[u,d,c,f,p]=rt(a,(0,aQ.useCallback)(e=>[e.popoverState,e.button,e.panel,e.buttonId,e.panelId],[])),m=rk(null!=(r=i.current)?r:d),h=eE(f),v=eE(p),g=(0,aQ.useMemo)(()=>({buttonId:h,panelId:v,close:a.actions.close}),[h,v,a]),b=a4(),x=null==b?void 0:b.registerPopover,y=eS(()=>{var e;return null!=(e=null==b?void 0:b.isFocusWithinPopoverGroup())?e:(null==m?void 0:m.activeElement)&&((null==d?void 0:d.contains(m.activeElement))||(null==c?void 0:c.contains(m.activeElement)))});(0,aQ.useEffect)(()=>null==x?void 0:x(g),[x,g]);let[w,E]=lB(),S=ou(d),j=oa({mainTreeNode:S,portals:w,defaultContainers:[{get current(){return a.state.button}},{get current(){return a.state.panel}}]});rF(null==m?void 0:m.defaultView,"focus",e=>{var t,r,n,l,o,i;e.target!==window&&te(e.target)&&0===a.state.popoverState&&(y()||a.state.button&&a.state.panel&&(j.contains(e.target)||null!=(r=null==(t=a.state.beforePanelSentinel.current)?void 0:t.contains)&&r.call(t,e.target)||null!=(l=null==(n=a.state.afterPanelSentinel.current)?void 0:n.contains)&&l.call(n,e.target)||null!=(i=null==(o=a.state.afterButtonSentinel.current)?void 0:o.contains)&&i.call(o,e.target)||a.actions.close()))},!0),rP(0===u,j.resolveContainers,(e,t)=>{a.actions.close(),rm(t,1)||(e.preventDefault(),null==d||d.focus())});let C=(0,aQ.useMemo)(()=>({open:0===u,close:a.actions.refocusableClose}),[u,a]),P=rt(a,(0,aQ.useCallback)(e=>eN(e.popoverState,{0:1,1:2}),[])),I=eM();return aQ.default.createElement(os,{node:S},aQ.default.createElement(lm,null,aQ.default.createElement(a5.Provider,{value:null},aQ.default.createElement(a1.Provider,{value:a},aQ.default.createElement(tC,{value:a.actions.refocusableClose},aQ.default.createElement(lS,{value:P},aQ.default.createElement(E,null,I({ourProps:{ref:s},theirProps:o,slot:C,defaultTag:"div",name:"Popover"}))))))))}),a7=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-popover-button-${r}`,disabled:l=!1,autoFocus:o=!1,...a}=e,i=a2("Popover.Button"),[s,u,d,c,f,p,m]=rt(i,(0,aQ.useCallback)(e=>[e.popoverState,i.selectors.isPortalled(e),e.button,e.buttonId,e.panel,e.panelId,e.afterButtonSentinel],[])),h=(0,aQ.useRef)(null),v=`headlessui-focus-sentinel-${(0,eW.useId)()}`,g=a4(),b=null==g?void 0:g.closeOthers,x=null!==(0,aQ.useContext)(a5);(0,aQ.useEffect)(()=>{if(!x)return i.actions.setButtonId(n),()=>i.actions.setButtonId(null)},[x,n,i]);let[y]=(0,aQ.useState)(()=>Symbol()),w=tu(h,t,ld(),eS(e=>{if(!x){if(e)i.state.buttons.current.push(y);else{let e=i.state.buttons.current.indexOf(y);-1!==e&&i.state.buttons.current.splice(e,1)}i.state.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&i.actions.setButton(e)}})),E=tu(h,t),S=rk(h),j=eS(e=>{var t,r,n;if(x){if(1===i.state.popoverState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),i.actions.close(),null==(n=i.state.button)||n.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===i.state.popoverState?(null==b||b(i.state.buttonId),i.actions.open()):i.actions.close();break;case"Escape":if(0!==i.state.popoverState)return null==b?void 0:b(i.state.buttonId);if(!h.current||null!=S&&S.activeElement&&!h.current.contains(S.activeElement))return;e.preventDefault(),e.stopPropagation(),i.actions.close()}}),C=eS(e=>{x||" "===e.key&&e.preventDefault()}),P=eS(e=>{var t,r;tl(e.currentTarget)||l||(x?(i.actions.close(),null==(t=i.state.button)||t.focus()):(e.preventDefault(),e.stopPropagation(),1===i.state.popoverState?(null==b||b(i.state.buttonId),i.actions.open()):i.actions.close(),null==(r=i.state.button)||r.focus()))}),I=eS(e=>{e.preventDefault(),e.stopPropagation()}),{isFocusVisible:k,focusProps:T}=eu({autoFocus:o}),{isHovered:O,hoverProps:N}=ei({isDisabled:l}),{pressed:M,pressProps:R}=ej({disabled:l}),F=0===s,D=(0,aQ.useMemo)(()=>({open:F,active:M||F,disabled:l,hover:O,focus:k,autofocus:o}),[F,O,k,M,l,o]),_=rA(e,d),A=x?e_({ref:E,type:_,onKeyDown:j,onClick:P,disabled:l||void 0,autoFocus:o},T,N,R):e_({ref:w,id:c,type:_,"aria-expanded":0===s,"aria-controls":f?p:void 0,disabled:l||void 0,autoFocus:o,onKeyDown:j,onKeyUp:C,onClick:P,onMouseDown:I},T,N,R),L=om(),z=eS(()=>{if(!e9(i.state.panel))return;let e=i.state.panel;0===eN(L.current,{0:()=>rx(e,1),1:()=>rx(e,8)})&&rx(rp().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),eN(L.current,{0:4,1:2}),{relativeTo:i.state.button})}),$=eM();return aQ.default.createElement(aQ.default.Fragment,null,$({ourProps:A,theirProps:a,slot:D,defaultTag:"button",name:"Popover.Button"}),F&&!x&&u&&aQ.default.createElement(eQ,{id:v,ref:m,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:z}))}),a9=eA(a6),ie=eA(a6),it=eA(function(e,t){let r=(0,eW.useId)(),{id:n=`headlessui-popover-panel-${r}`,focus:l=!1,anchor:o,portal:a=!1,modal:i=!1,transition:s=!1,...u}=e,d=a2("Popover.Panel"),c=rt(d,d.selectors.isPortalled),[f,p,m,h,v]=rt(d,(0,aQ.useCallback)(e=>[e.popoverState,e.button,e.__demoMode,e.beforePanelSentinel,e.afterPanelSentinel],[])),g=`headlessui-focus-sentinel-before-${r}`,b=`headlessui-focus-sentinel-after-${r}`,x=(0,aQ.useRef)(null),y=lu(o),[w,E]=lp(y),S=lf();y&&(a=!0);let[j,C]=(0,aQ.useState)(null),P=tu(x,t,y?w:null,d.actions.setPanel,C),I=rk(p),k=rk(x);ew(()=>(d.actions.setPanelId(n),()=>d.actions.setPanelId(null)),[n,d]);let T=lE(),[O,N]=rq(s,j,null!==T?(1&T)==1:0===f);ru(O,p,d.actions.close),r$(!m&&i&&O,k);let M=eS(e=>{var t;if("Escape"===e.key){if(0!==d.state.popoverState||!x.current||null!=k&&k.activeElement&&!x.current.contains(k.activeElement))return;e.preventDefault(),e.stopPropagation(),d.actions.close(),null==(t=d.state.button)||t.focus()}});(0,aQ.useEffect)(()=>{var t;e.static||1===f&&(null==(t=e.unmount)||t)&&d.actions.setPanel(null)},[f,e.unmount,e.static,d]),(0,aQ.useEffect)(()=>{if(m||!l||0!==f||!x.current)return;let e=null==k?void 0:k.activeElement;x.current.contains(e)||rx(x.current,1)},[m,l,x.current,f]);let R=(0,aQ.useMemo)(()=>({open:0===f,close:d.actions.refocusableClose}),[f,d]),F=e_(y?S():{},{ref:P,id:n,onKeyDown:M,onBlur:l&&0===f?e=>{var t,r,n,l,o;let a=e.relatedTarget;a&&x.current&&(null!=(t=x.current)&&t.contains(a)||(d.actions.close(),(null!=(n=null==(r=h.current)?void 0:r.contains)&&n.call(r,a)||null!=(o=null==(l=v.current)?void 0:l.contains)&&o.call(l,a))&&a.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...E,"--button-width":tX(p,!0).width},...rW(N)}),D=om(),_=eS(()=>{let e=x.current;e&&eN(D.current,{0:()=>{var t;0===rx(e,1)&&(null==(t=d.state.afterPanelSentinel.current)||t.focus())},1:()=>{var e;null==(e=d.state.button)||e.focus({preventScroll:!0})}})}),A=eS(()=>{let e=x.current;e&&eN(D.current,{0:()=>{if(!d.state.button)return;let e=rp(),t=e.indexOf(d.state.button),r=e.slice(0,t+1),n=[...e.slice(t+1),...r];for(let e of n.slice())if("true"===e.dataset.headlessuiFocusGuard||null!=j&&j.contains(e)){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}rx(n,1,{sorted:!1})},1:()=>{var t;0===rx(e,2)&&(null==(t=d.state.button)||t.focus())}})}),L=eM();return aQ.default.createElement(lj,null,aQ.default.createElement(a5.Provider,{value:n},aQ.default.createElement(tC,{value:d.actions.refocusableClose},aQ.default.createElement(lG,{enabled:!!a&&(e.static||O),ownerDocument:I},O&&c&&aQ.default.createElement(eQ,{id:g,ref:h,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_}),L({ourProps:F,theirProps:u,slot:R,defaultTag:"div",features:3,visible:O,name:"Popover.Panel"}),O&&c&&aQ.default.createElement(eQ,{id:b,ref:v,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:A})))))}),ir=eA(function(e,t){let r=(0,aQ.useRef)(null),n=tu(r,t),[l,o]=(0,aQ.useState)([]),a=eS(e=>{o(t=>{let r=t.indexOf(e);if(-1!==r){let e=t.slice();return e.splice(r,1),e}return t})}),i=eS(e=>(o(t=>[...t,e]),()=>a(e))),s=eS(()=>{var e;let t=ep(r);if(!t)return!1;let n=t.activeElement;return!!(null!=(e=r.current)&&e.contains(n))||l.some(e=>{var r,l;return(null==(r=t.getElementById(e.buttonId.current))?void 0:r.contains(n))||(null==(l=t.getElementById(e.panelId.current))?void 0:l.contains(n))})}),u=eS(e=>{for(let t of l)t.buttonId.current!==e&&t.close()}),d=(0,aQ.useMemo)(()=>({registerPopover:i,unregisterPopover:a,isFocusWithinPopoverGroup:s,closeOthers:u}),[i,a,s,u]),c=(0,aQ.useMemo)(()=>({}),[]),f=eM();return aQ.default.createElement(os,null,aQ.default.createElement(a3.Provider,{value:d},f({ourProps:{ref:n},theirProps:e,slot:c,defaultTag:"div",name:"Popover.Group"})))}),il=Object.assign(a8,{Button:a7,Backdrop:ie,Overlay:a9,Panel:it,Group:ir}),io=c(r(43210),1),ia={0(e,t){let r=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:rg(r,e=>e.element.current)}},1(e,t){let r=e.options.slice(),n=e.options.findIndex(e=>e.id===t.id);return -1===n?e:(r.splice(n,1),{...e,options:r})}},ii=(0,io.createContext)(null);function is(e){let t=(0,io.useContext)(ii);if(null===t){let t=Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,is),t}return t}ii.displayName="RadioGroupDataContext";var iu=(0,io.createContext)(null);function id(e){let t=(0,io.useContext)(iu);if(null===t){let t=Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,id),t}return t}function ic(e,t){return eN(t.type,ia,e,t)}iu.displayName="RadioGroupActionsContext";var ip=eA(function(e,t){let r=(0,eW.useId)(),n=eI(),{id:l=`headlessui-radiogroup-${r}`,value:o,form:a,name:i,onChange:s,by:u,disabled:d=n||!1,defaultValue:c,tabIndex:f=0,...p}=e,m=tK(u),[h,v]=(0,io.useReducer)(ic,{options:[]}),g=h.options,[b,x]=tb(),[y,w]=tf(),E=(0,io.useRef)(null),S=tu(E,t),j=eV(c),[C,P]=eH(o,s,j),I=(0,io.useMemo)(()=>g.find(e=>!e.propsRef.current.disabled),[g]),k=(0,io.useMemo)(()=>g.some(e=>m(e.propsRef.current.value,C)),[g,C]),T=eS(e=>{var t;if(d||m(e,C))return!1;let r=null==(t=g.find(t=>m(t.propsRef.current.value,e)))?void 0:t.propsRef.current;return(null==r||!r.disabled)&&(null==P||P(e),!0)}),O=eS(e=>{let t=E.current;if(!t)return;let r=ep(t),n=g.filter(e=>!1===e.propsRef.current.disabled).map(e=>e.element.current);switch(e.key){case"Enter":eX(e.currentTarget);break;case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===rx(n,18)){let e=g.find(e=>e.element.current===(null==r?void 0:r.activeElement));e&&T(e.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===rx(n,20)){let e=g.find(e=>e.element.current===(null==r?void 0:r.activeElement));e&&T(e.propsRef.current.value)}break;case" ":{e.preventDefault(),e.stopPropagation();let t=g.find(e=>e.element.current===(null==r?void 0:r.activeElement));t&&T(t.propsRef.current.value)}}}),N=eS(e=>(v({type:0,...e}),()=>v({type:1,id:e.id}))),M=(0,io.useMemo)(()=>({value:C,firstOption:I,containsCheckedOption:k,disabled:d,compare:m,tabIndex:f,...h}),[C,I,k,d,m,f,h]),R=(0,io.useMemo)(()=>({registerOption:N,change:T}),[N,T]),F=(0,io.useMemo)(()=>({value:C}),[C]),D=(0,io.useCallback)(()=>{if(void 0!==j)return T(j)},[T,j]),_=eM();return io.default.createElement(w,{name:"RadioGroup.Description"},io.default.createElement(x,{name:"RadioGroup.Label"},io.default.createElement(iu.Provider,{value:R},io.default.createElement(ii.Provider,{value:M},null!=i&&io.default.createElement(e1,{disabled:d,data:{[i]:C||"on"},overrides:{type:"radio",checked:null!=C},form:a,onReset:D}),_({ourProps:{ref:S,id:l,role:"radiogroup","aria-labelledby":b,"aria-describedby":y,onKeyDown:O},theirProps:p,slot:F,defaultTag:"div",name:"RadioGroup"})))))}),im=eA(function(e,t){var r;let n=is("RadioGroup.Option"),l=id("RadioGroup.Option"),o=(0,eW.useId)(),{id:a=`headlessui-radiogroup-option-${o}`,value:i,disabled:s=n.disabled||!1,autoFocus:u=!1,...d}=e,c=(0,io.useRef)(null),f=tu(c,t),[p,m]=tb(),[h,v]=tf(),g=eE({value:i,disabled:s});ew(()=>l.registerOption({id:a,element:c,propsRef:g}),[a,l,c,g]);let b=eS(e=>{var t;if(tl(e.currentTarget))return e.preventDefault();l.change(i)&&(null==(t=c.current)||t.focus())}),x=(null==(r=n.firstOption)?void 0:r.id)===a,{isFocusVisible:y,focusProps:w}=eu({autoFocus:u}),{isHovered:E,hoverProps:S}=ei({isDisabled:s}),j=n.compare(n.value,i),C=e_({ref:f,id:a,role:"radio","aria-checked":j?"true":"false","aria-labelledby":p,"aria-describedby":h,"aria-disabled":!!s||void 0,tabIndex:s?-1:j||!n.containsCheckedOption&&x?n.tabIndex:-1,onClick:s?void 0:b,autoFocus:u},w,S),P=(0,io.useMemo)(()=>({checked:j,disabled:s,active:y,hover:E,focus:y,autofocus:u}),[j,s,E,y,u]),I=eM();return io.default.createElement(v,{name:"RadioGroup.Description"},io.default.createElement(m,{name:"RadioGroup.Label"},I({ourProps:C,theirProps:d,slot:P,defaultTag:"div",name:"RadioGroup.Option"})))}),ih=eA(function(e,t){var r;let n=is("Radio"),l=id("Radio"),o=(0,eW.useId)(),a=e5(),i=eI(),{id:s=a||`headlessui-radio-${o}`,value:u,disabled:d=n.disabled||i||!1,autoFocus:c=!1,...f}=e,p=(0,io.useRef)(null),m=tu(p,t),h=tg(),v=tc(),g=eE({value:u,disabled:d});ew(()=>l.registerOption({id:s,element:p,propsRef:g}),[s,l,p,g]);let b=eS(e=>{var t;if(tl(e.currentTarget))return e.preventDefault();l.change(u)&&(null==(t=p.current)||t.focus())}),{isFocusVisible:x,focusProps:y}=eu({autoFocus:c}),{isHovered:w,hoverProps:E}=ei({isDisabled:d}),S=(null==(r=n.firstOption)?void 0:r.id)===s,j=n.compare(n.value,u),C=e_({ref:m,id:s,role:"radio","aria-checked":j?"true":"false","aria-labelledby":h,"aria-describedby":v,"aria-disabled":!!d||void 0,tabIndex:d?-1:j||!n.containsCheckedOption&&S?n.tabIndex:-1,autoFocus:c,onClick:d?void 0:b},y,E),P=(0,io.useMemo)(()=>({checked:j,disabled:d,hover:w,focus:x,autofocus:c}),[j,d,w,x,c]);return eM()({ourProps:C,theirProps:f,slot:P,defaultTag:"span",name:"Radio"})}),iv=tx,ig=tp,ib=Object.assign(ip,{Option:im,Radio:ih,Label:iv,Description:ig}),ix=r(43210),iy=eA(function(e,t){let r=(0,eW.useId)(),n=e5(),l=eI(),{id:o=n||`headlessui-select-${r}`,disabled:a=l||!1,invalid:i=!1,autoFocus:s=!1,...u}=e,d=tg(),c=tc(),{isFocusVisible:f,focusProps:p}=eu({autoFocus:s}),{isHovered:m,hoverProps:h}=ei({isDisabled:a}),{pressed:v,pressProps:g}=ej({disabled:a}),b=e_({ref:t,id:o,"aria-labelledby":d,"aria-describedby":c,"aria-invalid":i?"true":void 0,disabled:a||void 0,autoFocus:s},p,h,g),x=(0,ix.useMemo)(()=>({disabled:a,invalid:i,hover:m,focus:f,active:v,autofocus:s}),[a,i,m,f,v,s]);return eM()({ourProps:b,theirProps:u,slot:x,defaultTag:"select",name:"Select"})}),iw=c(r(43210),1),iE=(0,iw.createContext)(null);iE.displayName="GroupContext";var iS=iw.Fragment,ij=eA(function(e,t){var r;let n=(0,eW.useId)(),l=e5(),o=eI(),{id:a=l||`headlessui-switch-${n}`,disabled:i=o||!1,checked:s,defaultChecked:u,onChange:d,name:c,value:f,form:p,autoFocus:m=!1,...h}=e,v=(0,iw.useContext)(iE),[g,b]=(0,iw.useState)(null),x=tu((0,iw.useRef)(null),t,null===v?null:v.setSwitch,b),y=eV(u),[w,E]=eH(s,d,null!=y&&y),S=eg(),[j,C]=(0,iw.useState)(!1),P=eS(()=>{C(!0),null==E||E(!w),S.nextFrame(()=>{C(!1)})}),I=eS(e=>{if(tl(e.currentTarget))return e.preventDefault();e.preventDefault(),P()}),k=eS(e=>{" "===e.key?(e.preventDefault(),P()):"Enter"===e.key&&eX(e.currentTarget)}),T=eS(e=>e.preventDefault()),O=tg(),N=tc(),{isFocusVisible:M,focusProps:R}=eu({autoFocus:m}),{isHovered:F,hoverProps:D}=ei({isDisabled:i}),{pressed:_,pressProps:A}=ej({disabled:i}),L=(0,iw.useMemo)(()=>({checked:w,disabled:i,hover:F,focus:M,active:_,autofocus:m,changing:j}),[w,F,M,_,i,j,m]),z=e_({id:a,ref:x,role:"switch",type:rA(e,g),tabIndex:-1===e.tabIndex?0:null!=(r=e.tabIndex)?r:0,"aria-checked":w,"aria-labelledby":O,"aria-describedby":N,disabled:i||void 0,autoFocus:m,onClick:I,onKeyUp:k,onKeyPress:T},R,D,A),$=(0,iw.useCallback)(()=>{if(void 0!==y)return null==E?void 0:E(y)},[E,y]),B=eM();return iw.default.createElement(iw.default.Fragment,null,null!=c&&iw.default.createElement(e1,{disabled:i,data:{[c]:f||"on"},overrides:{type:"checkbox",checked:w},form:p,onReset:$}),B({ourProps:z,theirProps:h,slot:L,defaultTag:"button",name:"Switch"}))}),iC=function(e){var t;let[r,n]=(0,iw.useState)(null),[l,o]=tb(),[a,i]=tf(),s=(0,iw.useMemo)(()=>({switch:r,setSwitch:n}),[r,n]),u=eM();return iw.default.createElement(i,{name:"Switch.Description",value:a},iw.default.createElement(o,{name:"Switch.Label",value:l,props:{htmlFor:null==(t=s.switch)?void 0:t.id,onClick(e){r&&(tr(e.currentTarget)&&e.preventDefault(),r.click(),r.focus({preventScroll:!0}))}}},iw.default.createElement(iE.Provider,{value:s},u({ourProps:{},theirProps:e,slot:{},defaultTag:iS,name:"Switch.Group"}))))},iP=tx,iI=tp,ik=Object.assign(ij,{Group:iC,Label:iP,Description:iI}),iT=c(r(43210),1),iO=c(r(43210),1);function iN({onFocus:e}){let[t,r]=(0,iO.useState)(!0),n=of();return t?iO.default.createElement(eQ,{as:"button",type:"button",features:2,onFocus:t=>{t.preventDefault();let l,o=50;l=requestAnimationFrame(function t(){if(o--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!n.current)return;r(!1);return}l=requestAnimationFrame(t)})}}):null}var iM=c(r(43210),1),iR=iM.createContext(null);function iF({children:e}){let t=iM.useRef({groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let l=null!=(r=n.get(t))?r:0;return n.set(t,l+1),[Array.from(n.keys()).indexOf(t),function(){let e=n.get(t);e>1?n.set(t,e-1):n.delete(t)}]}});return iM.createElement(iR.Provider,{value:t},e)}function iD(e){let t=iM.useContext(iR);if(!t)throw Error("You must wrap your component in a <StableCollection>");let r=iM.useId(),[n,l]=t.current.get(e,r);return iM.useEffect(()=>l,[]),n}var i_={0(e,t){var r;let n=rg(e.tabs,e=>e.current),l=rg(e.panels,e=>e.current),o=n.filter(e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}),a={...e,tabs:n,panels:l};if(t.index<0||t.index>n.length-1){let r=eN(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>eN(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(0===o.length)return a;let l=eN(r,{0:()=>n.indexOf(o[0]),1:()=>n.indexOf(o[o.length-1])});return{...a,selectedIndex:-1===l?e.selectedIndex:l}}let i=n.slice(0,t.index),s=[...n.slice(t.index),...i].find(e=>o.includes(e));if(!s)return a;let u=null!=(r=n.indexOf(s))?r:e.selectedIndex;return -1===u&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=rg([...e.tabs,t.tab],e=>e.current),l=e.selectedIndex;return e.info.current.isControlled||-1===(l=n.indexOf(r))&&(l=e.selectedIndex),{...e,tabs:n,selectedIndex:l}},2:(e,t)=>({...e,tabs:e.tabs.filter(e=>e!==t.tab)}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:rg([...e.panels,t.panel],e=>e.current)},4:(e,t)=>({...e,panels:e.panels.filter(e=>e!==t.panel)})},iA=(0,iT.createContext)(null);function iL(e){let t=(0,iT.useContext)(iA);if(null===t){let t=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,iL),t}return t}iA.displayName="TabsDataContext";var iz=(0,iT.createContext)(null);function i$(e){let t=(0,iT.useContext)(iz);if(null===t){let t=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,i$),t}return t}function iB(e,t){return eN(t.type,i_,e,t)}iz.displayName="TabsActionsContext";var iU=eA(function(e,t){var r,n;let l=(0,eW.useId)(),{id:o=`headlessui-tabs-tab-${l}`,disabled:a=!1,autoFocus:i=!1,...s}=e,{orientation:u,activation:d,selectedIndex:c,tabs:f,panels:p}=iL("Tab"),m=i$("Tab"),h=iL("Tab"),[v,g]=(0,iT.useState)(null),b=(0,iT.useRef)(null),x=tu(b,t,g);ew(()=>m.registerTab(b),[m,b]);let y=iD("tabs"),w=f.indexOf(b);-1===w&&(w=y);let E=w===c,S=eS(e=>{var t;let r=e();if(2===r&&"auto"===d){let e=null==(t=ep(b))?void 0:t.activeElement,r=h.tabs.findIndex(t=>t.current===e);-1!==r&&m.change(r)}return r}),j=eS(e=>{let t=f.map(e=>e.current).filter(Boolean);if(" "===e.key||"Enter"===e.key){e.preventDefault(),e.stopPropagation(),m.change(w);return}switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),S(()=>rx(t,1));case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),S(()=>rx(t,8))}if(2===S(()=>eN(u,{vertical:()=>"ArrowUp"===e.key?rx(t,18):"ArrowDown"===e.key?rx(t,20):0,horizontal:()=>"ArrowLeft"===e.key?rx(t,18):"ArrowRight"===e.key?rx(t,20):0})))return e.preventDefault()}),C=(0,iT.useRef)(!1),P=eS(()=>{var e;C.current||(C.current=!0,null==(e=b.current)||e.focus({preventScroll:!0}),m.change(w),eh(()=>{C.current=!1}))}),I=eS(e=>{e.preventDefault()}),{isFocusVisible:k,focusProps:T}=eu({autoFocus:i}),{isHovered:O,hoverProps:N}=ei({isDisabled:a}),{pressed:M,pressProps:R}=ej({disabled:a}),F=(0,iT.useMemo)(()=>({selected:E,hover:O,active:M,focus:k,autofocus:i,disabled:a}),[E,O,k,M,i,a]),D=e_({ref:x,onKeyDown:j,onMouseDown:I,onClick:P,id:o,role:"tab",type:rA(e,v),"aria-controls":null==(n=null==(r=p[w])?void 0:r.current)?void 0:n.id,"aria-selected":E,tabIndex:E?0:-1,disabled:a||void 0,autoFocus:i},T,N,R);return eM()({ourProps:D,theirProps:s,slot:F,defaultTag:"button",name:"Tabs.Tab"})}),iH=eA(function(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:l=!1,onChange:o,selectedIndex:a=null,...i}=e,s=n?"vertical":"horizontal",u=l?"manual":"auto",d=null!==a,c=eE({isControlled:d}),f=tu(t),[p,m]=(0,iT.useReducer)(iB,{info:c,selectedIndex:null!=a?a:r,tabs:[],panels:[]}),h=(0,iT.useMemo)(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),v=eE(o||(()=>{})),g=eE(p.tabs),b=(0,iT.useMemo)(()=>({orientation:s,activation:u,...p}),[s,u,p]),x=eS(e=>(m({type:1,tab:e}),()=>m({type:2,tab:e}))),y=eS(e=>(m({type:3,panel:e}),()=>m({type:4,panel:e}))),w=eS(e=>{E.current!==e&&v.current(e),d||m({type:0,index:e})}),E=eE(d?e.selectedIndex:p.selectedIndex),S=(0,iT.useMemo)(()=>({registerTab:x,registerPanel:y,change:w}),[]);ew(()=>{m({type:0,index:null!=a?a:r})},[a]),ew(()=>{if(void 0===E.current||p.tabs.length<=0)return;let e=rg(p.tabs,e=>e.current);e.some((e,t)=>p.tabs[t]!==e)&&w(e.indexOf(p.tabs[E.current]))});let j=eM();return iT.default.createElement(iF,null,iT.default.createElement(iz.Provider,{value:S},iT.default.createElement(iA.Provider,{value:b},b.tabs.length<=0&&iT.default.createElement(iN,{onFocus:()=>{var e,t;for(let r of g.current)if((null==(e=r.current)?void 0:e.tabIndex)===0)return null==(t=r.current)||t.focus(),!0;return!1}}),j({ourProps:{ref:f},theirProps:i,slot:h,defaultTag:"div",name:"Tabs"}))))}),iG=eA(function(e,t){let{orientation:r,selectedIndex:n}=iL("Tab.List"),l=tu(t),o=(0,iT.useMemo)(()=>({selectedIndex:n}),[n]);return eM()({ourProps:{ref:l,role:"tablist","aria-orientation":r},theirProps:e,slot:o,defaultTag:"div",name:"Tabs.List"})}),iV=eA(function(e,t){let{selectedIndex:r}=iL("Tab.Panels"),n=tu(t),l=(0,iT.useMemo)(()=>({selectedIndex:r}),[r]);return eM()({ourProps:{ref:n},theirProps:e,slot:l,defaultTag:"div",name:"Tabs.Panels"})}),iW=eA(function(e,t){var r,n,l,o;let a=(0,eW.useId)(),{id:i=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...u}=e,{selectedIndex:d,tabs:c,panels:f}=iL("Tab.Panel"),p=i$("Tab.Panel"),m=(0,iT.useRef)(null),h=tu(m,t);ew(()=>p.registerPanel(m),[p,m]);let v=iD("panels"),g=f.indexOf(m);-1===g&&(g=v);let b=g===d,{isFocusVisible:x,focusProps:y}=eu(),w=(0,iT.useMemo)(()=>({selected:b,focus:x}),[b,x]),E=e_({ref:h,id:i,role:"tabpanel","aria-labelledby":null==(n=null==(r=c[g])?void 0:r.current)?void 0:n.id,tabIndex:b?s:-1},y),S=eM();return b||null!=(l=u.unmount)&&!l||null!=(o=u.static)&&o?S({ourProps:E,theirProps:u,slot:w,defaultTag:"div",features:3,visible:b,name:"Tabs.Panel"}):iT.default.createElement(eQ,{"aria-hidden":"true",...E})}),iq=Object.assign(iU,{Group:iH,List:iG,Panels:iV,Panel:iW}),iK=r(43210),iY=eA(function(e,t){let r=(0,eW.useId)(),n=e5(),l=eI(),{id:o=n||`headlessui-textarea-${r}`,disabled:a=l||!1,autoFocus:i=!1,invalid:s=!1,...u}=e,d=tg(),c=tc(),{isFocused:f,focusProps:p}=eu({autoFocus:i}),{isHovered:m,hoverProps:h}=ei({isDisabled:a}),v=e_({ref:t,id:o,"aria-labelledby":d,"aria-describedby":c,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:i},p,h),g=(0,iK.useMemo)(()=>({disabled:a,invalid:s,hover:m,focus:f,autofocus:i}),[a,s,m,f,i]);return eM()({ourProps:v,theirProps:u,slot:g,defaultTag:"textarea",name:"Textarea"})})},66489:(e,t,r)=>{Promise.resolve().then(r.bind(r,58061))},69148:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.RouterContext},73320:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFriendsStore=void 0;let n=r(86249),l=function(e){return e&&e.__esModule?e:{default:e}}(r(63709));l.default.defaults.withCredentials=!0,l.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useFriendsStore=(0,n.create)((e,t)=>({allUsers:[],friends:[],onlineFriends:[],searchResults:[],selectedFriend:null,loading:!1,error:null,fetchAllUsers:async()=>{e({loading:!0,error:null});try{let t=await l.default.get("/friend/all");e({allUsers:t.data.users,loading:!1})}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},fetchFriends:async()=>{e({loading:!0,error:null});try{let t=await l.default.get("/friend/list");e({friends:t.data.friends,loading:!1})}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},fetchOnlineFriends:async()=>{e({loading:!0,error:null});try{let t=await l.default.get("/friend/online");e({onlineFriends:t.data.online,loading:!1})}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},fetchFriendDetails:async t=>{e({loading:!0,error:null});try{let r=(await l.default.get(`/friend/details/${t}`)).data.friend;return e({selectedFriend:r,loading:!1}),r}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},clearSelectedFriend:()=>e({selectedFriend:null}),searchFriends:async t=>{if(!t.trim())return void e({searchResults:[]});e({loading:!0,error:null});try{let r=await l.default.get(`/friend/search?query=${encodeURIComponent(t)}`);e({searchResults:r.data.results,loading:!1})}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},getUserSeen:async e=>{try{let{onlineFriends:r}=t();if(r.includes(e))return{status:"online",lastSeen:null};let n=await l.default.get(`/friend/status/${e}`);return{lastSeen:n.data.lastSeen,status:n.data.status}}catch{return{lastSeen:null,status:"offline"}}},getUserStatus:async e=>{let{onlineFriends:r}=t();return r.includes(e)?"online":"offline"},addFriend:async r=>{e({loading:!0,error:null});try{await l.default.post("/friend/add",{friendId:r},{headers:{"Content-Type":"application/json"}}),await t().fetchFriends(),await t().fetchOnlineFriends(),e({loading:!1})}catch(r){let t="Unknown error";r&&"object"==typeof r&&("response"in r&&"string"==typeof r.response?.data?.error?t=r.response.data.error:"message"in r&&"string"==typeof r.message&&(t=r.message)),e({error:t,loading:!1})}},removeFriend:async r=>{e({loading:!0,error:null});try{await l.default.post("/friend/remove",{friendId:r}),await t().fetchFriends(),await t().fetchOnlineFriends(),e({loading:!1})}catch(t){e({error:t instanceof Error?t.message:String(t),loading:!1})}},clearSearch:()=>e({searchResults:[]})}))},74075:e=>{"use strict";e.exports=require("zlib")},78575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var l=Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),a=0;a<n.length;a++)"default"!==n[a]&&l(r,t,n[a]);return o(r,t),r}}(),i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(43210)),u=r(73320),d=r(49513),c=i(r(17525)),f=i(r(72967)),p=r(27526);t.default=({handleClickOutside:e,onGroupUpdated:t,group:r})=>{let l=(0,u.useFriendsStore)(e=>e.friends),{chats:o,updateGroupChat:a}=(0,d.useChatStore)(),i=l??[],[m,h]=(0,s.useState)(r.name),[v,g]=(0,s.useState)(r.participants),[b,x]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[E,S]=(0,s.useState)(!1),[j,C]=(0,s.useState)(!1),[P,I]=(0,s.useState)(""),k=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},T=async n=>{if(console.log("Submitting group update...",r.id),n.preventDefault(),!m.trim()||v.length<2)return;console.log("Submitting group update:",m,v);let l=m.trim();if(o.some(e=>e.name===l&&e.id!==r.id)){I("A group with this name already exists."),C(!0),setTimeout(()=>C(!1),3e3);return}w(!0);try{await new Promise(e=>setTimeout(e,2e3));let n=r.participants,o=v.filter(e=>!n.includes(e)),i=n.filter(e=>!v.includes(e));await a(r.id,l,o,i),t({id:r.id,name:l,participants:v}),w(!1),S(!0),setTimeout(()=>{S(!1),e()},2e3)}catch{w(!1),I("Failed to update group."),C(!0),setTimeout(()=>C(!1),3e3)}},O=i.filter(e=>v.includes(e.id)).map(e=>`${e.firstname} ${e.lastname}`);return(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(13, 17, 23, 0.8)"},onClick:e,children:[E&&(0,n.jsx)(c.default,{message:"Group updated!"}),j&&(0,n.jsx)(f.default,{message:P}),y&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50 rounded-lg",children:(0,n.jsx)(p.MultiRingSpinner,{})}),(0,n.jsx)("div",{className:"relative w-full bg-navbar-bg border-primary border max-w-md rounded-lg shadow-2xl backdrop-blur-sm",onClick:e=>e.stopPropagation(),children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, var(--gradient-blue, #58a6ff), var(--gradient-purple, #a855f7))"},children:"Update Group"}),(0,n.jsx)("p",{style:{color:"var(--text-secondary, #7d8590)"},className:"text-sm",children:"Modify group name or members"})]}),(0,n.jsxs)("form",{onSubmit:T,className:"space-y-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"groupName",className:"block text-primary text-sm font-medium mb-2",children:"Group Name *"}),(0,n.jsx)("input",{type:"text",id:"groupName",required:!0,value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 rounded-lg border text-sm",style:{backgroundColor:"var(--tertiary-bg, #21262d)",borderColor:"var(--border, #30363d)",color:"var(--text-primary, #e6edf3)"},onFocus:e=>{e.target.style.borderColor="var(--gradient-blue, #58a6ff)",e.target.style.boxShadow="0 0 0 3px rgba(88, 166, 255, 0.1)"},onBlur:e=>{e.target.style.borderColor="var(--border, #30363d)",e.target.style.boxShadow="none"},disabled:y})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"friendsSelect",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary)"},children:"Group Members *"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>x(!b),className:"w-full px-4 py-3 rounded-lg border text-sm text-left flex items-center justify-between",style:{backgroundColor:"var(--tertiary-bg)",borderColor:v.length>0?"var(--gradient-blue)":"var(--border)",color:"var(--text-primary)"},disabled:y,children:[(0,n.jsx)("div",{className:"flex-1",children:0===v.length?(0,n.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Select friends to add..."}):(0,n.jsxs)("div",{className:"flex flex-wrap gap-1",children:[O.slice(0,2).map((e,t)=>(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(88, 166, 255, 0.1)",color:"var(--gradient-blue)"},children:e},t)),v.length>2&&(0,n.jsxs)("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.1)",color:"var(--gradient-purple)"},children:["+",v.length-2," more"]})]})}),(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:`transition-transform duration-200 ${b?"rotate-180":""}`,style:{color:"var(--text-secondary)"},children:(0,n.jsx)("path",{d:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"})})]}),b&&(0,n.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-lg border shadow-2xl z-[1000] max-h-60 overflow-y-auto",style:{backgroundColor:"var(--secondary-bg, #161b22)",borderColor:"var(--border, #30363d)"},children:i.map(e=>(0,n.jsxs)("div",{onClick:()=>k(e.id),className:"flex items-center gap-3 px-4 py-3 cursor-pointer transition-all",style:{backgroundColor:v.includes(e.id)?"rgba(88, 166, 255, 0.1)":"transparent"},children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",style:{backgroundColor:v.includes(e.id)?"var(--gradient-blue)":"var(--tertiary-bg)",color:v.includes(e.id)?"white":"var(--text-secondary)"},children:e.firstname[0]+e.lastname[0]}),(0,n.jsx)("span",{className:"flex-1 text-sm",style:{color:"var(--text-primary)"},children:e.firstname}),v.includes(e.id)&&(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",style:{color:"var(--gradient-blue)"},children:(0,n.jsx)("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})]},e.id))})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,n.jsx)("button",{type:"button",onClick:e,className:"flex-1 py-3 px-4 rounded-lg border font-medium text-sm",style:{backgroundColor:"var(--tertiary-bg)",borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),(0,n.jsxs)("button",{type:"submit",disabled:!m.trim()||v.length<2||y,className:"flex-1 py-3 px-4 rounded-lg font-medium text-sm relative overflow-hidden group",style:{background:!m.trim()||v.length<2||y?"var(--border)":"linear-gradient(90deg, var(--gradient-blue), var(--gradient-purple))",color:"white",border:"none",opacity:y?.5:1,cursor:y?"not-allowed":"pointer"},children:[(0,n.jsx)("span",{className:"relative z-10",children:"Update Group"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-20 transition-opacity duration-200",style:{backgroundImage:"linear-gradient(90deg, var(--gradient-purple), var(--gradient-orange))"}})]})]})]})]})})]})}},78936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var l=Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),a=0;a<n.length;a++)"default"!==n[a]&&l(r,t,n[a]);return o(r,t),r}}(),i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(43210)),u=r(73320),d=r(49513),c=i(r(17525)),f=i(r(72967)),p=r(27526);t.default=({handleClickOutside:e})=>{let t=(0,u.useFriendsStore)(e=>e.friends),{createChat:r,chats:l}=(0,d.useChatStore)(),o=t&&t.length>0?t:[],[a,i]=(0,s.useState)(""),[m,h]=(0,s.useState)([]),[v,g]=(0,s.useState)(!1),[b,x]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[E,S]=(0,s.useState)(!1),[j,C]=(0,s.useState)(""),P=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},I=async t=>{if(t.preventDefault(),a.trim()&&m.length>0){let t=a.trim(),n=m.length>=2;if(l.map(e=>e.name).includes(t)){C("A group with this name already exists. Please choose a different name."),S(!0),setTimeout(()=>S(!1),3e3);return}x(!0);try{await new Promise(e=>setTimeout(e,3e3));let l=await r(m,t,n);x(!1),l?(w(!0),setTimeout(()=>{w(!1),e()},2e3)):(C("Error creating group."),S(!0),setTimeout(()=>S(!1),3e3))}catch{x(!1),C("Error creating group."),S(!0),setTimeout(()=>S(!1),3e3)}}},k=o.filter(e=>m.includes(e.id)).map(e=>`${e.firstname} ${e.lastname}`);return(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(13, 17, 23, 0.8)"},onClick:e,children:[b&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50 rounded-lg",children:(0,n.jsx)(p.MultiRingSpinner,{})}),y&&(0,n.jsx)(c.default,{message:"Group created!"}),E&&(0,n.jsx)(f.default,{message:j||"Error creating group."}),(0,n.jsx)("div",{className:"relative w-full bg-navbar-bg border-primary border max-w-md rounded-lg shadow-2xl backdrop-blur-sm",onClick:e=>e.stopPropagation(),children:(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-2 bg-gradient-to-r bg-clip-text text-transparent",style:{backgroundImage:"linear-gradient(90deg, var(--gradient-blue, #58a6ff), var(--gradient-purple, #a855f7))"},children:"Create Group"}),(0,n.jsx)("p",{style:{color:"var(--text-secondary, #7d8590)"},className:"text-sm",children:"Start a new conversation with your team"})]}),(0,n.jsxs)("form",{onSubmit:I,className:"space-y-5",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"groupName",className:"block text-primary text-sm font-medium mb-2",children:"Group Name *"}),(0,n.jsx)("input",{type:"text",id:"groupName",name:"groupName",required:!0,value:a,onChange:e=>i(e.target.value),placeholder:"Enter group name...",className:"w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-red-500 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-opacity-50 text-sm",style:{backgroundColor:"var(--tertiary-bg, #21262d)",borderColor:"var(--border, #30363d)",color:"var(--text-primary, #e6edf3)"},onFocus:e=>{e.target.style.borderColor="var(--gradient-blue, #58a6ff)",e.target.style.boxShadow="0 0 0 3px rgba(88, 166, 255, 0.1)"},onBlur:e=>{e.target.style.borderColor="var(--border, #30363d)",e.target.style.boxShadow="none"},disabled:b})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"friendsSelect",className:"block text-sm font-medium mb-2",style:{color:"var(--text-primary, #e6edf3)"},children:"Add Friends *"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{type:"button",onClick:()=>g(!v),className:"w-full px-4 py-3 rounded-lg border transition-all duration-200 focus:outline-none text-sm text-left flex items-center justify-between",style:{backgroundColor:"var(--tertiary-bg, #21262d)",borderColor:m.length>0?"var(--gradient-blue, #58a6ff)":"var(--border, #30363d)",color:"var(--text-primary, #e6edf3)"},disabled:b,children:[(0,n.jsx)("div",{className:"flex-1",children:0===m.length?(0,n.jsx)("span",{style:{color:"var(--text-secondary, #7d8590)"},children:"Select friends to add..."}):(0,n.jsxs)("div",{className:"flex flex-wrap gap-1",children:[k.slice(0,2).map((e,t)=>(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--overlay-light, rgba(88, 166, 255, 0.1))",color:"var(--gradient-blue, #58a6ff)"},children:e},t)),m.length>2&&(0,n.jsxs)("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--overlay-purple, rgba(168, 85, 247, 0.1))",color:"var(--gradient-purple, #a855f7)"},children:["+",m.length-2," more"]})]})}),(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",className:`transition-transform duration-200 ${v?"rotate-180":""}`,style:{color:"var(--text-secondary, #7d8590)"},children:(0,n.jsx)("path",{d:"M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"})})]}),v&&(0,n.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 rounded-lg border shadow-2xl z-10 max-h-60 overflow-y-auto",style:{backgroundColor:"var(--secondary-bg, #161b22)",borderColor:"var(--border, #30363d)"},children:o.map(e=>(0,n.jsxs)("div",{onClick:()=>P(e.id),className:"flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-150 first:rounded-t-lg last:rounded-b-lg",style:{backgroundColor:m.includes(e.id)?"var(--overlay-light, rgba(88, 166, 255, 0.1))":"transparent"},onMouseEnter:t=>{m.includes(e.id)||(t.target.style.backgroundColor="var(--active-bg, #1c2128)")},onMouseLeave:t=>{m.includes(e.id)||(t.target.style.backgroundColor="transparent")},children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium",style:{backgroundColor:m.includes(e.id)?"var(--gradient-blue, #58a6ff)":"var(--tertiary-bg, #21262d)",color:m.includes(e.id)?"white":"var(--text-secondary, #7d8590)"},children:e.firstname[0]+e.lastname[0]}),(0,n.jsx)("span",{className:"flex-1 text-sm",style:{color:"var(--text-primary, #e6edf3)"},children:e.firstname}),m.includes(e.id)&&(0,n.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",style:{color:"var(--gradient-blue, #58a6ff)"},children:(0,n.jsx)("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})})]},e.id))})]})]}),(0,n.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,n.jsx)("button",{type:"button",onClick:e,className:"flex-1 py-3 px-4 rounded-lg border font-medium text-sm transition-all duration-200 hover:scale-[1.02]",style:{backgroundColor:"var(--tertiary-bg, #21262d)",borderColor:"var(--border, #30363d)",color:"var(--text-secondary, #7d8590)"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--active-bg, #1c2128)"},onMouseLeave:e=>{e.target.style.backgroundColor="var(--tertiary-bg, #21262d)"},disabled:b,children:"Cancel"}),(0,n.jsxs)("button",{type:"submit",disabled:!a.trim()||0===m.length||b,className:"flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-all duration-200 hover:scale-[1.02] relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",style:{background:!a.trim()||0===m.length||b?"var(--border, #30363d)":"linear-gradient(90deg, var(--gradient-blue, #58a6ff), var(--gradient-purple, #a855f7))",color:"var(--text-white, white)",border:"none"},children:[(0,n.jsx)("span",{className:"relative z-10",children:"Create Group"}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-20 transition-opacity duration-200",style:{backgroundImage:"linear-gradient(90deg, var(--gradient-purple, #a855f7), var(--gradient-orange, #f97316))"}})]})]})]})]})})]})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79578:(e,t,r)=>{Promise.resolve().then(r.bind(r,63144))},79646:e=>{"use strict";e.exports=require("child_process")},80559:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ppeli\\\\Documents\\\\chat-app\\\\frontend\\\\src\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\dashboard\\page.tsx","default")},81630:e=>{"use strict";e.exports=require("http")},82805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=r(38885),o=function(e){return e&&e.__esModule?e:{default:e}}(r(30474));t.default=({user:e,onMessage:t,onAdd:r,onRemove:a,isFriend:i,status:s})=>{let u=`${(e?.firstname?.[0]?.toUpperCase()||"")+(e?.lastname?.[0]?.toUpperCase()||"")}`;return(0,n.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gray-800/50 rounded-xl hover:bg-gray-800/70 transition-colors",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-gradient-purple rounded-full flex items-center justify-center text-primary font-semibold",children:e.profilePicture?(0,n.jsx)(o.default,{width:80,height:80,src:e.profilePicture,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):u}),(0,n.jsx)("div",{className:`absolute bottom-0 right-0 w-3 h-3 ${(0,l.getStatusColor)(s)} border-2 border-primary rounded-full`})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,n.jsx)("div",{className:"font-semibold text-primary",children:e.firstname}),(0,n.jsx)("div",{className:"flex flex-col gap-2",children:i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>t?.(e.id),className:"px-3 py-1 bg-[#58a6ff] text-primary  rounded-lg hover:bg-blue-700 transition-colors text-xs",children:"Message"}),a&&(0,n.jsx)("button",{onClick:()=>a(e.id),className:"px-3 py-1 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors text-xs",children:"Remove"})]}):r&&(0,n.jsx)("button",{onClick:()=>r(e.id),className:"px-3 py-1 bg-green-600 text-primary rounded-lg hover:bg-green-700 transition-colors text-xs",children:"Add Friend"})})]})]})}},83997:e=>{"use strict";e.exports=require("tty")},85893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0}),t.default=({size:e=24,color:t="currentColor"})=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:t,width:e,height:e,className:"cursor-pointer",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a4 4 0 00-4-4h-1m-8 6h5v-2a4 4 0 00-4-4H7m6-6a4 4 0 11-8 0 4 4 0 018 0zm6 0a4 4 0 11-8 0 4 4 0 018 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v8m4-4H8"})]})},89513:(e,t,r)=>{"use strict";e.exports=r(94041).vendored.contexts.HeadManagerContext},91645:e=>{"use strict";e.exports=require("net")},94247:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useProfileStore=void 0;let n=r(86249),l=function(e){return e&&e.__esModule?e:{default:e}}(r(63709)),o=r(77453);l.default.defaults.withCredentials=!0,l.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useProfileStore=(0,n.create)()((0,o.devtools)(e=>({user:null,isLoading:!1,error:null,message:null,getProfile:async()=>{e({isLoading:!0,error:null,message:null});try{let t=await l.default.get("/profile");e({user:t.data.user,message:null,isLoading:!1})}catch(t){e({error:t.response?.data?.error||t.message})}finally{e({isLoading:!1})}},updateProfile:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await l.default.put("/profile",t),n=await l.default.get("/profile");e({user:n.data.user,message:r.data.message})}catch(t){e({error:t.response?.data?.error||t.message})}finally{e({isLoading:!1})}},changePassword:async(t,r)=>{e({isLoading:!0,error:null,message:null});try{let n=await l.default.put("/profile/change-password",{currentPassword:t,newPassword:r});return e({message:n.data.message}),n.data}catch(r){let t=r.response?.data?.error||r.response?.data?.message||r.message;throw e({error:t}),Error(t)}finally{e({isLoading:!1})}},forgotPassword:async t=>{e({isLoading:!0,error:null,message:null});try{let r=await l.default.post("/profile/forget-password",{email:t});e({message:r.data.message})}catch(t){e({error:t.response?.data?.error||t.message})}finally{e({isLoading:!1})}},resetPassword:async({email:t,token:r,newPassword:n})=>{e({isLoading:!0,error:null,message:null});try{let o=await l.default.post("/profile/reset-password",{email:t,token:r,newPassword:n});e({message:o.data.message})}catch(t){e({error:t.response?.data?.error||t.message})}finally{e({isLoading:!1})}},uploadProfilePicture:async r=>{e({isLoading:!0,error:null,message:null});let n=new FormData;n.append("image",r);try{let r=await l.default.post("/profile/upload-profile-picture",n,{headers:{"Content-Type":"multipart/form-data"}});e({message:r.data.message}),await t.useProfileStore.getState().getProfile()}catch(t){e({error:t.response?.data?.error||t.message})}finally{e({isLoading:!1})}},clearState:()=>e({isLoading:!1,error:null,message:null})})))},94655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0}),t.default=({activeTab:e,onTabChange:t})=>{let r=t=>`px-4 py-2 rounded-t-xl rounded-bl-xl cursor-pointer transition-colors duration-200 text-primary ${e===t?"bg-gradient-purple":"bg-grey hover:bg-[#21262d]"}`;return(0,n.jsx)("nav",{className:"bg-[#0d1117] border-b border-primary text-sm md:text-base",children:(0,n.jsxs)("ul",{className:"flex justify-between items-center px-3 py-2 gap-2",children:[(0,n.jsx)("li",{onClick:()=>t("all"),className:r("all"),children:"All Users"}),(0,n.jsx)("li",{onClick:()=>t("online"),className:r("online"),children:"Online Friends"}),(0,n.jsx)("li",{onClick:()=>t("friends"),className:r("friends"),children:"My Friends"})]})})}},94735:e=>{"use strict";e.exports=require("events")},97829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let l=r(43210),o=r(38031),a=r(76310),i=function(e){return e&&e.__esModule?e:{default:e}}(r(30474));t.default=()=>{let{uploadStory:e,setUploadModalOpen:t,myStoryGroup:r,fetchMyStories:s,getStoryViewers:u,loading:d,error:c,deleteStory:f}=(0,o.useStoryStore)(),[p,m]=(0,l.useState)("view"),[h,v]=(0,l.useState)("text"),[g,b]=(0,l.useState)(""),[x,y]=(0,l.useState)(null),[w,E]=(0,l.useState)(null),[S,j]=(0,l.useState)(!1),C=(0,l.useRef)(null),[P,I]=(0,l.useState)({}),[k,T]=(0,l.useState)(!1),[O,N]=(0,l.useState)(null);(0,l.useEffect)(()=>{s()},[s]),(0,l.useEffect)(()=>{(async()=>{if(r&&r.stories){let e={};await Promise.all(r.stories.map(async t=>{let r=await u(t.id);e[t.id]=Array.isArray(r)?r:[]})),I(e)}})()},[r,u]);let M=e=>{y(e),E(URL.createObjectURL(e))},R=async()=>{if("text"===h&&!g.trim()||"image"===h&&!x)return;j(!0);let r=new FormData;r.append("type",h),"text"===h&&r.append("content",g),"image"===h&&x&&r.append("image",x);try{await e(r),t(!1),b(""),y(null),E(null)}catch(e){console.error("Upload failed:",e)}finally{j(!1)}},F=async e=>{await f(e),I(t=>{let r={...t};return delete r[e],r}),console.log("Delete story:",e)},D=e=>{let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/36e5);return r<1?"Just now":r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`},_=r?.stories||[],A=async e=>{let t=await u(e);I(r=>({...r,[e]:Array.isArray(t)?t:[]})),N(e),T(!0)};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-gray-900 rounded-2xl w-full max-w-md h-[600px] text-white relative overflow-hidden border border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Your Stories"}),(0,n.jsx)("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white p-2 hover:bg-gray-800 rounded-full transition-all",children:(0,n.jsx)(a.X,{size:20})})]}),(0,n.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,n.jsxs)("button",{onClick:()=>m("view"),className:`flex-1 px-6 py-3 text-sm font-medium transition-all ${"view"===p?"text-blue-400 border-b-2 border-blue-400 bg-blue-400/10":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[(0,n.jsx)(a.Eye,{size:16,className:"inline mr-2"}),"View Stories"]}),(0,n.jsxs)("button",{onClick:()=>m("upload"),className:`flex-1 px-6 py-3 text-sm font-medium transition-all ${"upload"===p?"text-blue-400 border-b-2 border-blue-400 bg-blue-400/10":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[(0,n.jsx)(a.Plus,{size:16,className:"inline mr-2"}),"Add Story"]})]}),(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:"view"===p?(0,n.jsx)("div",{className:"h-full overflow-y-auto p-6",children:d?(0,n.jsx)("p",{className:"text-center text-gray-400",children:"Loading..."}):c?(0,n.jsx)("p",{className:"text-center text-red-500",children:c}):0===_.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mb-4",children:(0,n.jsx)(a.Camera,{size:32,className:"text-gray-400"})}),(0,n.jsx)("p",{className:"text-gray-400 mb-2",children:"No stories yet"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Share your first story with friends"}),(0,n.jsx)("button",{onClick:()=>m("upload"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full transition-all",children:"Create Story"})]}):(0,n.jsx)("div",{className:"space-y-4 overflow-y-auto max-h-[400px] scrollbar-thin",children:_.map(e=>(0,n.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-sm",children:"\uD83D\uDC64"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium text-sm",children:"Your Story"}),(0,n.jsx)("p",{className:"text-gray-400 text-xs",children:D(e.createdAt)})]})]}),(0,n.jsx)("button",{onClick:()=>F(e.id),className:"text-gray-400 hover:text-red-400 p-1 hover:bg-gray-700 rounded transition-all",children:(0,n.jsx)(a.Trash2,{size:16})})]}),"text"===e.type?(0,n.jsx)("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg p-4 mb-3",children:(0,n.jsx)("p",{className:"text-white text-center font-medium",children:e.content})}):(0,n.jsx)("div",{className:"relative aspect-[3/4] rounded-lg overflow-hidden mb-3",children:(0,n.jsx)(i.default,{src:e.content,fill:!0,alt:"Story",className:"object-cover"})}),(0,n.jsx)("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:(0,n.jsxs)("button",{onClick:()=>A(e.id),className:"flex items-center gap-1",children:[(0,n.jsx)(a.Eye,{size:14}),(0,n.jsxs)("span",{children:[P[e.id]?.length??0," views"]})]})})]},e.id))})}):(0,n.jsxs)("div",{className:"h-full flex flex-col p-6",children:[(0,n.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,n.jsxs)("button",{onClick:()=>{v("text"),y(null),E(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl transition-all ${"text"===h?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[(0,n.jsx)(a.Type,{size:18}),(0,n.jsx)("span",{className:"font-medium",children:"Text"})]}),(0,n.jsxs)("button",{onClick:()=>{v("image"),b("")},className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl transition-all ${"image"===h?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[(0,n.jsx)(a.ImageIcon,{size:18}),(0,n.jsx)("span",{className:"font-medium",children:"Image"})]})]}),(0,n.jsx)("div",{className:"flex-1 mb-6",children:"text"===h?(0,n.jsxs)("div",{className:"h-full",children:[(0,n.jsx)("textarea",{value:g,onChange:e=>b(e.target.value),className:"w-full h-full bg-gray-800 border border-gray-700 rounded-xl p-4 text-white placeholder-gray-400 resize-none focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Share what's on your mind...",maxLength:280}),(0,n.jsx)("div",{className:"flex justify-between items-center mt-2",children:(0,n.jsxs)("span",{className:"text-xs text-gray-400",children:[g.length,"/280 characters"]})})]}):(0,n.jsxs)("div",{className:"h-full",children:[(0,n.jsx)("input",{ref:C,type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&M(t)},className:"hidden"}),w?(0,n.jsxs)("div",{className:"relative h-full rounded-xl overflow-hidden",children:[(0,n.jsx)(i.default,{src:w,fill:!0,alt:"Preview",className:"object-cover"}),(0,n.jsx)("button",{onClick:()=>{y(null),E(null)},className:"absolute top-3 right-3 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-all",children:(0,n.jsx)(a.X,{size:16})})]}):(0,n.jsxs)("div",{onClick:()=>C.current?.click(),className:"h-full border-2 border-dashed border-gray-600 rounded-xl flex flex-col items-center justify-center cursor-pointer hover:border-gray-500 hover:bg-gray-800/50 transition-all",children:[(0,n.jsx)(a.Camera,{size:48,className:"text-gray-400 mb-4"}),(0,n.jsx)("p",{className:"text-gray-400 font-medium mb-2",children:"Choose a photo"}),(0,n.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Tap to select an image from your device"})]})]})}),(0,n.jsx)("button",{onClick:R,disabled:S||"text"===h&&!g.trim()||"image"===h&&!x,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-4 rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Uploading..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Upload,{size:20}),"Share Story"]})})]})}),k&&null!==O&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black/90 z-20 flex items-end",children:(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto bg-gray-900 rounded-t-3xl p-6 max-h-96 overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("h3",{className:"text-white font-semibold",children:["Viewed by ",P[O]?.length??0]}),(0,n.jsx)("button",{onClick:()=>T(!1),className:"text-white/70 hover:text-white p-1",children:(0,n.jsx)(a.X,{size:20})})]}),(0,n.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[(P[O]||[]).map(e=>(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-lg",children:[e.firstname?.[0]?.toUpperCase(),e.lastname?.[0]?.toUpperCase()]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"text-white font-medium text-sm",children:[e.firstname," ",e.lastname]}),(0,n.jsx)("p",{className:"text-gray-400 text-xs",children:new Date(e.viewedAt).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})},e.id)),0===(P[O]||[]).length&&(0,n.jsx)("div",{className:"text-center text-gray-400",children:"No viewers yet"})]})]})})]})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[447,524,658,407,53],()=>r(44040));module.exports=n})();