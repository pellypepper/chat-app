exports.id=480,exports.ids=[480],exports.modules={1983:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687),n=r(43210);let o=({message:e,handleTimeout:t,handleSendResetLink:r})=>{let[o,i]=(0,n.useState)(!0),l=()=>{i(!1),t&&t()};return o?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,s.jsx)("button",{onClick:l,className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-red-600 to-red-500 text-white text-2xl mb-4",children:"!"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Message Failed"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:e})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)("button",{onClick:l,className:"px-6 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:r,className:"px-6 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Retry"})]})]})}):null}},5137:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var s=r(26787),n=r(51060),o=r(59350);n.A.defaults.withCredentials=!0,n.A.defaults.baseURL="https://chat-app-tk-blg.fly.dev";let i=(0,s.v)()((0,o.lt)(e=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,getSession:async()=>{try{let t=(await n.A.get("/login/user",{withCredentials:!0})).data.user;e({user:t,isAuthenticated:t?.verified??!0,isLoading:!1,error:null})}catch(t){try{await n.A.post("/login/refresh",{},{withCredentials:!0});let t=(await n.A.get("/login/user",{withCredentials:!0})).data.user;e({user:t,isAuthenticated:t?.verified??!0,isLoading:!1,error:null})}catch(t){e({user:null,isAuthenticated:!1,error:"Session expired"})}}},login:async({email:t,password:r})=>{e({isLoading:!0,error:null});try{let s=await n.A.post("/login",{email:t,password:r});e({user:s.data.user,isAuthenticated:s.data.user?.verified??!1})}catch(t){e({error:t.response?.data?.message||t.message})}finally{e({isLoading:!1})}},googleLogin:()=>{window.location.href="login/google"},logout:async()=>{e({isLoading:!0,error:null});try{await n.A.post("/login/logout"),e({user:null,isAuthenticated:!1,error:null})}catch(t){e({error:t.response?.data?.message||t.message})}finally{e({isLoading:!1})}},reset:()=>e({user:null,isLoading:!1,error:null})})))},5991:()=>{},12644:(e,t,r)=>{"use strict";r.d(t,{H5:()=>n});var s=r(60687);let n=({size:e="md",className:t=""})=>(0,s.jsxs)("div",{className:`relative ${{sm:"w-6 h-6",md:"w-10 h-10",lg:"w-16 h-16"}[e]} ${t}`,children:[(0,s.jsx)("div",{className:"absolute inset-0 border-2 border-transparent border-t-[#58a6ff] rounded-full animate-spin"}),(0,s.jsx)("div",{className:"absolute top-1 left-1 right-1 bottom-1 border-2 border-transparent border-t-[#a855f7] rounded-full animate-spin-reverse",style:{animationDuration:"1.5s"}}),(0,s.jsx)("div",{className:"absolute top-2 left-2 right-2 bottom-2 border-2 border-transparent border-t-[#f97316] rounded-full animate-spin",style:{animationDuration:"2s"}})]})},15041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(60687);r(44263);var n=r(43210),o=r(49680),i=r(5137);function l({children:e}){let[t,r]=(0,n.useState)(!1);(0,n.useMemo)(()=>({isOpen:t,open:()=>r(!0),close:()=>r(!1)}),[t]);let{user:l}=(0,i.n)();return(0,s.jsx)("html",{lang:"en",className:"scroll-smooth",children:(0,s.jsx)("body",{children:(0,s.jsx)(o.F,{userId:l?.id,children:e})})})}},44263:()=>{},45141:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(60687),n=r(16189),o=r(43210),i=r.n(o);let l=({message:e,showContinueButton:t,handleTimeout:r,url:o,tempState:l})=>{let a=(0,n.useRouter)(),[d,c]=i().useState(!0);return d?(0,s.jsx)("div",{id:"success-popup",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-gray-800 text-primary rounded-2xl p-8 max-w-md w-full relative shadow-lg",children:[(0,s.jsx)("button",{onClick:()=>{c(!1),r&&r()},className:"absolute top-3 right-4 text-2xl text-white hover:text-red-400",children:"\xd7"}),(0,s.jsxs)("div",{className:"flex flex-col items-center success-popup",children:[(0,s.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white text-3xl mb-4",children:"âœ“"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Success!"}),(0,s.jsx)("p",{className:"text-sm text-gray-300 text-center",children:e})]}),(0,s.jsxs)("svg",{className:"w-16 h-16 mt-6 mx-auto text-green-500",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("circle",{cx:"26",cy:"26",r:"25",stroke:"currentColor",strokeWidth:"2"}),(0,s.jsx)("path",{d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),t&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-3 rounded-lg text-white font-semibold hover:shadow-lg transition",onClick:()=>{r&&r();let e=o?l?`${o}?tempState=${encodeURIComponent(l)}`:o:"/";a.push(e)},children:"Continue"})})]})}):null}},49680:(e,t,r)=>{"use strict";r.d(t,{F:()=>a,c:()=>l});var s=r(60687),n=r(43210),o=r(40463);let i=(0,n.createContext)({socket:null,socketConnected:!1}),l=()=>(0,n.useContext)(i),a=({userId:e,children:t})=>{let[r,l]=(0,n.useState)(!1),a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(e)return a.current&&(a.current.disconnect(),a.current=null),a.current=(0,o.Ay)("http://localhost:4000",{query:{userId:e.toString()},transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4}),a.current.on("connect",()=>l(!0)),a.current.on("disconnect",()=>l(!1)),a.current.on("connect_error",()=>l(!1)),()=>{a.current&&(a.current.disconnect(),a.current=null)}},[e]),(0,s.jsx)(i.Provider,{value:{socket:a.current,socketConnected:r},children:t})}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(31658);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74845:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},77408:(e,t,r)=>{Promise.resolve().then(r.bind(r,94431))},80702:()=>{},90432:(e,t,r)=>{Promise.resolve().then(r.bind(r,15041))},93405:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ppeli\\\\Documents\\\\chat-app\\\\frontend\\\\src\\\\app\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\layout.tsx","default")}};