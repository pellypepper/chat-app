exports.id=53,exports.ids=[53],exports.modules={530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var o=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),l=0;l<n.length;l++)"default"!==n[l]&&o(r,t,n[l]);return s(r,t),r}}();Object.defineProperty(t,"__esModule",{value:!0}),t.SocketProvider=t.useSocketContext=void 0;let i=l(r(43210)),a=function(e){return e&&e.__esModule?e:{default:e}}(r(94839)),c=(0,i.createContext)({socket:null,socketConnected:!1});t.useSocketContext=()=>(0,i.useContext)(c),t.SocketProvider=({userId:e,children:t})=>{let[r,o]=(0,i.useState)(!1),s=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(e)return s.current&&(s.current.disconnect(),s.current=null),s.current=(0,a.default)("http://localhost:4000",{query:{userId:e.toString()},transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,timeout:2e4}),s.current.on("connect",()=>o(!0)),s.current.on("disconnect",()=>o(!1)),s.current.on("connect_error",()=>o(!1)),()=>{s.current&&(s.current.disconnect(),s.current=null)}},[e]),(0,n.jsx)(c.Provider,{value:{socket:s.current,socketConnected:r},children:t})}},5991:()=>{},15041:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r(60687);r(44263);var o=r(43210),s=r(530),l=r(29631);function i({children:e}){let[t,r]=(0,o.useState)(!1);(0,o.useMemo)(()=>({isOpen:t,open:()=>r(!0),close:()=>r(!1)}),[t]);let{user:i}=(0,l.useAuthStore)();return(0,n.jsx)("html",{lang:"en",className:"scroll-smooth",children:(0,n.jsx)("body",{children:(0,n.jsx)(s.SocketProvider,{userId:i?.id,children:e})})})}},17525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);Object.defineProperty(t,"__esModule",{value:!0});let o=r(16189),s=function(e){return e&&e.__esModule?e:{default:e}}(r(43210));t.default=({message:e,showContinueButton:t,handleTimeout:r,url:l,tempState:i})=>{let a=(0,o.useRouter)(),[c,u]=s.default.useState(!0);return c?(0,n.jsx)("div",{id:"success-popup",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-gray-800 text-primary rounded-2xl p-8 max-w-md w-full relative shadow-lg",children:[(0,n.jsx)("button",{onClick:()=>{u(!1),r&&r()},className:"absolute top-3 right-4 text-2xl text-white hover:text-red-400",children:"\xd7"}),(0,n.jsxs)("div",{className:"flex flex-col items-center success-popup",children:[(0,n.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-br from-green-500 to-green-600 text-white text-3xl mb-4",children:"âœ“"}),(0,n.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Success!"}),(0,n.jsx)("p",{className:"text-sm text-gray-300 text-center",children:e})]}),(0,n.jsxs)("svg",{className:"w-16 h-16 mt-6 mx-auto text-green-500",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"26",cy:"26",r:"25",stroke:"currentColor",strokeWidth:"2"}),(0,n.jsx)("path",{d:"M14.1 27.2l7.1 7.2 16.7-16.8",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}),t&&(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("button",{className:"bg-gradient-to-r from-green-500 to-green-600 px-6 py-3 rounded-lg text-white font-semibold hover:shadow-lg transition",onClick:()=>{r&&r();let e=l?i?`${l}?tempState=${encodeURIComponent(i)}`:l:"/";a.push(e)},children:"Continue"})})]})}):null}},29631:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAuthStore=void 0;let n=r(86249),o=function(e){return e&&e.__esModule?e:{default:e}}(r(63709)),s=r(77453);o.default.defaults.withCredentials=!0,o.default.defaults.baseURL="https://chat-app-tk-blg.fly.dev",t.useAuthStore=(0,n.create)()((0,s.devtools)(e=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,getSession:async()=>{try{let t=(await o.default.get("/login/user",{withCredentials:!0})).data.user;e({user:t,isAuthenticated:t?.verified??!0,isLoading:!1,error:null})}catch(t){try{await o.default.post("/login/refresh",{},{withCredentials:!0});let t=(await o.default.get("/login/user",{withCredentials:!0})).data.user;e({user:t,isAuthenticated:t?.verified??!0,isLoading:!1,error:null})}catch(t){e({user:null,isAuthenticated:!1,error:"Session expired"})}}},login:async({email:t,password:r})=>{e({isLoading:!0,error:null});try{let n=await o.default.post("/login",{email:t,password:r});e({user:n.data.user,isAuthenticated:n.data.user?.verified??!1})}catch(t){e({error:t.response?.data?.message||t.message})}finally{e({isLoading:!1})}},googleLogin:()=>{window.location.href="login/google"},logout:async()=>{e({isLoading:!0,error:null});try{await o.default.post("/login/logout"),e({user:null,isAuthenticated:!1,error:null})}catch(t){e({error:t.response?.data?.message||t.message})}finally{e({isLoading:!1})}},reset:()=>e({user:null,isLoading:!1,error:null})})))},44263:()=>{},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},72967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(60687);var o=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},s=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},l=function(){var e=function(t){return(e=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=e(t),l=0;l<n.length;l++)"default"!==n[l]&&o(r,t,n[l]);return s(r,t),r}}();Object.defineProperty(t,"__esModule",{value:!0});let i=l(r(43210));t.default=({message:e,handleTimeout:t,handleSendResetLink:r})=>{let[o,s]=(0,i.useState)(!0),l=()=>{s(!1),t&&t()};return o?(0,n.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,n.jsxs)("div",{className:"bg-[#161b22] w-[90%] max-w-md rounded-2xl p-6 shadow-lg relative",children:[(0,n.jsx)("button",{onClick:l,className:"absolute top-4 right-4 text-white text-2xl hover:text-red-500",children:"\xd7"}),(0,n.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,n.jsx)("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-gradient-to-br from-red-600 to-red-500 text-white text-2xl mb-4",children:"!"}),(0,n.jsx)("h2",{className:"text-xl font-semibold text-white mb-2",children:"Message Failed"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mb-6",children:e})]}),(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)("button",{onClick:l,className:"px-6 py-2 rounded-lg border border-gray-600 text-white bg-[#0d1117] hover:bg-[#1a1f2b] transition",children:"Cancel"}),(0,n.jsx)("button",{onClick:r,className:"px-6 py-2 rounded-lg text-white bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 shadow-md hover:shadow-lg transition",children:"Retry"})]})]})}):null}},74845:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},77408:(e,t,r)=>{Promise.resolve().then(r.bind(r,94431))},80702:()=>{},90432:(e,t,r)=>{Promise.resolve().then(r.bind(r,15041))},93405:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ppeli\\\\Documents\\\\chat-app\\\\frontend\\\\src\\\\app\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ppeli\\Documents\\chat-app\\frontend\\src\\app\\layout.tsx","default")}};